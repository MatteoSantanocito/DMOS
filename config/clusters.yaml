# ============================================================================
# DMOS Clusters Configuration - Carbon-Aware Version
# ============================================================================
# 
# Per la tesi: i cluster sono fisicamente tutti in LAN (192.168.1.x)
# ma SIMULANO deployment multi-regione per dimostrare carbon-awareness.
#
# Mapping regioni:
#   cluster1 (ms01) → DE  (Germania, ~350 gCO2/kWh, coal+gas+solar)
#   cluster2 (ms02) → FR  (Francia, ~80 gCO2/kWh, nuclear dominated)  
#   cluster3 (ms03) → PL  (Polonia, ~650 gCO2/kWh, coal dominated)
#
# Questo crea un range ampio di carbon intensity che rende visibile
# l'effetto della carbon-awareness sulle decisioni di scheduling.
# ============================================================================

clusters:
  - name: cluster1
    display_name: "EU-DE (ms01)"
    region: DE                    # <-- Region code per Electricity Maps
    location: Frankfurt
    ip: 192.168.1.245
    kubeconfig_path: ".kube/cluster1.yaml"
    
    resources:
      cpu_cores: 4
      memory_gb: 8
    
    pricing:
      cost_per_replica_hour: 0.12   # €/replica/hour (DE pricing)
    
    carbon:
      region_code: "DE"             # Electricity Maps zone code
      baseline_gco2_kwh: 350        # Fallback if API unavailable
    
    latency:
      baseline_ms: 2.0              # LAN latency (simulated)
      
  - name: cluster2
    display_name: "EU-FR (ms02)"
    region: FR                    # <-- Francia = molto green (nucleare)
    location: Paris
    ip: 192.168.1.246
    kubeconfig_path: ".kube/cluster2.yaml"
    
    resources:
      cpu_cores: 4
      memory_gb: 8
    
    pricing:
      cost_per_replica_hour: 0.15   # €/replica/hour (FR pricing, slightly higher)
    
    carbon:
      region_code: "FR"
      baseline_gco2_kwh: 80         # Francia: nucleare = molto basso
    
    latency:
      baseline_ms: 2.0
      
  - name: cluster3
    display_name: "EU-PL (ms03)"
    region: PL                    # <-- Polonia = alto carbone (carbone fossile)
    location: Warsaw
    ip: 192.168.1.247
    kubeconfig_path: ".kube/cluster3.yaml"
    
    resources:
      cpu_cores: 4
      memory_gb: 8
    
    pricing:
      cost_per_replica_hour: 0.08   # €/replica/hour (PL pricing, cheapest)
    
    carbon:
      region_code: "PL"
      baseline_gco2_kwh: 650        # Polonia: carbone fossile = molto alto
    
    latency:
      baseline_ms: 2.0

  # ── Global settings ────────────────────────────────────────────────────
global:
    scheduling_interval_seconds: 30
    score_request_timeout_seconds: 5
    score_agent_port: 8080