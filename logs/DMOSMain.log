2026-02-09 14:15:11 | INFO     | __main__:__init__:90 | Initializing DMOS Orchestrator...
2026-02-09 14:15:11 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 14:15:11 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 14:15:11 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 14:15:11 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 14:15:11 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 14:15:13 | INFO     | __main__:__init__:97 | üìä Metrics server started on :9090/metrics
2026-02-09 14:15:13 | ERROR    | src.k8s.client:__init__:44 | ‚ùå Failed to init cluster1: [Errno 2] No such file or directory: '/etc/rancher/k3s/k3s.yaml'
2026-02-09 14:15:13 | ERROR    | src.k8s.client:__init__:44 | ‚ùå Failed to init cluster2: [Errno 2] No such file or directory: '/etc/rancher/k3s/k3s.yaml'
2026-02-09 14:15:13 | ERROR    | src.k8s.client:__init__:44 | ‚ùå Failed to init cluster3: [Errno 2] No such file or directory: '/etc/rancher/k3s/k3s.yaml'
2026-02-09 14:15:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:15:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:15:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 14:15:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:15:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:15:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 14:15:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:15:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:15:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 14:15:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:15:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:15:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 14:15:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:15:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:15:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 14:15:13 | INFO     | __main__:__init__:127 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 14:15:13 | INFO     | __main__:run:347 | ‚úÖ Webhook server started
2026-02-09 14:15:13 | INFO     | __main__:worker_thread:326 | üë∑ Worker 0 started
2026-02-09 14:15:13 | INFO     | __main__:worker_thread:326 | üë∑ Worker 1 started
2026-02-09 14:15:13 | INFO     | __main__:worker_thread:326 | üë∑ Worker 2 started
2026-02-09 14:15:13 | INFO     | __main__:run:354 | ‚úÖ 3 workers started
2026-02-09 14:15:13 | INFO     | __main__:run:356 | 
======================================================================
2026-02-09 14:15:13 | INFO     | __main__:run:357 | DMOS Orchestrator Running (Event-Driven)
2026-02-09 14:15:13 | INFO     | __main__:run:358 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 14:15:13 | INFO     | __main__:run:359 | ======================================================================

2026-02-09 14:15:13 | INFO     | __main__:webhook_server:321 | üåê Starting webhook server on :8081...
2026-02-09 14:16:22 | INFO     | __main__:run:365 | 

Shutdown requested
2026-02-09 14:16:27 | INFO     | __main__:run:369 | Stopped
2026-02-09 14:19:29 | INFO     | __main__:__init__:90 | Initializing DMOS Orchestrator...
2026-02-09 14:19:29 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 14:19:29 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 14:19:29 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 14:19:29 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 14:19:29 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 14:19:30 | INFO     | __main__:__init__:97 | üìä Metrics server started on :9090/metrics
2026-02-09 14:19:30 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 14:19:31 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 14:19:31 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 14:19:31 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:19:31 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:19:31 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 14:19:31 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:19:31 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:19:31 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 14:19:31 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:19:31 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:19:31 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 14:19:31 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:19:31 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:19:31 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 14:19:31 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 14:19:31 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 14:19:31 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 14:19:31 | INFO     | __main__:__init__:127 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 14:19:31 | INFO     | __main__:run:347 | ‚úÖ Webhook server started
2026-02-09 14:19:31 | INFO     | __main__:worker_thread:326 | üë∑ Worker 0 started
2026-02-09 14:19:31 | INFO     | __main__:worker_thread:326 | üë∑ Worker 1 started
2026-02-09 14:19:31 | INFO     | __main__:worker_thread:326 | üë∑ Worker 2 started
2026-02-09 14:19:31 | INFO     | __main__:run:354 | ‚úÖ 3 workers started
2026-02-09 14:19:31 | INFO     | __main__:run:356 | 
======================================================================
2026-02-09 14:19:31 | INFO     | __main__:run:357 | DMOS Orchestrator Running (Event-Driven)
2026-02-09 14:19:31 | INFO     | __main__:run:358 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 14:19:31 | INFO     | __main__:run:359 | ======================================================================

2026-02-09 14:19:31 | INFO     | __main__:webhook_server:321 | üåê Starting webhook server on :8081...
2026-02-09 15:34:02 | INFO     | __main__:run:365 | 

Shutdown requested
2026-02-09 15:34:07 | INFO     | __main__:run:369 | Stopped
2026-02-09 15:34:40 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 15:34:40 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 15:34:40 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 15:34:40 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 15:34:40 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 15:34:40 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 15:34:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 15:34:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 15:34:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 15:34:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:34:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:34:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 15:34:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:34:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:34:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 15:34:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:34:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:34:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 15:34:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:34:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:34:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 15:34:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:34:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:34:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 15:34:42 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 15:34:42 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 15:34:42 | INFO     | __main__:run:372 | ‚úÖ Webhook server started
2026-02-09 15:34:42 | INFO     | __main__:periodic_check_thread:235 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 15:34:42 | INFO     | __main__:run:378 | ‚úÖ Periodic traffic checker started
2026-02-09 15:34:42 | INFO     | __main__:periodic_check_thread:236 |    High threshold: 30 req/s
2026-02-09 15:34:42 | INFO     | __main__:worker_thread:353 | üë∑ Worker 0 started
2026-02-09 15:34:42 | INFO     | __main__:periodic_check_thread:237 |    Low threshold: 10 req/s
2026-02-09 15:34:42 | INFO     | __main__:worker_thread:353 | üë∑ Worker 1 started
2026-02-09 15:34:42 | INFO     | __main__:worker_thread:353 | üë∑ Worker 2 started
2026-02-09 15:34:42 | INFO     | __main__:run:384 | ‚úÖ 3 workers started
2026-02-09 15:34:42 | INFO     | __main__:run:386 | 
======================================================================
2026-02-09 15:34:42 | INFO     | __main__:run:387 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 15:34:42 | INFO     | __main__:webhook_server:349 | üåê Starting webhook server on :8081...
2026-02-09 15:34:42 | INFO     | __main__:run:388 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 15:34:42 | INFO     | __main__:run:389 | Metrics: http://localhost:9090/metrics
2026-02-09 15:34:42 | INFO     | __main__:run:390 | Polling: Every 30s
2026-02-09 15:34:42 | INFO     | __main__:run:391 | ======================================================================

2026-02-09 15:34:42 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:35:12 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:35:42 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:36:12 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:36:43 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:37:13 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:37:43 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:38:13 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:38:43 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:39:13 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:39:44 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:40:14 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:40:44 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:41:14 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:41:44 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:42:14 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:42:45 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:43:15 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:43:45 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:44:15 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:44:45 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:45:15 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:45:38 | INFO     | __main__:manual_schedule:336 | üîß Manual trigger: frontend - schedule
2026-02-09 15:45:38 | INFO     | __main__:worker_thread:358 | üë∑ Worker 2: frontend
2026-02-09 15:45:38 | INFO     | __main__:process_event:225 | üîÑ Processing: schedule frontend
2026-02-09 15:45:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 15:45:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: manual)
2026-02-09 15:45:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 15:45:39 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:45:39 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-09 15:45:39 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-09 15:45:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.606, capacity=20, latency=87ms
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.588, capacity=20, latency=88ms
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.568, capacity=20, latency=91ms
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 15:45:39 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 15:45:39 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.606)
2026-02-09 15:45:39 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.606)
2026-02-09 15:45:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 15:45:39 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 15:45:39 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 15:45:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 15:45:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=100.0, predicted=100.0 | base=2, PD=+0, constrained=False
2026-02-09 15:45:39 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 15:45:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 15:45:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 15:45:45 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:46:16 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:46:46 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:47:16 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:47:46 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:48:16 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:48:29 | INFO     | __main__:run:397 | 

Shutdown requested
2026-02-09 15:48:39 | INFO     | __main__:run:401 | Stopped
2026-02-09 15:48:45 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 15:48:45 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 15:48:45 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 15:48:45 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 15:48:45 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 15:48:45 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 15:48:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 15:48:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 15:48:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 15:48:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:48:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:48:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 15:48:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:48:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:48:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 15:48:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:48:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:48:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 15:48:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:48:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:48:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 15:48:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 15:48:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 15:48:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 15:48:47 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 15:48:47 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 15:48:47 | INFO     | __main__:run:395 | ‚úÖ Webhook server started
2026-02-09 15:48:47 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 15:48:47 | INFO     | __main__:run:401 | ‚úÖ Periodic traffic checker started
2026-02-09 15:48:47 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 15:48:47 | INFO     | __main__:worker_thread:376 | üë∑ Worker 0 started
2026-02-09 15:48:47 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 15:48:47 | INFO     | __main__:worker_thread:376 | üë∑ Worker 1 started
2026-02-09 15:48:47 | INFO     | __main__:worker_thread:376 | üë∑ Worker 2 started
2026-02-09 15:48:47 | INFO     | __main__:webhook_server:372 | üåê Starting webhook server on :8081...
2026-02-09 15:48:47 | INFO     | __main__:run:407 | ‚úÖ 3 workers started
2026-02-09 15:48:47 | INFO     | __main__:run:409 | 
======================================================================
2026-02-09 15:48:47 | INFO     | __main__:run:410 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 15:48:47 | INFO     | __main__:run:411 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 15:48:47 | INFO     | __main__:run:412 | Metrics: http://localhost:9090/metrics
2026-02-09 15:48:47 | INFO     | __main__:run:413 | Polling: Every 30s
2026-02-09 15:48:47 | INFO     | __main__:run:414 | ======================================================================

2026-02-09 15:48:47 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:48:47 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:48:47 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:48:47 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:49:17 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:49:17 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:49:17 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:49:17 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:49:48 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:49:48 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:49:48 | INFO     | __main__:periodic_check_thread:266 |   Fallback: 1 replica ‚Üí assume HIGH load (50.0 req/s)
2026-02-09 15:49:48 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 50.0 req/s (replicas: 1)
2026-02-09 15:49:48 | INFO     | __main__:periodic_check_thread:277 | ‚ö†Ô∏è  frontend HIGH traffic (50.0 > 30)
2026-02-09 15:49:48 | INFO     | __main__:worker_thread:381 | üë∑ Worker 1: frontend
2026-02-09 15:49:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_50rps)
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 15:49:48 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:49:48 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.578, capacity=20, latency=85ms
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.541, capacity=20, latency=90ms
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.561, capacity=20, latency=91ms
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 15:49:48 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 15:49:48 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.578)
2026-02-09 15:49:48 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=95ms, winner_det=0ms)
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.578)
2026-02-09 15:49:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 15:49:48 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 15:49:48 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 15:49:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 15:49:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=100.0, predicted=100.0 | base=2, PD=+0, constrained=False
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-09 15:49:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 15:49:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.34s
2026-02-09 15:50:18 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:50:18 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:50:18 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:50:18 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:50:48 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:50:48 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:50:48 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:50:48 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:51:18 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:51:18 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:51:18 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:51:18 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:51:48 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:51:48 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:51:48 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:51:48 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:52:19 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:52:19 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:52:19 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:52:19 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:52:49 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:52:49 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:52:49 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:52:49 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:53:19 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:53:19 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:53:19 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:53:19 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:53:49 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:53:49 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:53:49 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:53:49 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:54:19 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:54:19 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:54:19 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:54:19 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 15:54:50 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 15:54:50 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 15:54:50 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 15:54:50 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:37:23 | ERROR    | src.metrics.prometheus_client:query:73 | Query error: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28istio_requests_total%7Bdestination_service_name%3D%22frontend%22%2C+destination_service_namespace%3D%22online-boutique%22%7D%5B5m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | ERROR    | src.metrics.prometheus_client:query:73 | Query error: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2C+namespace%3D%22online-boutique%22%7D%5B5m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:37:23 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:37:23 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: HTTPSConnectionPool(host='192.168.1.245', port=6443): Max retries exceeded with url: /apis/apps/v1/namespaces/online-boutique/deployments/frontend (Caused by NewConnectionError("HTTPSConnection(host='192.168.1.245', port=6443): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | INFO     | __main__:periodic_check_thread:266 |   Fallback: 1 replica ‚Üí assume HIGH load (50.0 req/s)
2026-02-09 19:37:23 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 50.0 req/s (replicas: 1)
2026-02-09 19:37:23 | INFO     | __main__:periodic_check_thread:277 | ‚ö†Ô∏è  frontend HIGH traffic (50.0 > 30)
2026-02-09 19:37:23 | INFO     | __main__:worker_thread:381 | üë∑ Worker 0: frontend
2026-02-09 19:37:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 19:37:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 19:37:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_50rps)
2026-02-09 19:37:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 19:37:23 | ERROR    | src.metrics.prometheus_client:query:73 | Query error: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28istio_requests_total%7Bdestination_service_name%3D%22frontend%22%2C+destination_service_namespace%3D%22online-boutique%22%7D%5B5m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | ERROR    | src.metrics.prometheus_client:query:73 | Query error: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2C+namespace%3D%22online-boutique%22%7D%5B5m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:37:23 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-09 19:37:23 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-09 19:37:23 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 19:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 19:37:23 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 19:37:23 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10065] Tentativo di operazione del socket verso un host non raggiungibile"))
2026-02-09 19:37:23 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-09 19:37:23 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-09 19:37:23 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-09 19:37:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-09 19:37:23 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-09 19:37:23 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-09 19:37:53 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:37:53 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:37:53 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:37:53 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:38:26 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:38:26 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:38:26 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:38:26 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:38:57 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:38:57 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:38:57 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:38:57 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:39:27 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:39:27 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:39:27 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:39:27 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:39:57 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:39:57 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:39:57 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:39:57 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:40:27 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:40:27 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:40:27 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:40:27 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:40:58 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:40:58 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:40:58 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:40:58 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:41:28 | WARNING  | src.metrics.prometheus_client:get_request_rate:189 | No request rate metrics found for service frontend
2026-02-09 19:41:28 | WARNING  | __main__:periodic_check_thread:251 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:41:28 | INFO     | __main__:periodic_check_thread:272 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:41:28 | INFO     | __main__:periodic_check_thread:274 | üìä frontend: 25.0 req/s (replicas: 2)
2026-02-09 19:41:33 | INFO     | __main__:run:420 | 

Shutdown requested
2026-02-09 19:41:43 | INFO     | __main__:run:424 | Stopped
2026-02-09 19:41:49 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:41:49 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:41:49 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:41:49 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:41:49 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:41:49 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:41:49 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:41:49 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:41:49 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:41:49 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:41:49 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:41:49 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:41:49 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:41:49 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:41:49 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:41:49 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:41:49 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:41:49 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:41:49 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:41:49 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:41:49 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:41:49 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:41:49 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:41:49 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:41:51 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:41:51 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:41:51 | INFO     | __main__:run:395 | ‚úÖ Webhook server started
2026-02-09 19:41:51 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:41:51 | INFO     | __main__:run:401 | ‚úÖ Periodic traffic checker started
2026-02-09 19:41:51 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:41:51 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:41:51 | INFO     | __main__:worker_thread:376 | üë∑ Worker 0 started
2026-02-09 19:41:51 | INFO     | __main__:worker_thread:376 | üë∑ Worker 1 started
2026-02-09 19:41:51 | INFO     | __main__:worker_thread:376 | üë∑ Worker 2 started
2026-02-09 19:41:51 | INFO     | __main__:run:407 | ‚úÖ 3 workers started
2026-02-09 19:41:51 | INFO     | __main__:run:409 | 
======================================================================
2026-02-09 19:41:51 | INFO     | __main__:run:410 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:41:51 | INFO     | __main__:run:411 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:41:51 | INFO     | __main__:run:412 | Metrics: http://localhost:9090/metrics
2026-02-09 19:41:51 | INFO     | __main__:run:413 | Polling: Every 30s
2026-02-09 19:41:51 | INFO     | __main__:webhook_server:372 | üåê Starting webhook server on :8081...
2026-02-09 19:41:51 | INFO     | __main__:run:414 | ======================================================================

2026-02-09 19:41:51 | ERROR    | __main__:periodic_check_thread:305 | Error in periodic check: 0
2026-02-09 19:42:21 | ERROR    | __main__:periodic_check_thread:305 | Error in periodic check: 0
2026-02-09 19:42:51 | ERROR    | __main__:periodic_check_thread:305 | Error in periodic check: 0
2026-02-09 19:43:21 | ERROR    | __main__:periodic_check_thread:305 | Error in periodic check: 0
2026-02-09 19:43:26 | INFO     | __main__:run:420 | 

Shutdown requested
2026-02-09 19:45:07 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:45:07 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:45:07 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:45:07 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:45:07 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:45:07 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:45:08 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:45:08 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:45:08 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:45:08 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:45:08 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:45:08 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:45:08 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:45:08 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:45:08 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:45:08 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:45:08 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:45:08 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:45:08 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:45:08 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:45:08 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:45:08 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:45:08 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:45:08 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:45:09 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:45:09 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:45:09 | INFO     | __main__:run:399 | ‚úÖ Webhook server started
2026-02-09 19:45:09 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:45:09 | INFO     | __main__:run:405 | ‚úÖ Periodic traffic checker started
2026-02-09 19:45:09 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:45:09 | INFO     | __main__:worker_thread:380 | üë∑ Worker 0 started
2026-02-09 19:45:09 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:45:09 | INFO     | __main__:worker_thread:380 | üë∑ Worker 1 started
2026-02-09 19:45:09 | INFO     | __main__:worker_thread:380 | üë∑ Worker 2 started
2026-02-09 19:45:09 | INFO     | __main__:run:411 | ‚úÖ 3 workers started
2026-02-09 19:45:09 | INFO     | __main__:run:413 | 
======================================================================
2026-02-09 19:45:09 | INFO     | __main__:run:414 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:45:09 | INFO     | __main__:run:415 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:45:09 | INFO     | __main__:webhook_server:376 | üåê Starting webhook server on :8081...
2026-02-09 19:45:09 | INFO     | __main__:run:416 | Metrics: http://localhost:9090/metrics
2026-02-09 19:45:09 | INFO     | __main__:run:417 | Polling: Every 30s
2026-02-09 19:45:09 | INFO     | __main__:run:418 | ======================================================================

2026-02-09 19:45:09 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:45:39 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:46:09 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:46:33 | INFO     | __main__:run:424 | 

Shutdown requested
2026-02-09 19:46:39 | INFO     | __main__:run:428 | Stopped
2026-02-09 19:46:44 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:46:44 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:46:44 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:46:44 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:46:44 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:46:44 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:46:44 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:46:44 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:46:44 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:46:44 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:46:44 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:46:44 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:46:44 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:46:44 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:46:44 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:46:44 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:46:44 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:46:44 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:46:44 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:46:44 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:46:44 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:46:44 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:46:44 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:46:44 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:46:45 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:46:45 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:46:45 | INFO     | __main__:run:399 | ‚úÖ Webhook server started
2026-02-09 19:46:45 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:46:45 | INFO     | __main__:run:405 | ‚úÖ Periodic traffic checker started
2026-02-09 19:46:45 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:46:45 | INFO     | __main__:worker_thread:380 | üë∑ Worker 0 started
2026-02-09 19:46:45 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:46:45 | INFO     | __main__:worker_thread:380 | üë∑ Worker 1 started
2026-02-09 19:46:45 | INFO     | __main__:worker_thread:380 | üë∑ Worker 2 started
2026-02-09 19:46:45 | INFO     | __main__:run:411 | ‚úÖ 3 workers started
2026-02-09 19:46:45 | INFO     | __main__:run:413 | 
======================================================================
2026-02-09 19:46:45 | INFO     | __main__:webhook_server:376 | üåê Starting webhook server on :8081...
2026-02-09 19:46:45 | INFO     | __main__:run:414 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:46:45 | INFO     | __main__:run:415 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:46:45 | INFO     | __main__:run:416 | Metrics: http://localhost:9090/metrics
2026-02-09 19:46:45 | INFO     | __main__:run:417 | Polling: Every 30s
2026-02-09 19:46:45 | INFO     | __main__:run:418 | ======================================================================

2026-02-09 19:46:45 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:47:15 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:47:45 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:48:15 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:48:45 | ERROR    | __main__:periodic_check_thread:309 | Error in periodic check: 0
2026-02-09 19:49:04 | INFO     | __main__:run:424 | 

Shutdown requested
2026-02-09 19:49:14 | INFO     | __main__:run:428 | Stopped
2026-02-09 19:49:20 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:49:20 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:49:20 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:49:20 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:49:20 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:49:20 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:49:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:49:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:49:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:49:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:49:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:49:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:49:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:49:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:49:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:49:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:49:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:49:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:49:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:49:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:49:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:49:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:49:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:49:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:49:21 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:49:21 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:49:21 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 19:49:21 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:49:21 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 19:49:21 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:49:21 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:49:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 19:49:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 19:49:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 19:49:21 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 19:49:21 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 19:49:21 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:49:21 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:49:21 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 19:49:21 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 19:49:21 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 19:49:21 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 19:49:21 | ERROR    | __main__:periodic_check_thread:310 | Error in periodic check: 0
2026-02-09 19:49:21 | ERROR    | __main__:periodic_check_thread:311 | Traceback (most recent call last):
  File "C:\Users\matte\Desktop\Voda\src\dmos_main.py", line 245, in periodic_check_thread
    current_traffic = self.prometheus.get_request_rate(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\matte\Desktop\Voda\src\metrics\prometheus_client.py", line 186, in get_request_rate
    rps = float(result[0]['value'][1])
                ~~~~~~^^^
KeyError: 0

2026-02-09 19:49:52 | ERROR    | __main__:periodic_check_thread:310 | Error in periodic check: 0
2026-02-09 19:49:52 | ERROR    | __main__:periodic_check_thread:311 | Traceback (most recent call last):
  File "C:\Users\matte\Desktop\Voda\src\dmos_main.py", line 245, in periodic_check_thread
    current_traffic = self.prometheus.get_request_rate(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\matte\Desktop\Voda\src\metrics\prometheus_client.py", line 186, in get_request_rate
    rps = float(result[0]['value'][1])
                ~~~~~~^^^
KeyError: 0

2026-02-09 19:50:22 | ERROR    | __main__:periodic_check_thread:310 | Error in periodic check: 0
2026-02-09 19:50:22 | ERROR    | __main__:periodic_check_thread:311 | Traceback (most recent call last):
  File "C:\Users\matte\Desktop\Voda\src\dmos_main.py", line 245, in periodic_check_thread
    current_traffic = self.prometheus.get_request_rate(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\matte\Desktop\Voda\src\metrics\prometheus_client.py", line 186, in get_request_rate
    rps = float(result[0]['value'][1])
                ~~~~~~^^^
KeyError: 0

2026-02-09 19:50:40 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 19:50:50 | INFO     | __main__:run:430 | Stopped
2026-02-09 19:50:55 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:50:55 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:50:55 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:50:55 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:50:55 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:50:55 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:50:55 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:50:55 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:50:55 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:50:55 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:50:55 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:50:55 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:50:55 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:50:55 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:50:55 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:50:55 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:50:55 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:50:55 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:50:55 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:50:55 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:50:55 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:50:55 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:50:55 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:50:55 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:50:56 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:50:56 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:50:56 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 19:50:56 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:50:56 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 19:50:56 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:50:56 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:50:56 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 19:50:56 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 19:50:56 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 19:50:56 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 19:50:56 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 19:50:56 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 19:50:56 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:50:56 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:50:56 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 19:50:56 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 19:50:56 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 19:50:57 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:50:57 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:50:57 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:50:57 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:51:27 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:51:27 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:51:27 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:51:27 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:51:57 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:51:57 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:51:57 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:51:57 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:52:28 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:52:28 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:52:28 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:52:28 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:52:58 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:52:58 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:52:58 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:52:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:53:28 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:53:28 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:53:28 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:53:28 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:53:58 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:53:59 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:53:59 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:53:59 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:54:29 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:54:29 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:54:29 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:54:29 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:54:59 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:54:59 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:54:59 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:54:59 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:55:29 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:55:29 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:55:29 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:55:29 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:56:00 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:56:00 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:56:00 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:56:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:56:30 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:56:30 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:56:30 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:56:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:57:00 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:57:00 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:57:00 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:57:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:57:30 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:57:31 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:57:31 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:57:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:58:01 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:58:01 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:58:01 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:58:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:58:31 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:58:31 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:58:31 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:58:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:59:01 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:59:01 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:59:01 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:59:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:59:32 | WARNING  | src.metrics.prometheus_client:get_request_rate:228 | No request rate metrics found for service frontend
2026-02-09 19:59:32 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 19:59:32 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 19:59:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 19:59:38 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 19:59:48 | INFO     | __main__:run:430 | Stopped
2026-02-09 19:59:58 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 19:59:58 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:59:58 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:59:58 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 19:59:58 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 19:59:58 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 19:59:58 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 19:59:58 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 19:59:58 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 19:59:58 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:59:58 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:59:58 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 19:59:58 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:59:58 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:59:58 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 19:59:58 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:59:58 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:59:58 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 19:59:58 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:59:58 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:59:58 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:59:58 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 19:59:58 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 19:59:58 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 19:59:59 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 19:59:59 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 19:59:59 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 19:59:59 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 19:59:59 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 19:59:59 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 19:59:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 19:59:59 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 19:59:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 19:59:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 19:59:59 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 19:59:59 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 19:59:59 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 19:59:59 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 19:59:59 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 19:59:59 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 19:59:59 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 19:59:59 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 20:00:00 | INFO     | src.metrics.prometheus_client:get_request_rate:183 | Istio query failed (expected): 0
2026-02-09 20:00:00 | INFO     | src.metrics.prometheus_client:get_request_rate:195 | HTTP query failed (expected): 0
2026-02-09 20:00:00 | INFO     | src.metrics.prometheus_client:get_request_rate:207 | Network query result: {'resultType': 'vector', 'result': [{'metric': {}, 'value': [1770663600.198, '18660.51546294803']}]}
2026-02-09 20:00:00 | ERROR    | src.metrics.prometheus_client:get_request_rate:220 | Network query exception: 0
2026-02-09 20:00:00 | WARNING  | src.metrics.prometheus_client:get_request_rate:222 | No metrics found for frontend
2026-02-09 20:00:00 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 20:00:00 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 20:00:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 20:00:30 | INFO     | src.metrics.prometheus_client:get_request_rate:183 | Istio query failed (expected): 0
2026-02-09 20:00:30 | INFO     | src.metrics.prometheus_client:get_request_rate:195 | HTTP query failed (expected): 0
2026-02-09 20:00:30 | INFO     | src.metrics.prometheus_client:get_request_rate:207 | Network query result: {'resultType': 'vector', 'result': [{'metric': {}, 'value': [1770663630.593, '19655.496959364213']}]}
2026-02-09 20:00:30 | ERROR    | src.metrics.prometheus_client:get_request_rate:220 | Network query exception: 0
2026-02-09 20:00:30 | WARNING  | src.metrics.prometheus_client:get_request_rate:222 | No metrics found for frontend
2026-02-09 20:00:30 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 20:00:30 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 20:00:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 20:01:00 | INFO     | src.metrics.prometheus_client:get_request_rate:183 | Istio query failed (expected): 0
2026-02-09 20:01:00 | INFO     | src.metrics.prometheus_client:get_request_rate:195 | HTTP query failed (expected): 0
2026-02-09 20:01:00 | INFO     | src.metrics.prometheus_client:get_request_rate:207 | Network query result: {'resultType': 'vector', 'result': [{'metric': {}, 'value': [1770663660.889, '22317.024226121757']}]}
2026-02-09 20:01:00 | ERROR    | src.metrics.prometheus_client:get_request_rate:220 | Network query exception: 0
2026-02-09 20:01:00 | WARNING  | src.metrics.prometheus_client:get_request_rate:222 | No metrics found for frontend
2026-02-09 20:01:00 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 20:01:00 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 20:01:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 20:01:31 | INFO     | src.metrics.prometheus_client:get_request_rate:183 | Istio query failed (expected): 0
2026-02-09 20:01:31 | INFO     | src.metrics.prometheus_client:get_request_rate:195 | HTTP query failed (expected): 0
2026-02-09 20:01:31 | INFO     | src.metrics.prometheus_client:get_request_rate:207 | Network query result: {'resultType': 'vector', 'result': [{'metric': {}, 'value': [1770663691.164, '13067.533089579525']}]}
2026-02-09 20:01:31 | ERROR    | src.metrics.prometheus_client:get_request_rate:220 | Network query exception: 0
2026-02-09 20:01:31 | WARNING  | src.metrics.prometheus_client:get_request_rate:222 | No metrics found for frontend
2026-02-09 20:01:31 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 20:01:31 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 20:01:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 20:02:01 | INFO     | src.metrics.prometheus_client:get_request_rate:183 | Istio query failed (expected): 0
2026-02-09 20:02:01 | INFO     | src.metrics.prometheus_client:get_request_rate:195 | HTTP query failed (expected): 0
2026-02-09 20:02:01 | INFO     | src.metrics.prometheus_client:get_request_rate:207 | Network query result: {'resultType': 'vector', 'result': [{'metric': {}, 'value': [1770663721.439, '17179.462451688807']}]}
2026-02-09 20:02:01 | ERROR    | src.metrics.prometheus_client:get_request_rate:220 | Network query exception: 0
2026-02-09 20:02:01 | WARNING  | src.metrics.prometheus_client:get_request_rate:222 | No metrics found for frontend
2026-02-09 20:02:01 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-09 20:02:01 | INFO     | __main__:periodic_check_thread:274 |   Fallback: 2 replicas ‚Üí assume MEDIUM load (25.0 req/s)
2026-02-09 20:02:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 25.0 req/s | Replicas: 2
2026-02-09 20:02:25 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 20:02:31 | INFO     | __main__:run:430 | Stopped
2026-02-09 20:02:38 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 20:02:38 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 20:02:38 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 20:02:38 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 20:02:38 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 20:02:38 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 20:02:38 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 20:02:38 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 20:02:38 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 20:02:38 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:02:38 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:02:38 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 20:02:38 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:02:38 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:02:38 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 20:02:38 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:02:38 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:02:38 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 20:02:38 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:02:38 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:02:38 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 20:02:38 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:02:38 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:02:38 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 20:02:40 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 20:02:40 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 20:02:40 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 20:02:40 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 20:02:40 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 20:02:40 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 20:02:40 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 20:02:40 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 20:02:40 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 20:02:40 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 20:02:40 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 20:02:40 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 20:02:40 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 20:02:40 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 20:02:40 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 20:02:40 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 20:02:40 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 20:02:40 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 20:02:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663760.301, '24656.571198507925']}]
2026-02-09 20:02:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24657 bytes/s ‚Üí 6.2 req/s
2026-02-09 20:02:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.2 req/s | Replicas: 2
2026-02-09 20:02:40 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.2 < 10)
2026-02-09 20:02:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:02:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:02:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663760.682, '24656.571198507925']}]
2026-02-09 20:02:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24657 bytes/s ‚Üí 6.2 req/s
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:143 | Current traffic: 6.2 req/s
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.567, capacity=20, latency=88ms
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=90ms
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=97ms
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:02:40 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:02:40 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:02:40 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 99ms (collection=98ms, winner_det=1ms)
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:02:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:02:40 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 20:02:40 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 20:02:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:02:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.2, predicted=6.2 | base=1, PD=+0, constrained=True
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:02:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:03:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663790.691, '19957.254039603173']}]
2026-02-09 20:03:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19957 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:03:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 2
2026-02-09 20:03:10 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 20:03:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:03:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:03:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:03:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:03:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:03:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663790.981, '19838.03936178214']}]
2026-02-09 20:03:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19838 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:03:10 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 20:03:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:03:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:03:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=84ms
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.567, capacity=20, latency=102ms
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:03:11 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:03:11 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:03:11 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=104ms, winner_det=1ms)
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:03:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:03:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=-0.0398, predicted=0.0 req/s (+600s)
2026-02-09 20:03:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:03:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.0, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 20:03:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:03:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:03:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663820.991, '20643.304405864652']}]
2026-02-09 20:03:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20643 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:03:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 1
2026-02-09 20:03:41 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:03:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:03:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:03:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663821.269, '20642.473027447115']}]
2026-02-09 20:03:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20642 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=92ms
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.595, capacity=20, latency=91ms
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=91ms
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:03:41 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:03:41 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:03:41 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=93ms, winner_det=0ms)
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:03:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:03:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0166, predicted=0.0 req/s (+600s)
2026-02-09 20:03:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:03:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=5.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-09 20:03:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:03:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:04:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663851.269, '20535.136137918667']}]
2026-02-09 20:04:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20535 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:04:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.1 req/s | Replicas: 2
2026-02-09 20:04:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.1 < 10)
2026-02-09 20:04:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:04:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:04:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663851.581, '20539.177138420033']}]
2026-02-09 20:04:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20539 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.609, capacity=20, latency=85ms
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.567, capacity=20, latency=85ms
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.627, capacity=20, latency=89ms
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:04:11 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:04:11 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.627)
2026-02-09 20:04:11 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.627)
2026-02-09 20:04:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:04:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=-0.0113, predicted=0.0 req/s (+600s)
2026-02-09 20:04:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:04:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.1, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:04:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:04:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663881.557, '15137.481463640228']}]
2026-02-09 20:04:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15137 bytes/s ‚Üí 3.8 req/s
2026-02-09 20:04:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.8 req/s | Replicas: 2
2026-02-09 20:04:41 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.8 < 10)
2026-02-09 20:04:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:04:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:04:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663881.828, '15036.900687484853']}]
2026-02-09 20:04:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15037 bytes/s ‚Üí 3.8 req/s
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:143 | Current traffic: 3.8 req/s
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=85ms
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=100ms
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:04:41 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:04:41 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:04:41 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:04:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:04:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.8 req/s, derivative=-0.0199, predicted=0.0 req/s (+600s)
2026-02-09 20:04:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:04:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=3.8, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:04:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:05:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663911.841, '25020.240974004886']}]
2026-02-09 20:05:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25020 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:05:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 2
2026-02-09 20:05:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 20:05:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:05:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:05:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:05:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:05:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:05:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663912.133, '25019.742625276678']}]
2026-02-09 20:05:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25020 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:05:12 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 20:05:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=83ms
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=83ms
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=87ms
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:05:12 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:05:12 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:05:12 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=2ms)
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:05:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:05:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0006, predicted=6.6 req/s (+600s)
2026-02-09 20:05:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.054, P=-0.27, D=-0.54, output=-0.81, delta=-1
2026-02-09 20:05:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.3, predicted=6.6 | base=1, PD=-1, constrained=True
2026-02-09 20:05:12 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:05:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:05:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663942.118, '24163.77683915335']}]
2026-02-09 20:05:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24164 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:05:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 2
2026-02-09 20:05:42 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 20:05:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:05:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:05:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663942.413, '24183.53788880026']}]
2026-02-09 20:05:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24184 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=87ms
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=87ms
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=87ms
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:05:42 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:05:42 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:05:42 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=88ms, winner_det=3ms)
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:05:42 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:05:42 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=-0.0007, predicted=5.7 req/s (+600s)
2026-02-09 20:05:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.069, P=0.35, D=1.22, output=1.57, delta=2
2026-02-09 20:05:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=6.0, predicted=5.7 | base=1, PD=+2, constrained=False
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 20:05:42 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 20:05:42 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:06:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663972.408, '18293.43108270993']}]
2026-02-09 20:06:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18293 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:06:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 3
2026-02-09 20:06:12 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:06:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:06:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:06:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770663972.676, '18253.951709729663']}]
2026-02-09 20:06:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18254 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=84ms
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.534, capacity=20, latency=83ms
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=93ms
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:06:12 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:06:12 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:06:12 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=95ms, winner_det=0ms)
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:06:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:06:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0076, predicted=0.0 req/s (+600s)
2026-02-09 20:06:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=136.184, P=680.92, D=1348.46, output=3.00, delta=3
2026-02-09 20:06:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=4.6, predicted=0.0 | base=1, PD=+3, constrained=False
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 4 (Œî=+1)
2026-02-09 20:06:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:06:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:06:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664002.686, '20905.966888227023']}]
2026-02-09 20:06:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20906 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:06:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 4
2026-02-09 20:06:42 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:06:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:06:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:06:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:06:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:06:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:06:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664002.956, '22764.486420217036']}]
2026-02-09 20:06:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22764 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:06:42 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:06:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:06:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:06:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.572, capacity=20, latency=88ms
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.554, capacity=20, latency=87ms
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=112ms
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:06:43 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:06:43 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.572)
2026-02-09 20:06:43 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 115ms (collection=115ms, winner_det=0ms)
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.572)
2026-02-09 20:06:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:06:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=-0.0020, predicted=4.5 req/s (+600s)
2026-02-09 20:06:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.259, P=1.30, D=-1346.14, output=-3.00, delta=-3
2026-02-09 20:06:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.7, predicted=4.5 | base=1, PD=-3, constrained=True
2026-02-09 20:06:43 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:06:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:06:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:07:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664032.963, '20308.603048169047']}]
2026-02-09 20:07:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20309 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:07:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.1 req/s | Replicas: 2
2026-02-09 20:07:12 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.1 < 10)
2026-02-09 20:07:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:07:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:07:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:07:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:07:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664033.242, '20307.671415859437']}]
2026-02-09 20:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20308 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:07:13 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 20:07:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=86ms
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=87ms
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=89ms
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:07:13 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:07:13 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:07:13 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=1ms)
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:07:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=-0.0040, predicted=2.7 req/s (+600s)
2026-02-09 20:07:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.892, P=4.46, D=6.27, output=3.00, delta=3
2026-02-09 20:07:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.1, predicted=2.7 | base=1, PD=+3, constrained=False
2026-02-09 20:07:13 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:07:13 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:07:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:07:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664063.238, '22983.743850380415']}]
2026-02-09 20:07:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22984 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:07:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 4
2026-02-09 20:07:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:07:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:07:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:07:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664063.508, '22990.396646046374']}]
2026-02-09 20:07:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22990 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=88ms
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=89ms
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=83ms
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:07:43 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:07:43 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:07:43 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:07:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:07:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=-0.0014, predicted=4.9 req/s (+600s)
2026-02-09 20:07:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.168, P=0.84, D=-7.18, output=-3.00, delta=-3
2026-02-09 20:07:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.7, predicted=4.9 | base=1, PD=-3, constrained=True
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:07:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:07:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:08:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664093.504, '21896.986119863755']}]
2026-02-09 20:08:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21897 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:08:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:08:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:08:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:08:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:08:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664093.772, '21895.1454825775']}]
2026-02-09 20:08:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21895 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=86ms
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=83ms
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=84ms
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:08:13 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:08:13 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:08:13 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:08:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:08:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0017, predicted=6.5 req/s (+600s)
2026-02-09 20:08:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.157, P=-0.78, D=-3.22, output=-3.00, delta=-3
2026-02-09 20:08:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.5, predicted=6.5 | base=1, PD=-3, constrained=True
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:08:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:08:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664123.77, '21819.097488816577']}]
2026-02-09 20:08:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21819 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:08:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:08:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:08:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:08:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:08:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:08:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:08:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:08:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664124.038, '21819.097488816577']}]
2026-02-09 20:08:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21819 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:08:44 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:08:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=98ms
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=95ms
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=98ms
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:08:44 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:08:44 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:08:44 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 114ms (collection=114ms, winner_det=0ms)
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:08:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:08:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0010, predicted=6.0 req/s (+600s)
2026-02-09 20:08:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.097, P=-0.48, D=0.60, output=0.12, delta=0
2026-02-09 20:08:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.5, predicted=6.0 | base=1, PD=+0, constrained=True
2026-02-09 20:08:44 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:08:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:09:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664154.04, '20904.064862544743']}]
2026-02-09 20:09:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20904 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:09:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 20:09:14 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:09:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:09:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:09:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664154.34, '20904.064862544743']}]
2026-02-09 20:09:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20904 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=84ms
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=97ms
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:09:14 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:09:14 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:09:14 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:09:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:09:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=0.0003, predicted=5.4 req/s (+600s)
2026-02-09 20:09:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.033, P=-0.17, D=0.62, output=0.46, delta=0
2026-02-09 20:09:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.2, predicted=5.4 | base=1, PD=+0, constrained=True
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:09:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:09:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664184.316, '17266.843524107026']}]
2026-02-09 20:09:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17267 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:09:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 2
2026-02-09 20:09:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 20:09:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:09:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:09:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664184.588, '17174.629883074664']}]
2026-02-09 20:09:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17175 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:143 | Current traffic: 4.3 req/s
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=86ms
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=87ms
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=88ms
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:09:44 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:09:44 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:09:44 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:09:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:09:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.3 req/s, derivative=0.0018, predicted=5.4 req/s (+600s)
2026-02-09 20:09:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.198, P=-0.99, D=-1.63, output=-2.62, delta=-3
2026-02-09 20:09:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.3, predicted=5.4 | base=1, PD=-3, constrained=True
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:09:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:10:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664214.591, '21649.45697275119']}]
2026-02-09 20:10:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21649 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:10:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:10:14 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:10:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:10:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:10:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664214.863, '21649.45697275119']}]
2026-02-09 20:10:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21649 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=91ms
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=91ms
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=102ms
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:10:14 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:10:14 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:10:14 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:10:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:10:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0028, predicted=3.7 req/s (+600s)
2026-02-09 20:10:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.446, P=2.23, D=6.38, output=3.00, delta=3
2026-02-09 20:10:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.4, predicted=3.7 | base=1, PD=+3, constrained=False
2026-02-09 20:10:14 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:10:15 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:10:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:10:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664244.885, '25214.898352941385']}]
2026-02-09 20:10:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25215 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:10:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 4
2026-02-09 20:10:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 20:10:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:10:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:10:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:10:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:10:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:10:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664245.16, '25222.846394081294']}]
2026-02-09 20:10:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25223 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:10:45 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 20:10:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=87ms
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=87ms
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=87ms
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:10:45 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:10:45 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:10:45 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:10:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:10:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0009, predicted=6.8 req/s (+600s)
2026-02-09 20:10:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.075, P=-0.38, D=-5.17, output=-3.00, delta=-3
2026-02-09 20:10:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.3, predicted=6.8 | base=1, PD=-3, constrained=True
2026-02-09 20:10:45 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:10:45 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:10:45 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:11:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664275.172, '20806.622855467715']}]
2026-02-09 20:11:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20807 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:11:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 20:11:15 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:11:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:11:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:11:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664275.453, '20815.203770254862']}]
2026-02-09 20:11:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20815 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=85ms
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=86ms
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=86ms
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:11:15 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:11:15 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:11:15 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:11:15 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:11:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=0.0021, predicted=6.5 req/s (+600s)
2026-02-09 20:11:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.196, P=-0.98, D=-1.19, output=-2.17, delta=-2
2026-02-09 20:11:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.2, predicted=6.5 | base=1, PD=-2, constrained=True
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:11:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:11:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664305.472, '22783.21096196378']}]
2026-02-09 20:11:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22783 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:11:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 2
2026-02-09 20:11:45 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:11:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:11:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:11:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664305.759, '22783.21096196378']}]
2026-02-09 20:11:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22783 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=88ms
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=103ms
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=103ms
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:11:45 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:11:45 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:11:45 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=105ms, winner_det=0ms)
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:11:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:11:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=0.0000, predicted=5.7 req/s (+600s)
2026-02-09 20:11:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.002, P=-0.01, D=1.92, output=1.92, delta=2
2026-02-09 20:11:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=5.7, predicted=5.7 | base=1, PD=+2, constrained=False
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 20:11:45 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 20:11:45 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:12:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664335.737, '22066.214528038185']}]
2026-02-09 20:12:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22066 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:12:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 3
2026-02-09 20:12:15 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:12:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:12:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:12:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:12:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:12:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:12:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664336.021, '22068.696636197183']}]
2026-02-09 20:12:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22069 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:12:15 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:12:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:12:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:12:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.572, capacity=20, latency=86ms
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=85ms
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.534, capacity=20, latency=85ms
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:12:16 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:12:16 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=1.581)
2026-02-09 20:12:16 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=1.581)
2026-02-09 20:12:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:12:16 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: (404)
Reason: Not Found
HTTP response headers: HTTPHeaderDict({'Audit-Id': 'a54cebc2-388a-4412-bcc3-b4aec4149f21', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '76c2c773-685f-4a4c-992c-2c16154d09a4', 'X-Kubernetes-Pf-Prioritylevel-Uid': '9a8eb93f-d829-4f6c-91ec-1ab421cf0ed6', 'Date': 'Mon, 09 Feb 2026 19:12:16 GMT', 'Content-Length': '218'})
HTTP response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deployments.apps \"frontend\" not found","reason":"NotFound","details":{"name":"frontend","group":"apps","kind":"deployments"},"code":404}


2026-02-09 20:12:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0015, predicted=6.4 req/s (+600s)
2026-02-09 20:12:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.137, P=-0.68, D=-1.33, output=-2.02, delta=-2
2026-02-09 20:12:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=5.5, predicted=6.4 | base=1, PD=-2, constrained=True
2026-02-09 20:12:16 | INFO     | __main__:schedule_service:199 | cluster2: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:12:16 | ERROR    | src.k8s.client:scale_deployment:164 | K8s API error: 404 Not Found
2026-02-09 20:12:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-09 20:12:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664366.018, '17941.44686586382']}]
2026-02-09 20:12:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17941 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:12:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.5 req/s | Replicas: 3
2026-02-09 20:12:46 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.5 < 10)
2026-02-09 20:12:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:12:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:12:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664366.292, '17832.303428232975']}]
2026-02-09 20:12:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17832 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:143 | Current traffic: 4.5 req/s
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.555, capacity=20, latency=85ms
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.572, capacity=20, latency=86ms
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.534, capacity=20, latency=105ms
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:12:46 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:12:46 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.572)
2026-02-09 20:12:46 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=107ms, winner_det=1ms)
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.572)
2026-02-09 20:12:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:12:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=-0.0043, predicted=1.9 req/s (+600s)
2026-02-09 20:12:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.343, P=6.71, D=14.70, output=3.00, delta=3
2026-02-09 20:12:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=4.5, predicted=1.9 | base=1, PD=+3, constrained=False
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 4 (Œî=+1)
2026-02-09 20:12:46 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:12:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:13:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664396.309, '14007.684832843765']}]
2026-02-09 20:13:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14008 bytes/s ‚Üí 3.5 req/s
2026-02-09 20:13:16 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.5 req/s | Replicas: 4
2026-02-09 20:13:16 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.5 < 10)
2026-02-09 20:13:16 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:13:16 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:13:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664396.601, '13927.769745573363']}]
2026-02-09 20:13:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 13928 bytes/s ‚Üí 3.5 req/s
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:143 | Current traffic: 3.5 req/s
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.508, capacity=20, latency=88ms
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=90ms
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.555, capacity=20, latency=90ms
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:13:16 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:13:16 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=1.555)
2026-02-09 20:13:16 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=1.555)
2026-02-09 20:13:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:13:16 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: (404)
Reason: Not Found
HTTP response headers: HTTPHeaderDict({'Audit-Id': '1403289d-5147-437f-82f9-e94f4e23f044', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '76c2c773-685f-4a4c-992c-2c16154d09a4', 'X-Kubernetes-Pf-Prioritylevel-Uid': '9a8eb93f-d829-4f6c-91ec-1ab421cf0ed6', 'Date': 'Mon, 09 Feb 2026 19:13:16 GMT', 'Content-Length': '218'})
HTTP response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deployments.apps \"frontend\" not found","reason":"NotFound","details":{"name":"frontend","group":"apps","kind":"deployments"},"code":404}


2026-02-09 20:13:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.5 req/s, derivative=-0.0066, predicted=0.0 req/s (+600s)
2026-02-09 20:13:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-13.30, output=-3.00, delta=-3
2026-02-09 20:13:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=3.5, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:199 | cluster2: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:13:16 | ERROR    | src.k8s.client:scale_deployment:164 | K8s API error: 404 Not Found
2026-02-09 20:13:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:13:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664426.596, '21579.021529854705']}]
2026-02-09 20:13:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21579 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:13:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 4
2026-02-09 20:13:46 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:13:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:13:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:13:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:13:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:13:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:13:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664426.903, '21449.736493938362']}]
2026-02-09 20:13:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21450 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:13:46 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:13:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=85ms
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=86ms
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=97ms
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:13:46 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:13:46 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:13:46 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=100ms, winner_det=0ms)
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:13:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:13:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0003, predicted=5.2 req/s (+600s)
2026-02-09 20:13:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.035, P=0.18, D=0.35, output=0.53, delta=1
2026-02-09 20:13:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.4, predicted=5.2 | base=1, PD=+1, constrained=False
2026-02-09 20:13:47 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:13:47 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:13:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-09 20:14:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664457.949, '23773.647961972954']}]
2026-02-09 20:14:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23774 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:14:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 2
2026-02-09 20:14:17 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 20:14:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:14:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:14:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:14:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:14:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:14:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664458.235, '23771.52159932913']}]
2026-02-09 20:14:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23772 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:14:18 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:14:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=88ms
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=93ms
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=94ms
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:14:18 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:14:18 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:14:18 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=96ms, winner_det=0ms)
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:14:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:14:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0024, predicted=7.4 req/s (+600s)
2026-02-09 20:14:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.192, P=-0.96, D=-2.18, output=-3.00, delta=-3
2026-02-09 20:14:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.9, predicted=7.4 | base=1, PD=-3, constrained=True
2026-02-09 20:14:18 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:14:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:14:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664488.218, '21327.796674843044']}]
2026-02-09 20:14:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21328 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:14:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 20:14:48 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:14:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:14:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:14:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664488.504, '21327.796674843044']}]
2026-02-09 20:14:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21328 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=96ms
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=100ms
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=117ms
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:14:48 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:14:48 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:14:48 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 120ms (collection=119ms, winner_det=1ms)
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:14:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:14:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0034, predicted=7.4 req/s (+600s)
2026-02-09 20:14:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.278, P=-1.39, D=-0.84, output=-2.23, delta=-2
2026-02-09 20:14:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.3, predicted=7.4 | base=1, PD=-2, constrained=True
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:14:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:15:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664518.492, '14132.511898074925']}]
2026-02-09 20:15:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14133 bytes/s ‚Üí 3.5 req/s
2026-02-09 20:15:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.5 req/s | Replicas: 2
2026-02-09 20:15:18 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.5 < 10)
2026-02-09 20:15:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:15:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:15:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664518.775, '14051.25309063279']}]
2026-02-09 20:15:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14051 bytes/s ‚Üí 3.5 req/s
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:143 | Current traffic: 3.5 req/s
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=84ms
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=84ms
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.600, capacity=20, latency=84ms
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:15:18 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:15:18 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.600)
2026-02-09 20:15:18 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=86ms, winner_det=1ms)
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.600)
2026-02-09 20:15:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:15:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.5 req/s, derivative=-0.0063, predicted=0.0 req/s (+600s)
2026-02-09 20:15:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=2.76, output=2.76, delta=3
2026-02-09 20:15:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=3.5, predicted=0.0 | base=1, PD=+3, constrained=False
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:15:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:15:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:15:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664548.763, '19938.574830475904']}]
2026-02-09 20:15:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19939 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:15:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 4
2026-02-09 20:15:48 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 20:15:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:15:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:15:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:15:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:15:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:15:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664549.038, '19942.89784649543']}]
2026-02-09 20:15:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19943 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:15:49 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 20:15:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=84ms
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=106ms
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:15:49 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:15:49 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=1.582)
2026-02-09 20:15:49 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=1.582)
2026-02-09 20:15:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:15:49 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: (404)
Reason: Not Found
HTTP response headers: HTTPHeaderDict({'Audit-Id': '0a5d3264-4bbd-4e5f-b210-4a5f9de38aec', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '76c2c773-685f-4a4c-992c-2c16154d09a4', 'X-Kubernetes-Pf-Prioritylevel-Uid': '9a8eb93f-d829-4f6c-91ec-1ab421cf0ed6', 'Date': 'Mon, 09 Feb 2026 19:15:49 GMT', 'Content-Length': '218'})
HTTP response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deployments.apps \"frontend\" not found","reason":"NotFound","details":{"name":"frontend","group":"apps","kind":"deployments"},"code":404}


2026-02-09 20:15:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=-0.0043, predicted=2.4 req/s (+600s)
2026-02-09 20:15:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.095, P=5.48, D=10.85, output=3.00, delta=3
2026-02-09 20:15:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 3 (Œî=+3) | traffic: current=5.0, predicted=2.4 | base=1, PD=+3, constrained=True
2026-02-09 20:15:49 | INFO     | __main__:schedule_service:199 | cluster2: 0 ‚Üí 3 (Œî=+3)
2026-02-09 20:15:49 | ERROR    | src.k8s.client:scale_deployment:164 | K8s API error: 404 Not Found
2026-02-09 20:15:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:16:10 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 20:16:18 | INFO     | __main__:run:430 | Stopped
2026-02-09 20:17:29 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 20:17:29 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 20:17:29 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 20:17:29 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 20:17:29 | INFO     | src.utils.config_loader:__init__:149 | Loaded 3 clusters, 5 services
2026-02-09 20:17:29 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 20:17:29 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 20:17:29 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 20:17:29 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 20:17:29 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:17:29 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:17:29 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 20:17:29 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:17:29 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:17:29 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 20:17:29 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:17:29 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:17:29 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 20:17:29 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:17:29 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:17:29 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 20:17:29 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 20:17:29 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 20:17:29 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 20:17:31 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 20:17:31 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 20:17:31 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 20:17:31 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 20:17:31 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 20:17:31 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 20:17:31 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 20:17:31 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 20:17:31 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 20:17:31 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 20:17:31 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 20:17:31 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 20:17:31 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 20:17:31 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 20:17:31 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 20:17:31 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 20:17:31 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 20:17:31 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 20:17:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664651.36, '16826.43199775873']}]
2026-02-09 20:17:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16826 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:17:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.2 req/s | Replicas: 4
2026-02-09 20:17:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.2 < 10)
2026-02-09 20:17:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:17:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:17:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664651.749, '16665.410780121165']}]
2026-02-09 20:17:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16665 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:143 | Current traffic: 4.2 req/s
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.508, capacity=20, latency=85ms
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=87ms
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=98ms
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:17:31 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:17:31 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:17:31 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=1ms)
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:17:31 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:17:31 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 20:17:31 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 20:17:31 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 20:17:31 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.2, predicted=4.2 | base=1, PD=+0, constrained=True
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:17:31 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:17:31 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:18:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664681.759, '22943.212841356002']}]
2026-02-09 20:18:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22943 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:18:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 2
2026-02-09 20:18:01 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:18:01 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:18:01 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:18:01 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:18:01 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:18:01 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:18:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664682.029, '22942.405779852586']}]
2026-02-09 20:18:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22942 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:18:01 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:18:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:18:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:18:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=89ms
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=91ms
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=105ms
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:18:02 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:18:02 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster3 (quota=100.00%, score=1.561)
2026-02-09 20:18:02 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=107ms, winner_det=0ms)
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=100.00%, score=1.561)
2026-02-09 20:18:02 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:18:02 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: (404)
Reason: Not Found
HTTP response headers: HTTPHeaderDict({'Audit-Id': '2c2f55ab-f1d2-439e-ae1d-d19e0f356940', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '16a06443-5f2c-49f4-97c9-bc25139933b7', 'X-Kubernetes-Pf-Prioritylevel-Uid': '6443a7f5-e233-4d55-86d3-305cb7c0543f', 'Date': 'Mon, 09 Feb 2026 19:18:02 GMT', 'Content-Length': '218'})
HTTP response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deployments.apps \"frontend\" not found","reason":"NotFound","details":{"name":"frontend","group":"apps","kind":"deployments"},"code":404}


2026-02-09 20:18:02 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=0.0517, predicted=36.7 req/s (+600s)
2026-02-09 20:18:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.844, P=-4.22, D=-8.33, output=-3.00, delta=-3
2026-02-09 20:18:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=5.7, predicted=36.7 | base=1, PD=-3, constrained=True
2026-02-09 20:18:02 | INFO     | __main__:schedule_service:199 | cluster3: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:18:02 | ERROR    | src.k8s.client:scale_deployment:164 | K8s API error: 404 Not Found
2026-02-09 20:18:02 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-09 20:18:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664712.046, '21423.621312841817']}]
2026-02-09 20:18:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21424 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:18:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:18:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:18:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:18:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:18:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664712.346, '21399.34717393689']}]
2026-02-09 20:18:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21399 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=85ms
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=86ms
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=100ms
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:18:32 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:18:32 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:18:32 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:18:32 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:18:32 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0195, predicted=17.1 req/s (+600s)
2026-02-09 20:18:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.687, P=-3.43, D=1.56, output=-1.87, delta=-2
2026-02-09 20:18:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.3, predicted=17.1 | base=1, PD=-2, constrained=True
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:18:32 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:19:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664742.32, '18854.597341471606']}]
2026-02-09 20:19:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18855 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:19:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.7 req/s | Replicas: 1
2026-02-09 20:19:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.7 < 10)
2026-02-09 20:19:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:19:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:19:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664742.59, '18808.5307836849']}]
2026-02-09 20:19:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18809 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:143 | Current traffic: 4.7 req/s
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=84ms
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=86ms
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=87ms
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:19:02 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:19:02 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:19:02 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:19:02 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:19:02 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=0.0059, predicted=8.2 req/s (+600s)
2026-02-09 20:19:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.429, P=-2.15, D=2.55, output=0.40, delta=0
2026-02-09 20:19:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=4.7, predicted=8.2 | base=1, PD=+0, constrained=True
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-09 20:19:02 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:19:02 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:19:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664772.586, '22423.551568965086']}]
2026-02-09 20:19:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22424 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:19:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.6 req/s | Replicas: 2
2026-02-09 20:19:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.6 < 10)
2026-02-09 20:19:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:19:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:19:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664772.858, '24527.686753120975']}]
2026-02-09 20:19:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24528 bytes/s ‚Üí 6.1 req/s
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:143 | Current traffic: 6.1 req/s
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.609, capacity=20, latency=86ms
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.626, capacity=20, latency=87ms
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=87ms
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:19:32 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:19:32 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.626)
2026-02-09 20:19:32 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.626)
2026-02-09 20:19:32 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:19:32 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.1 req/s, derivative=0.0162, predicted=15.9 req/s (+600s)
2026-02-09 20:19:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.614, P=-3.07, D=-1.83, output=-3.00, delta=-3
2026-02-09 20:19:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.1, predicted=15.9 | base=1, PD=-3, constrained=True
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:19:32 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:20:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664802.858, '19934.894681323178']}]
2026-02-09 20:20:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19935 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:20:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 2
2026-02-09 20:20:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 20:20:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:20:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:20:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:20:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:20:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:20:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664803.122, '19886.32642687548']}]
2026-02-09 20:20:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19886 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:20:03 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 20:20:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=85ms
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=84ms
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=84ms
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:20:03 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:20:03 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:20:03 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:20:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:20:03 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=0.0053, predicted=8.2 req/s (+600s)
2026-02-09 20:20:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.391, P=-1.96, D=2.21, output=0.25, delta=0
2026-02-09 20:20:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.0, predicted=8.2 | base=1, PD=+0, constrained=True
2026-02-09 20:20:03 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:20:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.35s
2026-02-09 20:20:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664833.125, '22780.884645701124']}]
2026-02-09 20:20:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22781 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:20:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 2
2026-02-09 20:20:33 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:20:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:20:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:20:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664833.405, '22780.884645701124']}]
2026-02-09 20:20:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22781 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=86ms
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=86ms
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=88ms
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:20:33 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:20:33 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:20:33 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:20:33 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:20:33 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=0.0084, predicted=10.7 req/s (+600s)
2026-02-09 20:20:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=-0.78, output=-3.00, delta=-3
2026-02-09 20:20:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.7, predicted=10.7 | base=1, PD=-3, constrained=True
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:20:33 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:21:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664863.391, '25543.84409789688']}]
2026-02-09 20:21:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25544 bytes/s ‚Üí 6.4 req/s
2026-02-09 20:21:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.4 req/s | Replicas: 2
2026-02-09 20:21:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.4 < 10)
2026-02-09 20:21:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:21:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:21:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664863.662, '25543.84409789688']}]
2026-02-09 20:21:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25544 bytes/s ‚Üí 6.4 req/s
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:143 | Current traffic: 6.4 req/s
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=85ms
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=88ms
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=88ms
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:21:03 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:21:03 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:21:03 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:21:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:21:03 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.4 req/s, derivative=0.0105, predicted=12.7 req/s (+600s)
2026-02-09 20:21:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.496, P=-2.48, D=-0.26, output=-2.74, delta=-3
2026-02-09 20:21:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.4, predicted=12.7 | base=1, PD=-3, constrained=True
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:21:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:21:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664893.68, '20211.549479272522']}]
2026-02-09 20:21:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20212 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:21:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.1 req/s | Replicas: 2
2026-02-09 20:21:33 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.1 < 10)
2026-02-09 20:21:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:21:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:21:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:21:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:21:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:21:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664893.965, '20212.7374672528']}]
2026-02-09 20:21:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20213 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:21:33 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 20:21:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:21:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:21:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=84ms
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=84ms
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=99ms
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:21:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:21:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:21:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=107ms, winner_det=2ms)
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:21:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:21:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=0.0037, predicted=7.3 req/s (+600s)
2026-02-09 20:21:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.303, P=-1.52, D=1.91, output=0.39, delta=0
2026-02-09 20:21:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.1, predicted=7.3 | base=1, PD=+0, constrained=True
2026-02-09 20:21:34 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:21:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:22:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664923.973, '18941.733818603316']}]
2026-02-09 20:22:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18942 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:22:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.7 req/s | Replicas: 2
2026-02-09 20:22:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.7 < 10)
2026-02-09 20:22:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:22:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:22:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:22:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:22:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:22:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664924.255, '18835.61118112334']}]
2026-02-09 20:22:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18836 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:22:04 | INFO     | __main__:schedule_service:143 | Current traffic: 4.7 req/s
2026-02-09 20:22:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=82ms
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=90ms
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=85ms
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:22:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:22:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:22:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=90ms, winner_det=3ms)
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:22:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:22:04 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=0.0020, predicted=5.9 req/s (+600s)
2026-02-09 20:22:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.202, P=-1.01, D=1.00, output=-0.01, delta=0
2026-02-09 20:22:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.7, predicted=5.9 | base=1, PD=+0, constrained=True
2026-02-09 20:22:04 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:22:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:22:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664954.251, '21806.73296152513']}]
2026-02-09 20:22:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21807 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:22:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:22:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:22:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:22:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:22:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664954.518, '21806.73296152513']}]
2026-02-09 20:22:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21807 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=99ms
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=100ms
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=106ms
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:22:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:22:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:22:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=107ms, winner_det=1ms)
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:22:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:22:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0042, predicted=8.0 req/s (+600s)
2026-02-09 20:22:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.318, P=-1.59, D=-1.15, output=-2.74, delta=-3
2026-02-09 20:22:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.5, predicted=8.0 | base=1, PD=-3, constrained=True
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:22:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:23:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664984.519, '21588.520561311983']}]
2026-02-09 20:23:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21589 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:23:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:23:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:23:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:23:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:23:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770664984.797, '21588.520561311983']}]
2026-02-09 20:23:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21589 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=84ms
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=85ms
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=84ms
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:23:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:23:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:23:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:23:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:23:04 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0011, predicted=4.7 req/s (+600s)
2026-02-09 20:23:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.142, P=0.71, D=4.56, output=3.00, delta=3
2026-02-09 20:23:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.4, predicted=4.7 | base=1, PD=+3, constrained=False
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:23:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:23:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:23:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665014.804, '21951.735955039752']}]
2026-02-09 20:23:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21952 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:23:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 4
2026-02-09 20:23:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:23:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:23:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:23:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:23:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:23:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:23:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665015.078, '21951.735955039752']}]
2026-02-09 20:23:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21952 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:23:35 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:23:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=87ms
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=91ms
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=93ms
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:23:35 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:23:35 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:23:35 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=94ms, winner_det=1ms)
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:23:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:23:35 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0005, predicted=5.8 req/s (+600s)
2026-02-09 20:23:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.048, P=-0.24, D=-1.88, output=-2.11, delta=-2
2026-02-09 20:23:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.5, predicted=5.8 | base=1, PD=-2, constrained=True
2026-02-09 20:23:35 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:23:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:23:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:24:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665045.078, '24772.714192580836']}]
2026-02-09 20:24:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24773 bytes/s ‚Üí 6.2 req/s
2026-02-09 20:24:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.2 req/s | Replicas: 2
2026-02-09 20:24:05 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.2 < 10)
2026-02-09 20:24:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:24:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:24:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665045.343, '24771.900540297207']}]
2026-02-09 20:24:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24772 bytes/s ‚Üí 6.2 req/s
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:143 | Current traffic: 6.2 req/s
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=85ms
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=90ms
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=111ms
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:24:05 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:24:05 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster3 (quota=100.00%, score=1.561)
2026-02-09 20:24:05 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 114ms (collection=114ms, winner_det=0ms)
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=100.00%, score=1.561)
2026-02-09 20:24:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:24:05 | ERROR    | src.k8s.client:get_deployment_replicas:200 | Error reading replicas: (404)
Reason: Not Found
HTTP response headers: HTTPHeaderDict({'Audit-Id': 'a48ad954-253f-4784-b3e5-ca1ae690645e', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '16a06443-5f2c-49f4-97c9-bc25139933b7', 'X-Kubernetes-Pf-Prioritylevel-Uid': '6443a7f5-e233-4d55-86d3-305cb7c0543f', 'Date': 'Mon, 09 Feb 2026 19:24:05 GMT', 'Content-Length': '218'})
HTTP response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deployments.apps \"frontend\" not found","reason":"NotFound","details":{"name":"frontend","group":"apps","kind":"deployments"},"code":404}


2026-02-09 20:24:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.2 req/s, derivative=0.0049, predicted=9.1 req/s (+600s)
2026-02-09 20:24:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.323, P=-1.61, D=-2.73, output=-3.00, delta=-3
2026-02-09 20:24:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=6.2, predicted=9.1 | base=1, PD=-3, constrained=True
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:199 | cluster3: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:24:05 | ERROR    | src.k8s.client:scale_deployment:164 | K8s API error: 404 Not Found
2026-02-09 20:24:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:24:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665075.347, '21852.72512339862']}]
2026-02-09 20:24:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21853 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:24:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:24:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:24:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:24:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:24:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665075.619, '21852.72512339862']}]
2026-02-09 20:24:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21853 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=83ms
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=89ms
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=89ms
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:24:35 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:24:35 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:24:35 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:24:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:24:35 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=-0.0022, predicted=4.1 req/s (+600s)
2026-02-09 20:24:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.320, P=1.60, D=6.38, output=3.00, delta=3
2026-02-09 20:24:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.5, predicted=4.1 | base=1, PD=+3, constrained=False
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:24:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:24:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:25:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665105.618, '17528.738295690186']}]
2026-02-09 20:25:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17529 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:25:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.4 req/s | Replicas: 4
2026-02-09 20:25:05 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.4 < 10)
2026-02-09 20:25:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:25:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:25:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665105.9, '17631.728087779673']}]
2026-02-09 20:25:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17632 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=86ms
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=86ms
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=86ms
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:25:05 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:25:05 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:25:05 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:25:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:25:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0019, predicted=3.3 req/s (+600s)
2026-02-09 20:25:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.339, P=1.70, D=0.19, output=1.89, delta=2
2026-02-09 20:25:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=4.4, predicted=3.3 | base=1, PD=+2, constrained=False
2026-02-09 20:25:05 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 3 (Œî=-1)
2026-02-09 20:25:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 20:25:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:25:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665135.894, '16964.506577697288']}]
2026-02-09 20:25:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16965 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:25:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.2 req/s | Replicas: 3
2026-02-09 20:25:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.2 < 10)
2026-02-09 20:25:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:25:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:25:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:25:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:25:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:25:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665136.203, '19389.71732772222']}]
2026-02-09 20:25:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19390 bytes/s ‚Üí 4.8 req/s
2026-02-09 20:25:36 | INFO     | __main__:schedule_service:143 | Current traffic: 4.8 req/s
2026-02-09 20:25:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=86ms
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=96ms
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.534, capacity=20, latency=96ms
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:25:36 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:25:36 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:25:36 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:25:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:25:36 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.0028, predicted=3.2 req/s (+600s)
2026-02-09 20:25:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.530, P=2.65, D=1.89, output=3.00, delta=3
2026-02-09 20:25:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=4.8, predicted=3.2 | base=1, PD=+3, constrained=False
2026-02-09 20:25:36 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 4 (Œî=+1)
2026-02-09 20:25:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:25:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 20:26:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665166.167, '24378.063910935336']}]
2026-02-09 20:26:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24378 bytes/s ‚Üí 6.1 req/s
2026-02-09 20:26:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.1 req/s | Replicas: 4
2026-02-09 20:26:06 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.1 < 10)
2026-02-09 20:26:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:26:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:26:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665166.433, '24381.523785322588']}]
2026-02-09 20:26:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24382 bytes/s ‚Üí 6.1 req/s
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:143 | Current traffic: 6.1 req/s
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.572, capacity=20, latency=90ms
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.554, capacity=20, latency=90ms
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=90ms
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:26:06 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:26:06 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.572)
2026-02-09 20:26:06 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.572)
2026-02-09 20:26:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:26:06 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.1 req/s, derivative=-0.0010, predicted=5.5 req/s (+600s)
2026-02-09 20:26:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.104, P=0.52, D=-4.23, output=-3.00, delta=-3
2026-02-09 20:26:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.1, predicted=5.5 | base=1, PD=-3, constrained=True
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:26:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:26:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:26:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665196.46, '23971.417744774597']}]
2026-02-09 20:26:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23971 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:26:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 2
2026-02-09 20:26:36 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 20:26:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:26:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:26:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665196.745, '23966.252292881578']}]
2026-02-09 20:26:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23966 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=85ms
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=85ms
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=85ms
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:26:36 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:26:36 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:26:36 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:26:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:26:36 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=0.0031, predicted=7.9 req/s (+600s)
2026-02-09 20:26:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.237, P=-1.18, D=-3.38, output=-3.00, delta=-3
2026-02-09 20:26:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.0, predicted=7.9 | base=1, PD=-3, constrained=True
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:26:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:27:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665226.734, '15643.363832321396']}]
2026-02-09 20:27:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15643 bytes/s ‚Üí 3.9 req/s
2026-02-09 20:27:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.9 req/s | Replicas: 2
2026-02-09 20:27:06 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.9 < 10)
2026-02-09 20:27:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:27:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:27:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:27:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:27:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:27:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665227.005, '15551.884340680474']}]
2026-02-09 20:27:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15552 bytes/s ‚Üí 3.9 req/s
2026-02-09 20:27:06 | INFO     | __main__:schedule_service:143 | Current traffic: 3.9 req/s
2026-02-09 20:27:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:27:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:27:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=86ms
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=87ms
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=88ms
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:27:07 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:27:07 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:27:07 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=1ms)
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:27:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:27:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.9 req/s, derivative=-0.0027, predicted=2.3 req/s (+600s)
2026-02-09 20:27:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.720, P=3.60, D=9.48, output=3.00, delta=3
2026-02-09 20:27:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=3.9, predicted=2.3 | base=1, PD=+3, constrained=False
2026-02-09 20:27:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:27:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:27:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:27:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665257.002, '26656.70304199982']}]
2026-02-09 20:27:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26657 bytes/s ‚Üí 6.7 req/s
2026-02-09 20:27:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.7 req/s | Replicas: 4
2026-02-09 20:27:37 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.7 < 10)
2026-02-09 20:27:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:27:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_7rps)
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:27:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665257.276, '26663.416599596105']}]
2026-02-09 20:27:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26663 bytes/s ‚Üí 6.7 req/s
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:143 | Current traffic: 6.7 req/s
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=85ms
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=84ms
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=104ms
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:27:37 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:27:37 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:27:37 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:27:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:27:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.7 req/s, derivative=0.0040, predicted=9.1 req/s (+600s)
2026-02-09 20:27:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.265, P=-1.33, D=-9.76, output=-3.00, delta=-3
2026-02-09 20:27:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.7, predicted=9.1 | base=1, PD=-3, constrained=True
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:27:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:27:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:28:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665287.299, '18574.583597272256']}]
2026-02-09 20:28:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18575 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:28:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 20:28:07 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:28:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:28:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:28:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665287.582, '18572.30910396688']}]
2026-02-09 20:28:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18572 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=85ms
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=83ms
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=99ms
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:28:07 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:28:07 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:28:07 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:28:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:28:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0025, predicted=3.1 req/s (+600s)
2026-02-09 20:28:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.475, P=2.37, D=7.32, output=3.00, delta=3
2026-02-09 20:28:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=3.1 | base=1, PD=+3, constrained=False
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:28:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:28:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:28:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665317.603, '18830.3142712416']}]
2026-02-09 20:28:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18830 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:28:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.7 req/s | Replicas: 4
2026-02-09 20:28:37 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.7 < 10)
2026-02-09 20:28:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:28:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:28:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665317.874, '18736.17505617782']}]
2026-02-09 20:28:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18736 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:143 | Current traffic: 4.7 req/s
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=85ms
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=87ms
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:28:37 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:28:37 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:28:37 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:28:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:28:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=-0.0027, predicted=3.1 req/s (+600s)
2026-02-09 20:28:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.515, P=2.58, D=0.40, output=2.98, delta=3
2026-02-09 20:28:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=4.7, predicted=3.1 | base=1, PD=+3, constrained=False
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 20:28:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:29:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665347.888, '23462.977390747514']}]
2026-02-09 20:29:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23463 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:29:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 4
2026-02-09 20:29:07 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 20:29:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:29:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:29:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:29:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:29:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:29:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665348.187, '23463.335952585076']}]
2026-02-09 20:29:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23463 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:29:08 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:29:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=79ms
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=79ms
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=78ms
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:29:08 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:29:08 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:29:08 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 80ms (collection=80ms, winner_det=0ms)
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:29:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:29:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=-0.0011, predicted=5.2 req/s (+600s)
2026-02-09 20:29:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.124, P=0.62, D=-3.87, output=-3.00, delta=-3
2026-02-09 20:29:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.9, predicted=5.2 | base=1, PD=-3, constrained=True
2026-02-09 20:29:08 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:29:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:29:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 20:29:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665378.183, '22410.684162030455']}]
2026-02-09 20:29:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22411 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:29:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.6 req/s | Replicas: 2
2026-02-09 20:29:38 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.6 < 10)
2026-02-09 20:29:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:29:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:29:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665378.447, '22409.2032502604']}]
2026-02-09 20:29:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22409 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:143 | Current traffic: 5.6 req/s
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=86ms
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=85ms
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=85ms
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:29:38 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:29:38 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:29:38 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 86ms (collection=86ms, winner_det=0ms)
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:29:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:29:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.6 req/s, derivative=0.0005, predicted=5.9 req/s (+600s)
2026-02-09 20:29:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.047, P=-0.23, D=-1.70, output=-1.93, delta=-2
2026-02-09 20:29:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.6, predicted=5.9 | base=1, PD=-2, constrained=True
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:29:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:30:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665408.459, '17214.696164394652']}]
2026-02-09 20:30:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17215 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:30:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 2
2026-02-09 20:30:08 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 20:30:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:30:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:30:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665408.741, '20335.4927868467']}]
2026-02-09 20:30:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20335 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=86ms
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=102ms
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=104ms
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:30:08 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:30:08 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:30:08 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=108ms, winner_det=0ms)
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:30:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:30:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=0.0022, predicted=6.4 req/s (+600s)
2026-02-09 20:30:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.208, P=-1.04, D=-1.60, output=-2.64, delta=-3
2026-02-09 20:30:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.1, predicted=6.4 | base=1, PD=-3, constrained=True
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:30:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:30:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665438.741, '18263.50886698676']}]
2026-02-09 20:30:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18264 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:30:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 20:30:38 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:30:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:30:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:30:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:30:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:30:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:30:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665439.017, '18363.583454796568']}]
2026-02-09 20:30:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18364 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:30:38 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:30:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:30:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:30:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=86ms
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=86ms
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=83ms
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:30:39 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:30:39 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:30:39 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:30:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:30:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0008, predicted=4.1 req/s (+600s)
2026-02-09 20:30:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.125, P=0.62, D=3.30, output=3.00, delta=3
2026-02-09 20:30:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=4.1 | base=1, PD=+3, constrained=False
2026-02-09 20:30:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:30:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:30:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:31:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665469.022, '16799.86982943241']}]
2026-02-09 20:31:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16800 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:31:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.2 req/s | Replicas: 4
2026-02-09 20:31:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.2 < 10)
2026-02-09 20:31:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:31:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:31:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665469.298, '16722.4583779776']}]
2026-02-09 20:31:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16722 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:143 | Current traffic: 4.2 req/s
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=85ms
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=85ms
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.508, capacity=20, latency=98ms
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:31:09 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:31:09 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:31:09 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=99ms, winner_det=1ms)
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:31:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:31:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.2 req/s, derivative=-0.0063, predicted=0.4 req/s (+600s)
2026-02-09 20:31:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=9.793, P=48.97, D=95.74, output=3.00, delta=3
2026-02-09 20:31:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=4.2, predicted=0.4 | base=1, PD=+3, constrained=False
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 20:31:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:31:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665499.293, '22333.89494072301']}]
2026-02-09 20:31:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22334 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:31:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.6 req/s | Replicas: 4
2026-02-09 20:31:39 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.6 < 10)
2026-02-09 20:31:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:31:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:31:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665499.56, '22333.912776247354']}]
2026-02-09 20:31:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22334 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:143 | Current traffic: 5.6 req/s
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=91ms
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=96ms
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=84ms
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:31:39 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:31:39 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:31:39 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 98ms (collection=97ms, winner_det=1ms)
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:31:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:31:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.6 req/s, derivative=-0.0013, predicted=4.8 req/s (+600s)
2026-02-09 20:31:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.169, P=0.85, D=-95.46, output=-3.00, delta=-3
2026-02-09 20:31:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.6, predicted=4.8 | base=1, PD=-3, constrained=True
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:31:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:31:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:32:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665529.583, '25044.54085285149']}]
2026-02-09 20:32:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25045 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:32:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 2
2026-02-09 20:32:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 20:32:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:32:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:32:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665529.874, '25043.07084849419']}]
2026-02-09 20:32:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25043 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=88ms
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=87ms
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=99ms
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:32:09 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:32:09 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:32:09 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=101ms, winner_det=0ms)
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:32:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:32:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0078, predicted=11.0 req/s (+600s)
2026-02-09 20:32:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.429, P=-2.14, D=-5.92, output=-3.00, delta=-3
2026-02-09 20:32:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.3, predicted=11.0 | base=1, PD=-3, constrained=True
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:32:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:32:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665559.871, '19519.096553863565']}]
2026-02-09 20:32:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19519 bytes/s ‚Üí 4.9 req/s
2026-02-09 20:32:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.9 req/s | Replicas: 2
2026-02-09 20:32:39 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.9 < 10)
2026-02-09 20:32:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:32:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:32:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:32:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:32:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:32:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665560.139, '19517.976919969264']}]
2026-02-09 20:32:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19518 bytes/s ‚Üí 4.9 req/s
2026-02-09 20:32:40 | INFO     | __main__:schedule_service:143 | Current traffic: 4.9 req/s
2026-02-09 20:32:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=95ms
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=103ms
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.562, capacity=20, latency=103ms
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:32:40 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:32:40 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:32:40 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:32:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:32:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.9 req/s, derivative=-0.0059, predicted=1.3 req/s (+600s)
2026-02-09 20:32:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.641, P=13.20, D=30.44, output=3.00, delta=3
2026-02-09 20:32:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.9, predicted=1.3 | base=1, PD=+3, constrained=False
2026-02-09 20:32:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:32:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:32:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:33:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665590.144, '20786.243297367888']}]
2026-02-09 20:33:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20786 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:33:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 4
2026-02-09 20:33:10 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:33:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:33:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:33:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665590.441, '20668.9460754159']}]
2026-02-09 20:33:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20669 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.582, capacity=20, latency=89ms
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=89ms
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=89ms
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:33:10 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:33:10 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:33:10 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:33:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:33:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=0.0017, predicted=6.2 req/s (+600s)
2026-02-09 20:33:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.167, P=-0.84, D=-27.80, output=-3.00, delta=-3
2026-02-09 20:33:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.2, predicted=6.2 | base=1, PD=-3, constrained=True
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:33:10 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:33:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 20:33:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665620.463, '21806.559917555842']}]
2026-02-09 20:33:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21807 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:33:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:33:40 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:33:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:33:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:33:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665620.742, '21803.56195272194']}]
2026-02-09 20:33:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21804 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=89ms
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=89ms
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.561, capacity=20, latency=89ms
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:33:40 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:33:40 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster3 (quota=100.00%, score=1.561)
2026-02-09 20:33:40 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=100.00%, score=1.561)
2026-02-09 20:33:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:33:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0025, predicted=7.0 req/s (+600s)
2026-02-09 20:33:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.218, P=-1.09, D=-0.50, output=-1.59, delta=-2
2026-02-09 20:33:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=5.5, predicted=7.0 | base=1, PD=-2, constrained=True
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:199 | cluster3: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:33:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 20:33:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:34:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665650.73, '17673.446289061']}]
2026-02-09 20:34:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17673 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:34:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.4 req/s | Replicas: 2
2026-02-09 20:34:10 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.4 < 10)
2026-02-09 20:34:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:34:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:34:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:34:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:34:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:34:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665651.004, '17767.72428846981']}]
2026-02-09 20:34:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17768 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:34:10 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 20:34:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:34:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:34:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=80ms
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=80ms
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.599, capacity=20, latency=101ms
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:34:11 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:34:11 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.599)
2026-02-09 20:34:11 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.599)
2026-02-09 20:34:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:34:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0047, predicted=1.6 req/s (+600s)
2026-02-09 20:34:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.741, P=8.71, D=19.42, output=3.00, delta=3
2026-02-09 20:34:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.4, predicted=1.6 | base=1, PD=+3, constrained=False
2026-02-09 20:34:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:34:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:34:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:34:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665681.031, '14428.434003329008']}]
2026-02-09 20:34:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14428 bytes/s ‚Üí 3.6 req/s
2026-02-09 20:34:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.6 req/s | Replicas: 4
2026-02-09 20:34:41 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.6 < 10)
2026-02-09 20:34:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:34:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:34:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665681.3, '14351.92835449868']}]
2026-02-09 20:34:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14352 bytes/s ‚Üí 3.6 req/s
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:143 | Current traffic: 3.6 req/s
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=84ms
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=84ms
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.455, capacity=20, latency=85ms
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:34:41 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:34:41 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:34:41 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:34:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:34:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.6 req/s, derivative=-0.0067, predicted=0.0 req/s (+600s)
2026-02-09 20:34:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-17.24, output=-3.00, delta=-3
2026-02-09 20:34:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=3.6, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:34:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:34:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:35:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665711.315, '17011.09136824974']}]
2026-02-09 20:35:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17011 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:35:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 2
2026-02-09 20:35:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 20:35:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:35:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:35:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665711.589, '14283.265660153573']}]
2026-02-09 20:35:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14283 bytes/s ‚Üí 3.6 req/s
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:143 | Current traffic: 3.6 req/s
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.475, capacity=20, latency=84ms
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.492, capacity=20, latency=103ms
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.455, capacity=20, latency=103ms
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:35:11 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:35:11 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.492)
2026-02-09 20:35:11 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=107ms, winner_det=1ms)
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.492)
2026-02-09 20:35:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:35:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.6 req/s, derivative=-0.0050, predicted=0.6 req/s (+600s)
2026-02-09 20:35:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=5.230, P=26.15, D=51.76, output=3.00, delta=3
2026-02-09 20:35:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=3.6, predicted=0.6 | base=1, PD=+3, constrained=False
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:35:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:35:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:35:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665741.596, '16681.594584602208']}]
2026-02-09 20:35:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16682 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:35:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.2 req/s | Replicas: 4
2026-02-09 20:35:41 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.2 < 10)
2026-02-09 20:35:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:35:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:35:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665741.871, '16602.955063132544']}]
2026-02-09 20:35:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16603 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:143 | Current traffic: 4.2 req/s
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=87ms
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.455, capacity=20, latency=85ms
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=87ms
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:35:41 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:35:41 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:35:41 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:35:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:35:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.2 req/s, derivative=-0.0015, predicted=3.3 req/s (+600s)
2026-02-09 20:35:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.266, P=1.33, D=-49.22, output=-3.00, delta=-3
2026-02-09 20:35:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.2, predicted=3.3 | base=1, PD=-3, constrained=True
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:35:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:35:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:36:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665771.905, '18054.86029036616']}]
2026-02-09 20:36:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18055 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:36:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.5 req/s | Replicas: 2
2026-02-09 20:36:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.5 < 10)
2026-02-09 20:36:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:36:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:36:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:36:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:36:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:36:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665772.204, '17941.342078899077']}]
2026-02-09 20:36:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17941 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:36:12 | INFO     | __main__:schedule_service:143 | Current traffic: 4.5 req/s
2026-02-09 20:36:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.454, capacity=20, latency=84ms
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.475, capacity=20, latency=86ms
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.492, capacity=20, latency=99ms
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:36:12 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:36:12 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.492)
2026-02-09 20:36:12 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=100ms, winner_det=1ms)
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.492)
2026-02-09 20:36:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:36:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=0.0010, predicted=5.1 req/s (+600s)
2026-02-09 20:36:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.119, P=-0.59, D=-3.80, output=-3.00, delta=-3
2026-02-09 20:36:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=5.1 | base=1, PD=-3, constrained=True
2026-02-09 20:36:12 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:36:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:36:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665802.181, '13803.099044229035']}]
2026-02-09 20:36:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 13803 bytes/s ‚Üí 3.5 req/s
2026-02-09 20:36:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.5 req/s | Replicas: 2
2026-02-09 20:36:42 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.5 < 10)
2026-02-09 20:36:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:36:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:36:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665802.48, '17764.70560647912']}]
2026-02-09 20:36:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17765 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=86ms
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.528, capacity=20, latency=86ms
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=100ms
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:36:42 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:36:42 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:36:42 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:36:42 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:36:42 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0038, predicted=2.2 req/s (+600s)
2026-02-09 20:36:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.038, P=5.19, D=11.46, output=3.00, delta=3
2026-02-09 20:36:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.4, predicted=2.2 | base=1, PD=+3, constrained=False
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:36:42 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:36:42 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:37:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665832.494, '25162.234637851976']}]
2026-02-09 20:37:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25162 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:37:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 4
2026-02-09 20:37:12 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 20:37:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:37:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:37:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665832.758, '22760.123357561544']}]
2026-02-09 20:37:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22760 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=86ms
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=86ms
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.454, capacity=20, latency=86ms
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:37:12 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:37:12 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:37:12 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:37:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:37:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=-0.0019, predicted=4.6 req/s (+600s)
2026-02-09 20:37:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.248, P=1.24, D=-7.84, output=-3.00, delta=-3
2026-02-09 20:37:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.7, predicted=4.6 | base=1, PD=-3, constrained=True
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:37:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:37:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:37:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665862.799, '23093.419431584618']}]
2026-02-09 20:37:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23093 bytes/s ‚Üí 5.8 req/s
2026-02-09 20:37:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.8 req/s | Replicas: 2
2026-02-09 20:37:42 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.8 < 10)
2026-02-09 20:37:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:37:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:37:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:37:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:37:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:37:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665863.07, '23092.15131402573']}]
2026-02-09 20:37:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23092 bytes/s ‚Üí 5.8 req/s
2026-02-09 20:37:43 | INFO     | __main__:schedule_service:143 | Current traffic: 5.8 req/s
2026-02-09 20:37:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.454, capacity=20, latency=89ms
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.474, capacity=20, latency=90ms
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.492, capacity=20, latency=94ms
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:37:43 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:37:43 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.492)
2026-02-09 20:37:43 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.492)
2026-02-09 20:37:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:37:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.8 req/s, derivative=0.0029, predicted=7.5 req/s (+600s)
2026-02-09 20:37:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.235, P=-1.17, D=-4.78, output=-3.00, delta=-3
2026-02-09 20:37:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.8, predicted=7.5 | base=1, PD=-3, constrained=True
2026-02-09 20:37:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:37:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:38:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665893.066, '23544.39062457321']}]
2026-02-09 20:38:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23544 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:38:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 2
2026-02-09 20:38:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 20:38:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:38:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:38:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665893.352, '23544.390624573207']}]
2026-02-09 20:38:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23544 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=84ms
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=86ms
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=87ms
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:38:13 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:38:13 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:38:13 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:38:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:38:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0024, predicted=7.3 req/s (+600s)
2026-02-09 20:38:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.195, P=-0.97, D=0.39, output=-0.58, delta=-1
2026-02-09 20:38:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.9, predicted=7.3 | base=1, PD=-1, constrained=True
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:38:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:38:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665923.369, '19412.42733757658']}]
2026-02-09 20:38:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19412 bytes/s ‚Üí 4.9 req/s
2026-02-09 20:38:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.9 req/s | Replicas: 2
2026-02-09 20:38:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.9 < 10)
2026-02-09 20:38:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:38:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:38:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665923.658, '19362.649045228754']}]
2026-02-09 20:38:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19363 bytes/s ‚Üí 4.8 req/s
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:143 | Current traffic: 4.8 req/s
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.527, capacity=20, latency=87ms
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=88ms
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=104ms
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:38:43 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:38:43 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.545)
2026-02-09 20:38:43 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=104ms, winner_det=0ms)
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.545)
2026-02-09 20:38:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:38:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.0020, predicted=3.6 req/s (+600s)
2026-02-09 20:38:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.333, P=1.66, D=5.22, output=3.00, delta=3
2026-02-09 20:38:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.8, predicted=3.6 | base=1, PD=+3, constrained=False
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:38:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:38:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 20:39:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665953.657, '20673.566361450437']}]
2026-02-09 20:39:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20674 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:39:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 4
2026-02-09 20:39:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:39:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:39:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:39:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:39:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:39:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:39:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665953.955, '23653.633640107437']}]
2026-02-09 20:39:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23654 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:39:13 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:39:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.507, capacity=20, latency=91ms
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.581, capacity=20, latency=93ms
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.545, capacity=20, latency=93ms
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:39:13 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:39:13 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=1.581)
2026-02-09 20:39:13 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=93ms, winner_det=0ms)
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=1.581)
2026-02-09 20:39:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:39:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0049, predicted=8.8 req/s (+600s)
2026-02-09 20:39:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.330, P=-1.65, D=-6.55, output=-3.00, delta=-3
2026-02-09 20:39:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 0 ‚Üí 2 (Œî=+2) | traffic: current=5.9, predicted=8.8 | base=1, PD=-3, constrained=True
2026-02-09 20:39:14 | INFO     | __main__:schedule_service:199 | cluster2: 0 ‚Üí 2 (Œî=+2)
2026-02-09 20:39:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 20:39:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-09 20:39:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665983.946, '19730.20535729488']}]
2026-02-09 20:39:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19730 bytes/s ‚Üí 4.9 req/s
2026-02-09 20:39:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.9 req/s | Replicas: 4
2026-02-09 20:39:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.9 < 10)
2026-02-09 20:39:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:39:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:39:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:39:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:39:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:39:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770665984.213, '19730.318507640426']}]
2026-02-09 20:39:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19730 bytes/s ‚Üí 4.9 req/s
2026-02-09 20:39:44 | INFO     | __main__:schedule_service:143 | Current traffic: 4.9 req/s
2026-02-09 20:39:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.141, capacity=20, latency=84ms
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=1.159, capacity=20, latency=98ms
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=97ms
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:39:44 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:39:44 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=1.159)
2026-02-09 20:39:44 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=100ms, winner_det=1ms)
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=1.159)
2026-02-09 20:39:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:39:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.9 req/s, derivative=0.0044, predicted=7.6 req/s (+600s)
2026-02-09 20:39:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.351, P=-1.75, D=-0.20, output=-1.96, delta=-2
2026-02-09 20:39:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.9, predicted=7.6 | base=1, PD=-2, constrained=True
2026-02-09 20:39:44 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:39:44 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:39:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:40:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666014.238, '17019.612944649398']}]
2026-02-09 20:40:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17020 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:40:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 2
2026-02-09 20:40:14 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 20:40:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:40:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:40:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666014.514, '16923.094802352633']}]
2026-02-09 20:40:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16923 bytes/s ‚Üí 4.2 req/s
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:143 | Current traffic: 4.2 req/s
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=105ms
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.805, capacity=20, latency=104ms
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=105ms
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:40:14 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:40:14 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:40:14 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:40:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:40:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.2 req/s, derivative=0.0022, predicted=5.5 req/s (+600s)
2026-02-09 20:40:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.236, P=-1.18, D=1.13, output=-0.05, delta=0
2026-02-09 20:40:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.2, predicted=5.5 | base=1, PD=+0, constrained=True
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:40:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:40:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666044.517, '21638.660632604176']}]
2026-02-09 20:40:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21639 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:40:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:40:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:40:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:40:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:40:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666044.809, '21638.660632604176']}]
2026-02-09 20:40:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21639 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=79ms
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=79ms
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=78ms
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:40:44 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:40:44 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:40:44 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 80ms (collection=80ms, winner_det=0ms)
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:40:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:40:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=0.0042, predicted=7.9 req/s (+600s)
2026-02-09 20:40:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.316, P=-1.58, D=-0.79, output=-2.36, delta=-2
2026-02-09 20:40:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.4, predicted=7.9 | base=1, PD=-2, constrained=True
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:40:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:41:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666074.804, '18492.057139299228']}]
2026-02-09 20:41:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18492 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:41:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 20:41:14 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:41:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:41:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:41:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:41:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:41:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:41:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666075.088, '18387.29240694169']}]
2026-02-09 20:41:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18387 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:41:15 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:41:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=86ms
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=87ms
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=85ms
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:41:15 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:41:15 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:41:15 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=88ms, winner_det=1ms)
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:41:15 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:41:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=0.0004, predicted=4.8 req/s (+600s)
2026-02-09 20:41:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.046, P=-0.23, D=2.67, output=2.44, delta=2
2026-02-09 20:41:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=4.6, predicted=4.8 | base=1, PD=+2, constrained=False
2026-02-09 20:41:15 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 20:41:15 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 20:41:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:41:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666105.101, '21649.69131008666']}]
2026-02-09 20:41:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21650 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:41:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 3
2026-02-09 20:41:45 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:41:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:41:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:41:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666105.375, '21651.150605346367']}]
2026-02-09 20:41:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21651 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.786, capacity=20, latency=88ms
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=88ms
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=90ms
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:41:45 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:41:45 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:41:45 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:41:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:41:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=0.0032, predicted=7.3 req/s (+600s)
2026-02-09 20:41:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.262, P=-1.31, D=-2.14, output=-3.00, delta=-3
2026-02-09 20:41:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=5.4, predicted=7.3 | base=1, PD=-3, constrained=True
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 20:41:45 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:41:45 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:42:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666135.376, '21146.167449168093']}]
2026-02-09 20:42:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21146 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:42:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 20:42:15 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:42:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:42:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:42:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666135.642, '21144.805164469428']}]
2026-02-09 20:42:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21145 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.824, capacity=20, latency=85ms
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.786, capacity=20, latency=84ms
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.807, capacity=20, latency=87ms
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:42:15 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:42:15 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.824)
2026-02-09 20:42:15 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.824)
2026-02-09 20:42:15 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:42:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=-0.0013, predicted=4.5 req/s (+600s)
2026-02-09 20:42:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.178, P=0.89, D=4.37, output=3.00, delta=3
2026-02-09 20:42:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.3, predicted=4.5 | base=1, PD=+3, constrained=False
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:42:15 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:42:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 20:42:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666165.642, '20349.556484103752']}]
2026-02-09 20:42:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20350 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:42:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.1 req/s | Replicas: 4
2026-02-09 20:42:45 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.1 < 10)
2026-02-09 20:42:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:42:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:42:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666165.909, '20353.033919051813']}]
2026-02-09 20:42:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20353 bytes/s ‚Üí 5.1 req/s
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=81ms
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=81ms
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=81ms
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:42:45 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:42:45 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.824)
2026-02-09 20:42:45 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.824)
2026-02-09 20:42:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:42:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=-0.0023, predicted=3.7 req/s (+600s)
2026-02-09 20:42:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.364, P=1.82, D=1.84, output=3.00, delta=3
2026-02-09 20:42:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.1, predicted=3.7 | base=1, PD=+3, constrained=False
2026-02-09 20:42:45 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:42:46 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-09 20:42:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:43:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666195.945, '22674.20994368891']}]
2026-02-09 20:43:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22674 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:43:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 4
2026-02-09 20:43:15 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:43:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:43:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:43:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:43:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:43:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:43:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666196.22, '22744.04705250767']}]
2026-02-09 20:43:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22744 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:43:16 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:43:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.772, capacity=20, latency=84ms
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.735, capacity=20, latency=99ms
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:43:16 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:43:16 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.789)
2026-02-09 20:43:16 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.789)
2026-02-09 20:43:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:43:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=-0.0007, predicted=5.3 req/s (+600s)
2026-02-09 20:43:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.075, P=0.37, D=-2.86, output=-2.48, delta=-2
2026-02-09 20:43:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.7, predicted=5.3 | base=1, PD=-2, constrained=True
2026-02-09 20:43:16 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:43:16 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 20:43:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:43:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666226.222, '21047.26417478541']}]
2026-02-09 20:43:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21047 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:43:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 4
2026-02-09 20:43:46 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:43:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:43:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:43:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666226.495, '21154.368550598636']}]
2026-02-09 20:43:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21154 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=86ms
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.755, capacity=20, latency=98ms
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:43:46 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:43:46 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:43:46 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=100ms, winner_det=0ms)
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:43:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:43:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0015, predicted=6.2 req/s (+600s)
2026-02-09 20:43:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.144, P=-0.72, D=-2.17, output=-2.89, delta=-3
2026-02-09 20:43:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.3, predicted=6.2 | base=1, PD=-3, constrained=True
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:43:46 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:43:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:44:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666256.508, '18884.984716752053']}]
2026-02-09 20:44:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18885 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:44:16 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.7 req/s | Replicas: 2
2026-02-09 20:44:16 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.7 < 10)
2026-02-09 20:44:16 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:44:16 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:44:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666256.789, '18781.78852677472']}]
2026-02-09 20:44:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18782 bytes/s ‚Üí 4.7 req/s
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:143 | Current traffic: 4.7 req/s
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=86ms
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=99ms
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=101ms
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:44:16 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:44:16 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:44:16 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:44:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:44:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=-0.0040, predicted=2.3 req/s (+600s)
2026-02-09 20:44:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.058, P=5.29, D=11.90, output=3.00, delta=3
2026-02-09 20:44:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.7, predicted=2.3 | base=1, PD=+3, constrained=False
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:44:16 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:44:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 20:44:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666286.779, '18208.191551659234']}]
2026-02-09 20:44:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18208 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:44:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 4
2026-02-09 20:44:46 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:44:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:44:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:44:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:44:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:44:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:44:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666287.065, '18118.669509780473']}]
2026-02-09 20:44:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18119 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:44:46 | INFO     | __main__:schedule_service:143 | Current traffic: 4.5 req/s
2026-02-09 20:44:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:44:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:44:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=86ms
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=91ms
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=103ms
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:44:47 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:44:47 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.825)
2026-02-09 20:44:47 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.825)
2026-02-09 20:44:47 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:44:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=-0.0013, predicted=3.7 req/s (+600s)
2026-02-09 20:44:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.214, P=1.07, D=-8.36, output=-3.00, delta=-3
2026-02-09 20:44:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=3.7 | base=1, PD=-3, constrained=True
2026-02-09 20:44:47 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:44:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:45:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666317.097, '20112.428051090825']}]
2026-02-09 20:45:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20112 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:45:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 4
2026-02-09 20:45:17 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 20:45:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:45:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:45:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666317.389, '20061.515861245873']}]
2026-02-09 20:45:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20062 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=77ms
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=98ms
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=97ms
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:45:17 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:45:17 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:45:17 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 115ms (collection=115ms, winner_det=0ms)
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:45:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:45:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=0.0026, predicted=6.6 req/s (+600s)
2026-02-09 20:45:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.237, P=-1.18, D=-4.45, output=-3.00, delta=-3
2026-02-09 20:45:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.0, predicted=6.6 | base=1, PD=-3, constrained=True
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:45:17 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:45:17 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 20:45:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666347.375, '17806.740094499673']}]
2026-02-09 20:45:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17807 bytes/s ‚Üí 4.5 req/s
2026-02-09 20:45:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.5 req/s | Replicas: 2
2026-02-09 20:45:47 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.5 < 10)
2026-02-09 20:45:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:45:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:45:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666347.656, '17702.87206809556']}]
2026-02-09 20:45:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17703 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=91ms
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=91ms
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:45:47 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:45:47 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:45:47 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=94ms, winner_det=0ms)
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:45:47 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:45:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0032, predicted=2.5 req/s (+600s)
2026-02-09 20:45:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.787, P=3.94, D=10.16, output=3.00, delta=3
2026-02-09 20:45:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.4, predicted=2.5 | base=1, PD=+3, constrained=False
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:45:47 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:45:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:46:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666377.665, '23912.070831367604']}]
2026-02-09 20:46:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23912 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:46:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 4
2026-02-09 20:46:17 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 20:46:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:46:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:46:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666377.933, '23915.73583853938']}]
2026-02-09 20:46:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23916 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=91ms
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=91ms
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=91ms
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:46:17 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:46:17 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.824)
2026-02-09 20:46:17 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.824)
2026-02-09 20:46:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:46:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=0.0046, predicted=8.7 req/s (+600s)
2026-02-09 20:46:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.314, P=-1.57, D=-10.92, output=-3.00, delta=-3
2026-02-09 20:46:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.0, predicted=8.7 | base=1, PD=-3, constrained=True
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:46:17 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.35s
2026-02-09 20:46:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666407.955, '25050.112552312523']}]
2026-02-09 20:46:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25050 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:46:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 4
2026-02-09 20:46:47 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 20:46:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:46:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:46:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:46:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:46:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:46:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666408.225, '25050.123483360345']}]
2026-02-09 20:46:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25050 bytes/s ‚Üí 6.3 req/s
2026-02-09 20:46:48 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 20:46:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=90ms
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=96ms
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:46:48 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:46:48 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 20:46:48 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=97ms, winner_det=0ms)
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 20:46:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:46:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0028, predicted=7.9 req/s (+600s)
2026-02-09 20:46:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.212, P=-1.06, D=1.01, output=-0.05, delta=0
2026-02-09 20:46:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.3, predicted=7.9 | base=1, PD=+0, constrained=True
2026-02-09 20:46:48 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:46:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:46:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:47:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666438.223, '23695.801013222197']}]
2026-02-09 20:47:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23696 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:47:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 2
2026-02-09 20:47:18 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 20:47:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:47:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:47:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666438.498, '23693.811614497397']}]
2026-02-09 20:47:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23694 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=108ms
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:47:18 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:47:18 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:47:18 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 115ms (collection=114ms, winner_det=1ms)
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:47:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:47:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0021, predicted=7.2 req/s (+600s)
2026-02-09 20:47:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.176, P=-0.88, D=0.36, output=-0.52, delta=-1
2026-02-09 20:47:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.9, predicted=7.2 | base=1, PD=-1, constrained=True
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:47:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:47:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666468.497, '20785.044795810838']}]
2026-02-09 20:47:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20785 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:47:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 20:47:48 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:47:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:47:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:47:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666468.788, '20785.044795810838']}]
2026-02-09 20:47:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20785 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=86ms
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=86ms
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=98ms
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:47:48 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:47:48 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:47:48 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=2ms)
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:47:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:47:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=0.0004, predicted=5.4 req/s (+600s)
2026-02-09 20:47:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.040, P=-0.20, D=1.35, output=1.15, delta=1
2026-02-09 20:47:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.2, predicted=5.4 | base=1, PD=+1, constrained=False
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:47:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:48:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666498.792, '21290.451903493642']}]
2026-02-09 20:48:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21290 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:48:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 20:48:18 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:48:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:48:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:48:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:48:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:48:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:48:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666499.063, '21290.451903493642']}]
2026-02-09 20:48:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21290 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:48:18 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:48:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:48:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:48:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=86ms
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:48:19 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:48:19 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:48:19 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=1ms)
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:48:19 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:48:19 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=-0.0012, predicted=4.6 req/s (+600s)
2026-02-09 20:48:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.156, P=0.78, D=1.94, output=2.73, delta=3
2026-02-09 20:48:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.3, predicted=4.6 | base=1, PD=+3, constrained=False
2026-02-09 20:48:19 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:48:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:48:19 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 20:48:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666529.063, '22414.914472747194']}]
2026-02-09 20:48:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22415 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:48:49 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.6 req/s | Replicas: 4
2026-02-09 20:48:49 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.6 < 10)
2026-02-09 20:48:49 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:48:49 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:48:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666529.346, '22272.770473335426']}]
2026-02-09 20:48:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22273 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:143 | Current traffic: 5.6 req/s
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=83ms
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=96ms
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=99ms
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:48:49 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:48:49 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.824)
2026-02-09 20:48:49 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=100ms, winner_det=0ms)
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.824)
2026-02-09 20:48:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:48:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.6 req/s, derivative=0.0009, predicted=6.1 req/s (+600s)
2026-02-09 20:48:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.090, P=-0.45, D=-2.45, output=-2.90, delta=-3
2026-02-09 20:48:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.6, predicted=6.1 | base=1, PD=-3, constrained=True
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:48:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 20:49:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666559.337, '20668.06303000722']}]
2026-02-09 20:49:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20668 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:49:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 4
2026-02-09 20:49:19 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:49:19 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:49:19 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:49:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666559.623, '20786.12158629684']}]
2026-02-09 20:49:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20786 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=89ms
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=89ms
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=89ms
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:49:19 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:49:19 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:49:19 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:49:19 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:49:19 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=0.0017, predicted=6.2 req/s (+600s)
2026-02-09 20:49:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.160, P=-0.80, D=-0.69, output=-1.50, delta=-1
2026-02-09 20:49:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.2, predicted=6.2 | base=1, PD=-1, constrained=True
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:49:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:49:19 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:49:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666589.619, '23374.234014640966']}]
2026-02-09 20:49:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23374 bytes/s ‚Üí 5.8 req/s
2026-02-09 20:49:49 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.8 req/s | Replicas: 2
2026-02-09 20:49:49 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.8 < 10)
2026-02-09 20:49:49 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:49:49 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:49:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666589.893, '23372.40342408381']}]
2026-02-09 20:49:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23372 bytes/s ‚Üí 5.8 req/s
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:143 | Current traffic: 5.8 req/s
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=89ms
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=104ms
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=104ms
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:49:49 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:49:49 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:49:49 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=105ms, winner_det=1ms)
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:49:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:49:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.8 req/s, derivative=0.0043, predicted=8.4 req/s (+600s)
2026-02-09 20:49:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.308, P=-1.54, D=-1.46, output=-3.00, delta=-3
2026-02-09 20:49:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.8, predicted=8.4 | base=1, PD=-3, constrained=True
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:49:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:50:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666619.894, '18392.622294462948']}]
2026-02-09 20:50:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18393 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:50:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 20:50:19 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:50:19 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:50:19 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:50:19 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:50:19 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:50:19 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:50:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666620.161, '18298.769209497925']}]
2026-02-09 20:50:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18299 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:50:20 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:50:20 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=87ms
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=87ms
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=106ms
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:50:20 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:50:20 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:50:20 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:50:20 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:50:20 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0015, predicted=3.7 req/s (+600s)
2026-02-09 20:50:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.236, P=1.18, D=5.39, output=3.00, delta=3
2026-02-09 20:50:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=3.7 | base=1, PD=+3, constrained=False
2026-02-09 20:50:20 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:50:20 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:50:20 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 20:50:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666650.183, '17704.091213124437']}]
2026-02-09 20:50:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17704 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:50:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.4 req/s | Replicas: 4
2026-02-09 20:50:50 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.4 < 10)
2026-02-09 20:50:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:50:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:50:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666650.463, '17607.78062854333']}]
2026-02-09 20:50:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17608 bytes/s ‚Üí 4.4 req/s
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=84ms
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:50:50 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:50:50 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:50:50 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:50:50 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:50:50 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0001, predicted=4.4 req/s (+600s)
2026-02-09 20:50:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.011, P=0.05, D=-2.23, output=-2.18, delta=-2
2026-02-09 20:50:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.4, predicted=4.4 | base=1, PD=-2, constrained=True
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:50:50 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:50:50 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:51:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666680.454, '22075.560504606496']}]
2026-02-09 20:51:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22076 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:51:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:51:20 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:51:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:51:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:51:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666680.735, '22071.750205568667']}]
2026-02-09 20:51:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22072 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=108ms
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:51:20 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:51:20 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:51:20 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 112ms (collection=111ms, winner_det=1ms)
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:51:20 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:51:20 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=-0.0015, predicted=4.6 req/s (+600s)
2026-02-09 20:51:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.198, P=0.99, D=1.86, output=2.85, delta=3
2026-02-09 20:51:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.5, predicted=4.6 | base=1, PD=+3, constrained=False
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:51:20 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:51:20 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 20:51:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666710.733, '23886.016077788627']}]
2026-02-09 20:51:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23886 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:51:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 4
2026-02-09 20:51:50 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 20:51:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:51:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:51:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:51:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:51:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:51:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666711.006, '23894.60435461949']}]
2026-02-09 20:51:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23895 bytes/s ‚Üí 6.0 req/s
2026-02-09 20:51:50 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 20:51:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:51:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:51:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=86ms
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=99ms
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:51:51 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:51:51 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 20:51:51 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=101ms, winner_det=0ms)
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 20:51:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:51:51 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=-0.0010, predicted=5.4 req/s (+600s)
2026-02-09 20:51:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.106, P=0.53, D=-0.92, output=-0.39, delta=0
2026-02-09 20:51:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.0, predicted=5.4 | base=1, PD=+0, constrained=True
2026-02-09 20:51:51 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:51:51 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:51:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:52:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666741.008, '14789.370976980634']}]
2026-02-09 20:52:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14789 bytes/s ‚Üí 3.7 req/s
2026-02-09 20:52:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.7 req/s | Replicas: 2
2026-02-09 20:52:20 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.7 < 10)
2026-02-09 20:52:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:52:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:52:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:52:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:52:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:52:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666741.278, '14786.244778455939']}]
2026-02-09 20:52:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14786 bytes/s ‚Üí 3.7 req/s
2026-02-09 20:52:21 | INFO     | __main__:schedule_service:143 | Current traffic: 3.7 req/s
2026-02-09 20:52:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.805, capacity=20, latency=86ms
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=89ms
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=100ms
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:52:21 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:52:21 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:52:21 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:52:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:52:21 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.7 req/s, derivative=-0.0074, predicted=0.0 req/s (+600s)
2026-02-09 20:52:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-1.05, output=-1.05, delta=-1
2026-02-09 20:52:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=3.7, predicted=0.0 | base=1, PD=-1, constrained=True
2026-02-09 20:52:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:52:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:52:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666771.291, '21241.645502281655']}]
2026-02-09 20:52:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21242 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:52:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 20:52:51 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:52:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:52:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:52:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666771.581, '21240.684971523333']}]
2026-02-09 20:52:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21241 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=84ms
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=85ms
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=85ms
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:52:51 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:52:51 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:52:51 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:52:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:52:51 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0004, predicted=5.5 req/s (+600s)
2026-02-09 20:52:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.041, P=-0.20, D=-0.40, output=-0.61, delta=-1
2026-02-09 20:52:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.3, predicted=5.5 | base=1, PD=-1, constrained=True
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:52:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 20:53:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666801.581, '20833.6662446127']}]
2026-02-09 20:53:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20834 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:53:21 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 20:53:21 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 20:53:21 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:53:21 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:53:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666801.85, '20833.6662446127']}]
2026-02-09 20:53:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20834 bytes/s ‚Üí 5.2 req/s
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=87ms
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=87ms
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=87ms
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:53:21 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:53:21 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:53:21 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:53:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:53:21 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0004, predicted=5.0 req/s (+600s)
2026-02-09 20:53:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.045, P=0.23, D=0.85, output=1.08, delta=1
2026-02-09 20:53:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.2, predicted=5.0 | base=1, PD=+1, constrained=False
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:53:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:53:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666831.862, '17279.45371656195']}]
2026-02-09 20:53:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17279 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:53:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 2
2026-02-09 20:53:51 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 20:53:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:53:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:53:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:53:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 20:53:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:53:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666832.132, '17178.063285736425']}]
2026-02-09 20:53:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17178 bytes/s ‚Üí 4.3 req/s
2026-02-09 20:53:52 | INFO     | __main__:schedule_service:143 | Current traffic: 4.3 req/s
2026-02-09 20:53:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=83ms
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=87ms
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.805, capacity=20, latency=86ms
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:53:52 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:53:52 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:53:52 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:53:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:53:52 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.3 req/s, derivative=-0.0042, predicted=1.8 req/s (+600s)
2026-02-09 20:53:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.426, P=7.13, D=13.67, output=3.00, delta=3
2026-02-09 20:53:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.3, predicted=1.8 | base=1, PD=+3, constrained=False
2026-02-09 20:53:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:53:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:53:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:54:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666862.128, '18328.46222261911']}]
2026-02-09 20:54:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18328 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:54:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 4
2026-02-09 20:54:22 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:54:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:54:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:54:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666862.409, '18229.441868772676']}]
2026-02-09 20:54:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18229 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=85ms
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=83ms
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=87ms
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:54:22 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:54:22 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:54:22 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:54:22 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:54:22 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0021, predicted=3.3 req/s (+600s)
2026-02-09 20:54:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.385, P=1.92, D=-10.31, output=-3.00, delta=-3
2026-02-09 20:54:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.6, predicted=3.3 | base=1, PD=-3, constrained=True
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:54:22 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:54:22 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:54:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666892.431, '24549.697451707627']}]
2026-02-09 20:54:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24550 bytes/s ‚Üí 6.1 req/s
2026-02-09 20:54:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.1 req/s | Replicas: 2
2026-02-09 20:54:52 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.1 < 10)
2026-02-09 20:54:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:54:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:54:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666892.7, '24547.51367102516']}]
2026-02-09 20:54:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24548 bytes/s ‚Üí 6.1 req/s
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:143 | Current traffic: 6.1 req/s
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=85ms
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:54:52 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:54:52 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:54:52 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:54:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:54:52 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.1 req/s, derivative=0.0010, predicted=6.7 req/s (+600s)
2026-02-09 20:54:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.087, P=-0.43, D=-4.67, output=-3.00, delta=-3
2026-02-09 20:54:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.1, predicted=6.7 | base=1, PD=-3, constrained=True
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:54:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:55:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666922.7, '18451.01661895838']}]
2026-02-09 20:55:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18451 bytes/s ‚Üí 4.6 req/s
2026-02-09 20:55:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 20:55:22 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 20:55:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:55:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:55:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:55:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:55:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:55:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666923.002, '19833.47920318444']}]
2026-02-09 20:55:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19833 bytes/s ‚Üí 5.0 req/s
2026-02-09 20:55:22 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 20:55:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:55:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:55:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=87ms
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:55:23 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:55:23 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:55:23 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:55:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:55:23 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=0.0013, predicted=5.7 req/s (+600s)
2026-02-09 20:55:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.66, D=-0.46, output=-1.12, delta=-1
2026-02-09 20:55:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.0, predicted=5.7 | base=1, PD=-1, constrained=True
2026-02-09 20:55:23 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:55:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:55:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666952.981, '21022.86135901928']}]
2026-02-09 20:55:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21023 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:55:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 20:55:52 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:55:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:55:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:55:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:55:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:55:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:55:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666953.248, '21022.861359019276']}]
2026-02-09 20:55:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21023 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:55:53 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:55:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=84ms
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=88ms
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=100ms
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:55:53 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:55:53 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:55:53 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=102ms, winner_det=1ms)
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:55:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:55:53 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0028, predicted=6.9 req/s (+600s)
2026-02-09 20:55:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.244, P=-1.22, D=-1.10, output=-2.31, delta=-2
2026-02-09 20:55:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.3, predicted=6.9 | base=1, PD=-2, constrained=True
2026-02-09 20:55:53 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:55:53 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:56:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666983.259, '21526.670340519002']}]
2026-02-09 20:56:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21527 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:56:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:56:23 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:56:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:56:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:56:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770666983.549, '21530.682138416836']}]
2026-02-09 20:56:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21531 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=84ms
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=84ms
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=88ms
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:56:23 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:56:23 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:56:23 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:56:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:56:23 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0004, predicted=5.1 req/s (+600s)
2026-02-09 20:56:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.052, P=0.26, D=2.93, output=3.00, delta=3
2026-02-09 20:56:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.4, predicted=5.1 | base=1, PD=+3, constrained=False
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:56:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:56:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:56:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667013.546, '21180.18497492521']}]
2026-02-09 20:56:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21180 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:56:53 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 4
2026-02-09 20:56:53 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:56:53 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:56:53 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:56:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667013.815, '21184.377011358803']}]
2026-02-09 20:56:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21184 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=86ms
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=105ms
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=104ms
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:56:53 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:56:53 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:56:53 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:56:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:56:53 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=-0.0022, predicted=4.0 req/s (+600s)
2026-02-09 20:56:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.340, P=1.70, D=2.85, output=3.00, delta=3
2026-02-09 20:56:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=5.3, predicted=4.0 | base=1, PD=+3, constrained=False
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 20:56:53 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 20:57:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667043.849, '21146.057426113894']}]
2026-02-09 20:57:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21146 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:57:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 4
2026-02-09 20:57:23 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 20:57:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 20:57:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:57:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:57:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:57:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:57:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667044.14, '21144.65280790787']}]
2026-02-09 20:57:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21145 bytes/s ‚Üí 5.3 req/s
2026-02-09 20:57:24 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 20:57:24 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=87ms
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=87ms
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:57:24 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:57:24 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 20:57:24 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 20:57:24 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:57:24 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0052, predicted=8.4 req/s (+600s)
2026-02-09 20:57:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.373, P=-1.87, D=-7.06, output=-3.00, delta=-3
2026-02-09 20:57:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.3, predicted=8.4 | base=1, PD=-3, constrained=True
2026-02-09 20:57:24 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:57:24 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:57:24 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 20:57:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667074.115, '21914.48342255415']}]
2026-02-09 20:57:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21914 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:57:54 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 20:57:54 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 20:57:54 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:57:54 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:57:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667074.386, '21914.483422554153']}]
2026-02-09 20:57:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21914 bytes/s ‚Üí 5.5 req/s
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=88ms
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=103ms
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:57:54 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:57:54 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:57:54 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:57:54 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:57:54 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0006, predicted=5.8 req/s (+600s)
2026-02-09 20:57:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.057, P=-0.29, D=3.13, output=2.85, delta=3
2026-02-09 20:57:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.5, predicted=5.8 | base=1, PD=+3, constrained=False
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:57:54 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:57:54 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:58:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667104.386, '23539.973992210787']}]
2026-02-09 20:58:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23540 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:58:24 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 4
2026-02-09 20:58:24 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 20:58:24 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:58:24 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:58:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667104.65, '23543.310419974507']}]
2026-02-09 20:58:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23543 bytes/s ‚Üí 5.9 req/s
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=91ms
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=91ms
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=108ms
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:58:24 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:58:24 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 20:58:24 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=108ms, winner_det=0ms)
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 20:58:24 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:58:24 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0022, predicted=7.2 req/s (+600s)
2026-02-09 20:58:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.186, P=-0.93, D=-1.27, output=-2.20, delta=-2
2026-02-09 20:58:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.9, predicted=7.2 | base=1, PD=-2, constrained=True
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 20:58:24 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 20:58:24 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:58:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667134.666, '22777.12737439594']}]
2026-02-09 20:58:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22777 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:58:54 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.7 req/s | Replicas: 2
2026-02-09 20:58:54 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.7 < 10)
2026-02-09 20:58:54 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 20:58:54 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:58:54 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:58:54 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:58:54 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:58:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667134.995, '22772.279961466378']}]
2026-02-09 20:58:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22772 bytes/s ‚Üí 5.7 req/s
2026-02-09 20:58:54 | INFO     | __main__:schedule_service:143 | Current traffic: 5.7 req/s
2026-02-09 20:58:54 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:58:54 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:58:54 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=87ms
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:58:55 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:58:55 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:58:55 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:58:55 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:58:55 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.7 req/s, derivative=0.0046, predicted=8.5 req/s (+600s)
2026-02-09 20:58:55 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.327, P=-1.64, D=-1.40, output=-3.00, delta=-3
2026-02-09 20:58:55 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.7, predicted=8.5 | base=1, PD=-3, constrained=True
2026-02-09 20:58:55 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:58:55 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 20:59:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667164.962, '21583.480492317027']}]
2026-02-09 20:59:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21583 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:59:24 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 20:59:24 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 20:59:24 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:59:24 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:59:24 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:59:24 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 20:59:24 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:59:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667165.225, '21582.55070838273']}]
2026-02-09 20:59:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21583 bytes/s ‚Üí 5.4 req/s
2026-02-09 20:59:25 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 20:59:25 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=84ms
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=85ms
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=92ms
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:59:25 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:59:25 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:59:25 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=97ms, winner_det=0ms)
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:59:25 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:59:25 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=0.0028, predicted=7.1 req/s (+600s)
2026-02-09 20:59:25 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.235, P=-1.18, D=0.91, output=-0.26, delta=0
2026-02-09 20:59:25 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.4, predicted=7.1 | base=1, PD=+0, constrained=True
2026-02-09 20:59:25 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 20:59:25 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 20:59:55 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667195.265, '22302.837148176193']}]
2026-02-09 20:59:55 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22303 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:59:55 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.6 req/s | Replicas: 2
2026-02-09 20:59:55 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.6 < 10)
2026-02-09 20:59:55 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 20:59:55 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 20:59:55 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667195.539, '22302.837148176193']}]
2026-02-09 20:59:55 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22303 bytes/s ‚Üí 5.6 req/s
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:143 | Current traffic: 5.6 req/s
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=86ms
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=84ms
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=94ms
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 20:59:55 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 20:59:55 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 20:59:55 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=95ms, winner_det=1ms)
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 20:59:55 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 20:59:55 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.6 req/s, derivative=-0.0019, predicted=4.5 req/s (+600s)
2026-02-09 20:59:55 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.249, P=1.25, D=4.79, output=3.00, delta=3
2026-02-09 20:59:55 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.6, predicted=4.5 | base=1, PD=+3, constrained=False
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 20:59:55 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 20:59:55 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:00:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667225.552, '26072.972804913326']}]
2026-02-09 21:00:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26073 bytes/s ‚Üí 6.5 req/s
2026-02-09 21:00:25 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.5 req/s | Replicas: 4
2026-02-09 21:00:25 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.5 < 10)
2026-02-09 21:00:25 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:00:25 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_7rps)
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:00:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667225.853, '26081.319299693725']}]
2026-02-09 21:00:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26081 bytes/s ‚Üí 6.5 req/s
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:143 | Current traffic: 6.5 req/s
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=85ms
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=90ms
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=90ms
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:00:25 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:00:25 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:00:25 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=90ms, winner_det=5ms)
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:00:25 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:00:25 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.5 req/s, derivative=0.0052, predicted=9.6 req/s (+600s)
2026-02-09 21:00:25 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.322, P=-1.61, D=-5.65, output=-3.00, delta=-3
2026-02-09 21:00:25 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.5, predicted=9.6 | base=1, PD=-3, constrained=True
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:00:25 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:00:25 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 21:00:55 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667255.842, '21077.46652982941']}]
2026-02-09 21:00:55 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21077 bytes/s ‚Üí 5.3 req/s
2026-02-09 21:00:55 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 2
2026-02-09 21:00:55 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 21:00:55 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:00:55 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:00:55 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:00:55 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:00:55 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:00:56 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667256.112, '20962.95951209074']}]
2026-02-09 21:00:56 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20963 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:00:56 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 21:00:56 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=85ms
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=84ms
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=101ms
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:00:56 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:00:56 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:00:56 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:00:56 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:00:56 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0000, predicted=5.2 req/s (+600s)
2026-02-09 21:00:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.006, P=0.03, D=3.25, output=3.00, delta=3
2026-02-09 21:00:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.2, predicted=5.2 | base=1, PD=+3, constrained=False
2026-02-09 21:00:56 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:00:56 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:00:56 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:01:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667286.134, '21960.519529353347']}]
2026-02-09 21:01:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21961 bytes/s ‚Üí 5.5 req/s
2026-02-09 21:01:26 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 4
2026-02-09 21:01:26 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 21:01:26 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:01:26 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:01:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667286.421, '21968.69590500881']}]
2026-02-09 21:01:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21969 bytes/s ‚Üí 5.5 req/s
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=85ms
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=85ms
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:01:26 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:01:26 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:01:26 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:01:26 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:01:26 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0004, predicted=5.7 req/s (+600s)
2026-02-09 21:01:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.038, P=-0.19, D=-0.43, output=-0.62, delta=-1
2026-02-09 21:01:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.5, predicted=5.7 | base=1, PD=-1, constrained=True
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:01:26 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:01:26 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:01:56 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667316.45, '22023.052300705607']}]
2026-02-09 21:01:56 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22023 bytes/s ‚Üí 5.5 req/s
2026-02-09 21:01:56 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.5 req/s | Replicas: 2
2026-02-09 21:01:56 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.5 < 10)
2026-02-09 21:01:56 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:01:56 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:01:56 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667316.72, '22023.249986073526']}]
2026-02-09 21:01:56 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 22023 bytes/s ‚Üí 5.5 req/s
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:143 | Current traffic: 5.5 req/s
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=89ms
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=89ms
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=89ms
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:01:56 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:01:56 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:01:56 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:01:56 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:01:56 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.5 req/s, derivative=0.0007, predicted=5.9 req/s (+600s)
2026-02-09 21:01:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.070, P=-0.35, D=-0.32, output=-0.67, delta=-1
2026-02-09 21:01:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.5, predicted=5.9 | base=1, PD=-1, constrained=True
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:01:56 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 21:02:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667346.725, '20684.266757129953']}]
2026-02-09 21:02:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20684 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:02:26 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 21:02:26 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 21:02:26 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:02:26 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:02:26 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:02:26 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:02:26 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:02:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667347.017, '20684.256390546463']}]
2026-02-09 21:02:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20684 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:02:26 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 21:02:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:02:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:02:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=74ms
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=101ms
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:02:27 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:02:27 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:02:27 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=102ms, winner_det=0ms)
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:02:27 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:02:27 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0004, predicted=4.9 req/s (+600s)
2026-02-09 21:02:27 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.046, P=0.23, D=1.15, output=1.38, delta=1
2026-02-09 21:02:27 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.2, predicted=4.9 | base=1, PD=+1, constrained=False
2026-02-09 21:02:27 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:02:27 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:02:56 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667377.004, '20483.8452406206']}]
2026-02-09 21:02:56 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20484 bytes/s ‚Üí 5.1 req/s
2026-02-09 21:02:56 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.1 req/s | Replicas: 2
2026-02-09 21:02:56 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.1 < 10)
2026-02-09 21:02:56 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:02:56 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:02:56 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:02:56 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:02:56 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:02:57 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667377.284, '20483.8452406206']}]
2026-02-09 21:02:57 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20484 bytes/s ‚Üí 5.1 req/s
2026-02-09 21:02:57 | INFO     | __main__:schedule_service:143 | Current traffic: 5.1 req/s
2026-02-09 21:02:57 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=104ms
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:02:57 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:02:57 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:02:57 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=105ms, winner_det=0ms)
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:02:57 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:02:57 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.1 req/s, derivative=-0.0012, predicted=4.4 req/s (+600s)
2026-02-09 21:02:57 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.161, P=0.80, D=1.13, output=1.94, delta=2
2026-02-09 21:02:57 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=5.1, predicted=4.4 | base=1, PD=+2, constrained=False
2026-02-09 21:02:57 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 21:02:57 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 21:02:57 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:03:27 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667407.287, '23791.698175595175']}]
2026-02-09 21:03:27 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23792 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:03:27 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 3
2026-02-09 21:03:27 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 21:03:27 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:03:27 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:03:27 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667407.592, '23791.698175595175']}]
2026-02-09 21:03:27 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23792 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=83ms
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=106ms
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=103ms
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:03:27 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:03:27 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:03:27 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=106ms, winner_det=0ms)
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:03:27 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:03:27 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0002, predicted=6.1 req/s (+600s)
2026-02-09 21:03:27 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.10, D=-1.79, output=-1.89, delta=-2
2026-02-09 21:03:27 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=5.9, predicted=6.1 | base=1, PD=-2, constrained=True
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:03:27 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:03:27 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 21:03:57 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667437.567, '18557.211049401067']}]
2026-02-09 21:03:57 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18557 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:03:57 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 21:03:57 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 21:03:57 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:03:57 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:03:57 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667437.848, '18443.3505226453']}]
2026-02-09 21:03:57 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18443 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.787, capacity=20, latency=89ms
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.807, capacity=20, latency=91ms
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.824, capacity=20, latency=105ms
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:03:57 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:03:57 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.824)
2026-02-09 21:03:57 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=107ms, winner_det=0ms)
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.824)
2026-02-09 21:03:57 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:03:57 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0036, predicted=2.5 req/s (+600s)
2026-02-09 21:03:57 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.869, P=4.35, D=8.82, output=3.00, delta=3
2026-02-09 21:03:57 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=2.5 | base=1, PD=+3, constrained=False
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:03:57 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:03:57 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:04:27 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667467.854, '20033.71911998174']}]
2026-02-09 21:04:27 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20034 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:04:27 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 4
2026-02-09 21:04:27 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 21:04:27 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:04:27 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:04:27 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:04:27 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:04:27 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:04:28 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667468.124, '20041.34256867118']}]
2026-02-09 21:04:28 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20041 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:04:28 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 21:04:28 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=86ms
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=86ms
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.787, capacity=20, latency=85ms
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:04:28 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:04:28 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:04:28 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=88ms, winner_det=1ms)
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:04:28 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:04:28 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=-0.0013, predicted=4.2 req/s (+600s)
2026-02-09 21:04:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.180, P=0.90, D=-6.83, output=-3.00, delta=-3
2026-02-09 21:04:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.0, predicted=4.2 | base=1, PD=-3, constrained=True
2026-02-09 21:04:28 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:04:28 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:04:28 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:04:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667498.132, '18102.70447121171']}]
2026-02-09 21:04:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18103 bytes/s ‚Üí 4.5 req/s
2026-02-09 21:04:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.5 req/s | Replicas: 2
2026-02-09 21:04:58 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.5 < 10)
2026-02-09 21:04:58 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:04:58 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:04:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667498.414, '18099.912600926964']}]
2026-02-09 21:04:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18100 bytes/s ‚Üí 4.5 req/s
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:143 | Current traffic: 4.5 req/s
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=91ms
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=92ms
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=91ms
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:04:58 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:04:58 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:04:58 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=94ms, winner_det=0ms)
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:04:58 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:04:58 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=-0.0035, predicted=2.4 req/s (+600s)
2026-02-09 21:04:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.852, P=4.26, D=6.65, output=3.00, delta=3
2026-02-09 21:04:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.5, predicted=2.4 | base=1, PD=+3, constrained=False
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:04:58 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:04:58 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 21:05:28 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667528.398, '21717.9367238666']}]
2026-02-09 21:05:28 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21718 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:05:28 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 4
2026-02-09 21:05:28 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 21:05:28 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:05:28 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:05:28 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667528.708, '19239.922140023347']}]
2026-02-09 21:05:28 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19240 bytes/s ‚Üí 4.8 req/s
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:143 | Current traffic: 4.8 req/s
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=83ms
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=79ms
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=121ms
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:05:28 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:05:28 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:05:28 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 132ms (collection=132ms, winner_det=0ms)
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:05:28 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:05:28 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.0056, predicted=1.4 req/s (+600s)
2026-02-09 21:05:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.383, P=11.91, D=15.14, output=3.00, delta=3
2026-02-09 21:05:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=4.8, predicted=1.4 | base=1, PD=+3, constrained=False
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:05:28 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 21:05:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667558.668, '20907.69380661156']}]
2026-02-09 21:05:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20908 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:05:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 4
2026-02-09 21:05:58 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 21:05:58 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:05:58 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:05:58 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:05:58 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:05:58 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:05:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667558.969, '20906.736120673184']}]
2026-02-09 21:05:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20907 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:05:58 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 21:05:58 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=79ms
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=77ms
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=77ms
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:05:58 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:05:58 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:05:58 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 79ms (collection=79ms, winner_det=0ms)
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:05:58 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:05:59 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0000, predicted=5.2 req/s (+600s)
2026-02-09 21:05:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.005, P=0.03, D=-23.61, output=-3.00, delta=-3
2026-02-09 21:05:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.2, predicted=5.2 | base=1, PD=-3, constrained=True
2026-02-09 21:05:59 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:05:59 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:05:59 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:06:28 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667588.954, '18529.673107636925']}]
2026-02-09 21:06:28 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18530 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:06:28 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 21:06:28 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 21:06:28 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:06:28 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:06:28 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:06:28 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:06:28 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:06:29 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667589.237, '18423.1655360254']}]
2026-02-09 21:06:29 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18423 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:06:29 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 21:06:29 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=85ms
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=85ms
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=85ms
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:06:29 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:06:29 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:06:29 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:06:29 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:06:29 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0029, predicted=2.8 req/s (+600s)
2026-02-09 21:06:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.616, P=3.08, D=6.06, output=3.00, delta=3
2026-02-09 21:06:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=2.8 | base=1, PD=+3, constrained=False
2026-02-09 21:06:29 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:06:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:06:29 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:06:59 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667619.243, '14320.504567055405']}]
2026-02-09 21:06:59 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14321 bytes/s ‚Üí 3.6 req/s
2026-02-09 21:06:59 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.6 req/s | Replicas: 4
2026-02-09 21:06:59 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.6 < 10)
2026-02-09 21:06:59 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:06:59 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:06:59 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667619.548, '14238.184000796376']}]
2026-02-09 21:06:59 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 14238 bytes/s ‚Üí 3.6 req/s
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:143 | Current traffic: 3.6 req/s
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=87ms
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=87ms
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=88ms
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:06:59 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:06:59 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:06:59 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:06:59 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:06:59 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.6 req/s, derivative=-0.0064, predicted=0.0 req/s (+600s)
2026-02-09 21:06:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-6.10, output=-3.00, delta=-3
2026-02-09 21:06:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=3.6, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:06:59 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:06:59 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:07:29 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667649.517, '15167.39115012094']}]
2026-02-09 21:07:29 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15167 bytes/s ‚Üí 3.8 req/s
2026-02-09 21:07:29 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.8 req/s | Replicas: 2
2026-02-09 21:07:29 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.8 < 10)
2026-02-09 21:07:29 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:07:29 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:07:29 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667649.819, '15060.272095438277']}]
2026-02-09 21:07:29 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15060 bytes/s ‚Üí 3.8 req/s
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:143 | Current traffic: 3.8 req/s
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.805, capacity=20, latency=78ms
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=78ms
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=78ms
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:07:29 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:07:29 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:07:29 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=78ms, winner_det=13ms)
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:07:29 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:07:29 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.8 req/s, derivative=-0.0046, predicted=1.0 req/s (+600s)
2026-02-09 21:07:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.846, P=14.23, D=28.21, output=3.00, delta=3
2026-02-09 21:07:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=3.8, predicted=1.0 | base=1, PD=+3, constrained=False
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:07:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:07:29 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:07:59 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667679.817, '23780.45412251785']}]
2026-02-09 21:07:59 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23780 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:07:59 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 4
2026-02-09 21:07:59 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 21:07:59 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:07:59 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:07:59 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:07:59 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:07:59 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:07:59 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667680.09, '23784.653689831488']}]
2026-02-09 21:07:59 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23785 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:07:59 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 21:07:59 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:07:59 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:07:59 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=83ms
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=85ms
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:08:00 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:08:00 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:08:00 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=86ms, winner_det=1ms)
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:08:00 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:08:00 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0027, predicted=7.6 req/s (+600s)
2026-02-09 21:08:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.216, P=-1.08, D=-30.34, output=-3.00, delta=-3
2026-02-09 21:08:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.9, predicted=7.6 | base=1, PD=-3, constrained=True
2026-02-09 21:08:00 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:08:00 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:08:00 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:08:29 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667710.091, '15346.747311271138']}]
2026-02-09 21:08:29 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15347 bytes/s ‚Üí 3.8 req/s
2026-02-09 21:08:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.8 req/s | Replicas: 2
2026-02-09 21:08:30 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.8 < 10)
2026-02-09 21:08:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:08:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:08:30 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667710.362, '15264.789738591393']}]
2026-02-09 21:08:30 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 15265 bytes/s ‚Üí 3.8 req/s
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:143 | Current traffic: 3.8 req/s
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=86ms
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.805, capacity=20, latency=88ms
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:08:30 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:08:30 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:08:30 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:08:30 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:08:30 | INFO     | src.level2.predictor:predict:153 | Prediction: current=3.8 req/s, derivative=-0.0070, predicted=0.0 req/s (+600s)
2026-02-09 21:08:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=2.14, output=2.14, delta=2
2026-02-09 21:08:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=3.8, predicted=0.0 | base=1, PD=+2, constrained=False
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 21:08:30 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 21:08:30 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:09:00 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667740.361, '16584.908696588504']}]
2026-02-09 21:09:00 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16585 bytes/s ‚Üí 4.1 req/s
2026-02-09 21:09:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.1 req/s | Replicas: 3
2026-02-09 21:09:00 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.1 < 10)
2026-02-09 21:09:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:09:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:09:00 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667740.636, '16493.753047955943']}]
2026-02-09 21:09:00 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 16494 bytes/s ‚Üí 4.1 req/s
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:143 | Current traffic: 4.1 req/s
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.787, capacity=20, latency=86ms
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=87ms
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=94ms
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:09:00 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:09:00 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:09:00 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 98ms (collection=98ms, winner_det=0ms)
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:09:00 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:09:00 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.1 req/s, derivative=-0.0016, predicted=3.2 req/s (+600s)
2026-02-09 21:09:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.306, P=1.53, D=3.03, output=3.00, delta=3
2026-02-09 21:09:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=4.1, predicted=3.2 | base=1, PD=+3, constrained=False
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 4 (Œî=+1)
2026-02-09 21:09:00 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:09:00 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:09:30 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667770.647, '25245.658177716723']}]
2026-02-09 21:09:30 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25246 bytes/s ‚Üí 6.3 req/s
2026-02-09 21:09:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 4
2026-02-09 21:09:30 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 21:09:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:09:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:09:30 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667770.909, '25247.57434355384']}]
2026-02-09 21:09:30 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25248 bytes/s ‚Üí 6.3 req/s
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.824, capacity=20, latency=85ms
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.806, capacity=20, latency=84ms
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:09:30 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:09:30 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.824)
2026-02-09 21:09:30 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.824)
2026-02-09 21:09:30 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:09:30 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0043, predicted=8.9 req/s (+600s)
2026-02-09 21:09:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.290, P=-1.45, D=-5.91, output=-3.00, delta=-3
2026-02-09 21:09:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.3, predicted=8.9 | base=1, PD=-3, constrained=True
2026-02-09 21:09:30 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:09:30 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:09:31 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:10:00 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667800.923, '23972.111114651907']}]
2026-02-09 21:10:00 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23972 bytes/s ‚Üí 6.0 req/s
2026-02-09 21:10:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 2
2026-02-09 21:10:00 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 21:10:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:10:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:10:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:10:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:10:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:10:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667801.202, '23968.995187799737']}]
2026-02-09 21:10:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23969 bytes/s ‚Üí 6.0 req/s
2026-02-09 21:10:01 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 21:10:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=85ms
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=86ms
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:10:01 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:10:01 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:10:01 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:10:01 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:10:01 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=0.0048, predicted=8.9 req/s (+600s)
2026-02-09 21:10:01 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.327, P=-1.63, D=-0.36, output=-2.00, delta=-2
2026-02-09 21:10:01 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.0, predicted=8.9 | base=1, PD=-2, constrained=True
2026-02-09 21:10:01 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:10:01 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:10:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667831.204, '18264.746942246325']}]
2026-02-09 21:10:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18265 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:10:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 21:10:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 21:10:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:10:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:10:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667831.485, '18264.746942246325']}]
2026-02-09 21:10:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18265 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:143 | Current traffic: 4.6 req/s
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=81ms
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=79ms
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=80ms
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:10:31 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:10:31 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:10:31 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 81ms (collection=81ms, winner_det=0ms)
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:10:31 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:10:31 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.6 req/s, derivative=-0.0008, predicted=4.1 req/s (+600s)
2026-02-09 21:10:31 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.118, P=0.59, D=4.41, output=3.00, delta=3
2026-02-09 21:10:31 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.6, predicted=4.1 | base=1, PD=+3, constrained=False
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:10:31 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:10:31 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 21:11:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667861.49, '21047.163463081928']}]
2026-02-09 21:11:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21047 bytes/s ‚Üí 5.3 req/s
2026-02-09 21:11:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.3 req/s | Replicas: 4
2026-02-09 21:11:01 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.3 < 10)
2026-02-09 21:11:01 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:11:01 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:11:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667861.789, '21021.61425358587']}]
2026-02-09 21:11:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21022 bytes/s ‚Üí 5.3 req/s
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:143 | Current traffic: 5.3 req/s
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=88ms
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=89ms
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:11:01 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:11:01 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:11:01 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=107ms, winner_det=1ms)
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:11:01 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:11:01 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.3 req/s, derivative=0.0001, predicted=5.3 req/s (+600s)
2026-02-09 21:11:01 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.05, D=-1.28, output=-1.33, delta=-1
2026-02-09 21:11:01 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.3, predicted=5.3 | base=1, PD=-1, constrained=True
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:11:01 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:11:01 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 21:11:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667891.766, '23786.810014468345']}]
2026-02-09 21:11:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23787 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:11:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 2
2026-02-09 21:11:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 21:11:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:11:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:11:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:11:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:11:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:11:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667892.063, '23782.232936614037']}]
2026-02-09 21:11:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23782 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:11:31 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 21:11:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:11:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:11:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=89ms
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=89ms
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=89ms
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:11:32 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:11:32 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:11:32 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=89ms, winner_det=5ms)
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:11:32 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:11:32 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=0.0044, predicted=8.6 req/s (+600s)
2026-02-09 21:11:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.309, P=-1.54, D=-2.95, output=-3.00, delta=-3
2026-02-09 21:11:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.9, predicted=8.6 | base=1, PD=-3, constrained=True
2026-02-09 21:11:32 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:11:32 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:12:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667922.064, '20149.6554081237']}]
2026-02-09 21:12:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20150 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:12:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 2
2026-02-09 21:12:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 21:12:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:12:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:12:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667922.33, '20184.305403906146']}]
2026-02-09 21:12:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20184 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=88ms
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:12:02 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:12:02 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:12:02 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:12:02 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:12:02 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=0.0049, predicted=8.0 req/s (+600s)
2026-02-09 21:12:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.369, P=-1.84, D=-0.59, output=-2.44, delta=-2
2026-02-09 21:12:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.0, predicted=8.0 | base=1, PD=-2, constrained=True
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:12:02 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 21:12:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667952.358, '24483.331624626222']}]
2026-02-09 21:12:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24483 bytes/s ‚Üí 6.1 req/s
2026-02-09 21:12:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.1 req/s | Replicas: 2
2026-02-09 21:12:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.1 < 10)
2026-02-09 21:12:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:12:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:12:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667952.67, '24482.806777255384']}]
2026-02-09 21:12:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24483 bytes/s ‚Üí 6.1 req/s
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:143 | Current traffic: 6.1 req/s
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=86ms
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=87ms
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=84ms
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:12:32 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:12:32 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:12:32 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:12:32 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:12:32 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.1 req/s, derivative=0.0078, predicted=10.8 req/s (+600s)
2026-02-09 21:12:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.433, P=-2.16, D=-0.63, output=-2.80, delta=-3
2026-02-09 21:12:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.1, predicted=10.8 | base=1, PD=-3, constrained=True
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:12:32 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:13:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667982.633, '18248.586496097414']}]
2026-02-09 21:13:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 18249 bytes/s ‚Üí 4.6 req/s
2026-02-09 21:13:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.6 req/s | Replicas: 2
2026-02-09 21:13:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.6 < 10)
2026-02-09 21:13:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:13:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:13:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770667982.939, '21528.24069961874']}]
2026-02-09 21:13:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21528 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=86ms
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=91ms
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=91ms
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:13:02 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:13:02 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:13:02 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:13:02 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:13:02 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0019, predicted=4.3 req/s (+600s)
2026-02-09 21:13:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.262, P=1.31, D=6.89, output=3.00, delta=3
2026-02-09 21:13:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.4, predicted=4.3 | base=1, PD=+3, constrained=False
2026-02-09 21:13:02 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:13:03 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:13:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:13:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668012.939, '24150.046393544446']}]
2026-02-09 21:13:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24150 bytes/s ‚Üí 6.0 req/s
2026-02-09 21:13:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.0 req/s | Replicas: 4
2026-02-09 21:13:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.0 < 10)
2026-02-09 21:13:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:13:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:13:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:13:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:13:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:13:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668013.234, '24152.16274652984']}]
2026-02-09 21:13:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 24152 bytes/s ‚Üí 6.0 req/s
2026-02-09 21:13:33 | INFO     | __main__:schedule_service:143 | Current traffic: 6.0 req/s
2026-02-09 21:13:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=90ms
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=94ms
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=95ms
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:13:33 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:13:33 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:13:33 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=95ms, winner_det=0ms)
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:13:33 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:13:33 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.0 req/s, derivative=0.0073, predicted=10.4 req/s (+600s)
2026-02-09 21:13:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.422, P=-2.11, D=-6.77, output=-3.00, delta=-3
2026-02-09 21:13:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=6.0, predicted=10.4 | base=1, PD=-3, constrained=True
2026-02-09 21:13:33 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:13:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:13:33 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:14:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668043.235, '21602.486341522155']}]
2026-02-09 21:14:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21602 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:14:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 2
2026-02-09 21:14:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 21:14:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:14:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:14:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668043.512, '21599.794314709347']}]
2026-02-09 21:14:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21600 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=86ms
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=88ms
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=99ms
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:14:03 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:14:03 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:14:03 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=1ms)
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:14:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:14:03 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=0.0042, predicted=7.9 req/s (+600s)
2026-02-09 21:14:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.319, P=-1.59, D=1.02, output=-0.58, delta=-1
2026-02-09 21:14:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.4, predicted=7.9 | base=1, PD=-1, constrained=True
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:14:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:14:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668073.511, '20750.265075002208']}]
2026-02-09 21:14:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20750 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:14:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.2 req/s | Replicas: 2
2026-02-09 21:14:33 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.2 < 10)
2026-02-09 21:14:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:14:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:14:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668073.781, '20751.84423886351']}]
2026-02-09 21:14:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20752 bytes/s ‚Üí 5.2 req/s
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:143 | Current traffic: 5.2 req/s
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=87ms
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=86ms
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=107ms
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:14:33 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:14:33 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:14:33 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=108ms, winner_det=1ms)
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:14:33 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:14:33 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.2 req/s, derivative=-0.0037, predicted=3.0 req/s (+600s)
2026-02-09 21:14:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.752, P=3.76, D=10.61, output=3.00, delta=3
2026-02-09 21:14:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.2, predicted=3.0 | base=1, PD=+3, constrained=False
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:14:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:14:33 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 21:15:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668103.796, '17438.12561074138']}]
2026-02-09 21:15:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17438 bytes/s ‚Üí 4.4 req/s
2026-02-09 21:15:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.4 req/s | Replicas: 4
2026-02-09 21:15:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.4 < 10)
2026-02-09 21:15:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:15:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:15:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:15:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:15:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:15:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668104.112, '17540.35165705243']}]
2026-02-09 21:15:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17540 bytes/s ‚Üí 4.4 req/s
2026-02-09 21:15:04 | INFO     | __main__:schedule_service:143 | Current traffic: 4.4 req/s
2026-02-09 21:15:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=85ms
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=87ms
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=87ms
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:15:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:15:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:15:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:15:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:15:04 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.0053, predicted=1.2 req/s (+600s)
2026-02-09 21:15:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.649, P=13.25, D=18.78, output=3.00, delta=3
2026-02-09 21:15:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=4.4, predicted=1.2 | base=1, PD=+3, constrained=False
2026-02-09 21:15:04 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:15:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:15:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668134.085, '23191.54094742221']}]
2026-02-09 21:15:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23192 bytes/s ‚Üí 5.8 req/s
2026-02-09 21:15:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.8 req/s | Replicas: 4
2026-02-09 21:15:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.8 < 10)
2026-02-09 21:15:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:15:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:15:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668134.376, '23191.73105885138']}]
2026-02-09 21:15:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23192 bytes/s ‚Üí 5.8 req/s
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:143 | Current traffic: 5.8 req/s
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=84ms
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=84ms
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=84ms
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:15:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:15:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:15:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 84ms (collection=84ms, winner_det=0ms)
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:15:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:15:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.8 req/s, derivative=0.0041, predicted=8.2 req/s (+600s)
2026-02-09 21:15:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.296, P=-1.48, D=-29.20, output=-3.00, delta=-3
2026-02-09 21:15:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.8, predicted=8.2 | base=1, PD=-3, constrained=True
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:15:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:15:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 21:16:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668164.359, '20142.211359099732']}]
2026-02-09 21:16:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20142 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:16:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.0 req/s | Replicas: 2
2026-02-09 21:16:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.0 < 10)
2026-02-09 21:16:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:16:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:16:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668164.627, '20048.462588538237']}]
2026-02-09 21:16:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 20048 bytes/s ‚Üí 5.0 req/s
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:143 | Current traffic: 5.0 req/s
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.787, capacity=20, latency=96ms
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=96ms
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=96ms
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:16:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:16:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:16:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 98ms (collection=98ms, winner_det=0ms)
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:16:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:16:04 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.0 req/s, derivative=-0.0008, predicted=4.5 req/s (+600s)
2026-02-09 21:16:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.106, P=0.53, D=3.99, output=3.00, delta=3
2026-02-09 21:16:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=5.0, predicted=4.5 | base=1, PD=+3, constrained=False
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:16:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:16:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:16:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668194.634, '19080.503131449113']}]
2026-02-09 21:16:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19081 bytes/s ‚Üí 4.8 req/s
2026-02-09 21:16:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.8 req/s | Replicas: 4
2026-02-09 21:16:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.8 < 10)
2026-02-09 21:16:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:16:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:16:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668194.917, '19087.941829759093']}]
2026-02-09 21:16:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19088 bytes/s ‚Üí 4.8 req/s
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:143 | Current traffic: 4.8 req/s
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=90ms
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=90ms
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=102ms
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:16:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:16:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:16:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=102ms, winner_det=1ms)
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:16:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:16:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.0039, predicted=2.4 req/s (+600s)
2026-02-09 21:16:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.950, P=4.75, D=8.36, output=3.00, delta=3
2026-02-09 21:16:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=4.8, predicted=2.4 | base=1, PD=+3, constrained=False
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:16:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:17:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668224.936, '17173.251328662842']}]
2026-02-09 21:17:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17173 bytes/s ‚Üí 4.3 req/s
2026-02-09 21:17:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.3 req/s | Replicas: 4
2026-02-09 21:17:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.3 < 10)
2026-02-09 21:17:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:17:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:17:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:17:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_4rps)
2026-02-09 21:17:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:17:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668225.222, '17268.39883341672']}]
2026-02-09 21:17:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 17268 bytes/s ‚Üí 4.3 req/s
2026-02-09 21:17:05 | INFO     | __main__:schedule_service:143 | Current traffic: 4.3 req/s
2026-02-09 21:17:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=90ms
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=90ms
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=107ms
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:17:05 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:17:05 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.807)
2026-02-09 21:17:05 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=109ms, winner_det=0ms)
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.807)
2026-02-09 21:17:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:17:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.3 req/s, derivative=-0.0024, predicted=2.9 req/s (+600s)
2026-02-09 21:17:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.503, P=2.51, D=-4.43, output=-1.92, delta=-2
2026-02-09 21:17:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=4.3, predicted=2.9 | base=1, PD=-2, constrained=True
2026-02-09 21:17:05 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:17:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:17:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 21:17:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668255.263, '23796.979859167637']}]
2026-02-09 21:17:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23797 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:17:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.9 req/s | Replicas: 2
2026-02-09 21:17:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.9 < 10)
2026-02-09 21:17:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:17:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:17:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668255.54, '23794.77112728606']}]
2026-02-09 21:17:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 23795 bytes/s ‚Üí 5.9 req/s
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:143 | Current traffic: 5.9 req/s
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=85ms
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.769, capacity=20, latency=85ms
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.789, capacity=20, latency=94ms
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:17:35 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:17:35 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.806)
2026-02-09 21:17:35 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.806)
2026-02-09 21:17:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:17:35 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.9 req/s, derivative=-0.0006, predicted=5.6 req/s (+600s)
2026-02-09 21:17:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.061, P=0.30, D=-4.38, output=-3.00, delta=-3
2026-02-09 21:17:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=5.9, predicted=5.6 | base=1, PD=-3, constrained=True
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:17:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 21:18:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668285.567, '25025.36084282975']}]
2026-02-09 21:18:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25025 bytes/s ‚Üí 6.3 req/s
2026-02-09 21:18:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.3 req/s | Replicas: 2
2026-02-09 21:18:05 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.3 < 10)
2026-02-09 21:18:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:18:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_6rps)
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:18:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668285.839, '25025.36084282975']}]
2026-02-09 21:18:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 25025 bytes/s ‚Üí 6.3 req/s
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:143 | Current traffic: 6.3 req/s
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=85ms
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=88ms
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=112ms
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:18:05 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:18:05 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:18:05 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 113ms (collection=113ms, winner_det=0ms)
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:18:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:18:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.3 req/s, derivative=0.0029, predicted=8.0 req/s (+600s)
2026-02-09 21:18:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.217, P=-1.08, D=-2.75, output=-3.00, delta=-3
2026-02-09 21:18:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.3, predicted=8.0 | base=1, PD=-3, constrained=True
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:18:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:18:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668315.842, '19423.46940348986']}]
2026-02-09 21:18:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19423 bytes/s ‚Üí 4.9 req/s
2026-02-09 21:18:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 4.9 req/s | Replicas: 2
2026-02-09 21:18:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (4.9 < 10)
2026-02-09 21:18:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:18:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:18:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:18:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:18:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:18:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668316.144, '19423.46940348986']}]
2026-02-09 21:18:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 19423 bytes/s ‚Üí 4.9 req/s
2026-02-09 21:18:36 | INFO     | __main__:schedule_service:143 | Current traffic: 4.9 req/s
2026-02-09 21:18:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=86ms
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.825, capacity=20, latency=85ms
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=85ms
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:18:36 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:18:36 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:18:36 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:18:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:18:36 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.9 req/s, derivative=-0.0039, predicted=2.5 req/s (+600s)
2026-02-09 21:18:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.931, P=4.66, D=11.37, output=3.00, delta=3
2026-02-09 21:18:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=4.9, predicted=2.5 | base=1, PD=+3, constrained=False
2026-02-09 21:18:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:18:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:18:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:19:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668346.146, '21502.516764415228']}]
2026-02-09 21:19:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21503 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:19:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 5.4 req/s | Replicas: 4
2026-02-09 21:19:06 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (5.4 < 10)
2026-02-09 21:19:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:19:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_5rps)
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:19:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668346.445, '21507.02026992446']}]
2026-02-09 21:19:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 21507 bytes/s ‚Üí 5.4 req/s
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:143 | Current traffic: 5.4 req/s
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=85ms
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=85ms
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.804, capacity=20, latency=84ms
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:19:06 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:19:06 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:19:06 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=88ms, winner_det=1ms)
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:19:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:19:06 | INFO     | src.level2.predictor:predict:153 | Prediction: current=5.4 req/s, derivative=-0.0001, predicted=5.3 req/s (+600s)
2026-02-09 21:19:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.009, P=0.04, D=-9.14, output=-3.00, delta=-3
2026-02-09 21:19:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=5.4, predicted=5.3 | base=1, PD=-3, constrained=True
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:19:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:19:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:19:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668376.427, '26275.42711054222']}]
2026-02-09 21:19:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26275 bytes/s ‚Üí 6.6 req/s
2026-02-09 21:19:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 6.6 req/s | Replicas: 2
2026-02-09 21:19:36 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (6.6 < 10)
2026-02-09 21:19:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:19:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_7rps)
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:19:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668376.705, '26294.85770817258']}]
2026-02-09 21:19:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 26295 bytes/s ‚Üí 6.6 req/s
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:143 | Current traffic: 6.6 req/s
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.840, capacity=20, latency=96ms
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.842, capacity=20, latency=97ms
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.824, capacity=20, latency=98ms
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:19:36 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:19:36 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.842)
2026-02-09 21:19:36 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=99ms, winner_det=2ms)
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.842)
2026-02-09 21:19:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:19:36 | INFO     | src.level2.predictor:predict:153 | Prediction: current=6.6 req/s, derivative=0.0046, predicted=9.3 req/s (+600s)
2026-02-09 21:19:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.295, P=-1.47, D=-3.00, output=-3.00, delta=-3
2026-02-09 21:19:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=6.6, predicted=9.3 | base=1, PD=-3, constrained=True
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:19:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:20:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668406.745, '31942.534541201734']}]
2026-02-09 21:20:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 31943 bytes/s ‚Üí 8.0 req/s
2026-02-09 21:20:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.0 req/s | Replicas: 2
2026-02-09 21:20:06 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.0 < 10)
2026-02-09 21:20:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:20:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:20:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:20:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 21:20:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:20:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668407.074, '30563.47357066241']}]
2026-02-09 21:20:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 30563 bytes/s ‚Üí 7.6 req/s
2026-02-09 21:20:06 | INFO     | __main__:schedule_service:143 | Current traffic: 7.6 req/s
2026-02-09 21:20:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:20:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:20:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.878, capacity=20, latency=89ms
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=1.032, capacity=20, latency=89ms
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=1.012, capacity=20, latency=95ms
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:20:07 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:20:07 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=1.032)
2026-02-09 21:20:07 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=95ms, winner_det=0ms)
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=1.032)
2026-02-09 21:20:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:20:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=7.6 req/s, derivative=0.0107, predicted=14.1 req/s (+600s)
2026-02-09 21:20:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.458, P=-2.29, D=-1.61, output=-3.00, delta=-3
2026-02-09 21:20:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=7.6, predicted=14.1 | base=1, PD=-3, constrained=True
2026-02-09 21:20:07 | INFO     | __main__:schedule_service:199 | cluster2: 1 ‚Üí 2 (Œî=+1)
2026-02-09 21:20:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 21:20:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 21:20:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668437.025, '33827.13450263599']}]
2026-02-09 21:20:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 33827 bytes/s ‚Üí 8.5 req/s
2026-02-09 21:20:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.5 req/s | Replicas: 2
2026-02-09 21:20:36 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.5 < 10)
2026-02-09 21:20:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:20:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:20:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:20:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 21:20:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:20:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668437.316, '33828.25865671283']}]
2026-02-09 21:20:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 33828 bytes/s ‚Üí 8.5 req/s
2026-02-09 21:20:37 | INFO     | __main__:schedule_service:143 | Current traffic: 8.5 req/s
2026-02-09 21:20:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.755, capacity=20, latency=90ms
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.860, capacity=20, latency=93ms
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.822, capacity=20, latency=92ms
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:20:37 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:20:37 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster2 (quota=100.00%, score=0.860)
2026-02-09 21:20:37 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=95ms, winner_det=1ms)
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=100.00%, score=0.860)
2026-02-09 21:20:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:20:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=8.5 req/s, derivative=0.0088, predicted=13.7 req/s (+600s)
2026-02-09 21:20:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.384, P=-1.92, D=0.73, output=-1.19, delta=-1
2026-02-09 21:20:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=8.5, predicted=13.7 | base=1, PD=-1, constrained=True
2026-02-09 21:20:37 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:20:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 21:21:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668467.321, '41948.78493040774']}]
2026-02-09 21:21:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 41949 bytes/s ‚Üí 10.5 req/s
2026-02-09 21:21:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.5 req/s | Replicas: 2
2026-02-09 21:21:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668497.603, '38835.64032799107']}]
2026-02-09 21:21:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38836 bytes/s ‚Üí 9.7 req/s
2026-02-09 21:21:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.7 req/s | Replicas: 2
2026-02-09 21:21:37 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.7 < 10)
2026-02-09 21:21:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:21:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:21:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668497.878, '38754.969631509295']}]
2026-02-09 21:21:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38755 bytes/s ‚Üí 9.7 req/s
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:143 | Current traffic: 9.7 req/s
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.841, capacity=20, latency=84ms
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=87ms
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.821, capacity=20, latency=87ms
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:21:37 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:21:37 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:21:37 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:21:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:21:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.7 req/s, derivative=0.0162, predicted=19.4 req/s (+600s)
2026-02-09 21:21:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.501, P=-2.51, D=-0.58, output=-3.00, delta=-3
2026-02-09 21:21:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.7, predicted=19.4 | base=1, PD=-3, constrained=True
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:21:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 21:22:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668527.901, '40513.875066513814']}]
2026-02-09 21:22:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 40514 bytes/s ‚Üí 10.1 req/s
2026-02-09 21:22:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.1 req/s | Replicas: 2
2026-02-09 21:22:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668558.228, '37015.510893629566']}]
2026-02-09 21:22:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 37016 bytes/s ‚Üí 9.3 req/s
2026-02-09 21:22:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.3 req/s | Replicas: 2
2026-02-09 21:22:38 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.3 < 10)
2026-02-09 21:22:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:22:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:22:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668558.514, '36914.74188988991']}]
2026-02-09 21:22:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 36915 bytes/s ‚Üí 9.2 req/s
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:143 | Current traffic: 9.2 req/s
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=85ms
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.842, capacity=20, latency=85ms
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.821, capacity=20, latency=97ms
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:22:38 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:22:38 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:22:38 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=1ms)
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:22:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:22:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.2 req/s, derivative=0.0108, predicted=15.7 req/s (+600s)
2026-02-09 21:22:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.413, P=-2.07, D=0.44, output=-1.63, delta=-2
2026-02-09 21:22:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.2, predicted=15.7 | base=1, PD=-2, constrained=True
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:22:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.39s
2026-02-09 21:23:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668588.523, '33142.84904286761']}]
2026-02-09 21:23:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 33143 bytes/s ‚Üí 8.3 req/s
2026-02-09 21:23:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.3 req/s | Replicas: 2
2026-02-09 21:23:08 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.3 < 10)
2026-02-09 21:23:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:23:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:23:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668588.792, '32954.233477225775']}]
2026-02-09 21:23:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 32954 bytes/s ‚Üí 8.2 req/s
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:143 | Current traffic: 8.2 req/s
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=85ms
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.842, capacity=20, latency=89ms
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.822, capacity=20, latency=87ms
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:23:08 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:23:08 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:23:08 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=2ms)
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:23:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:23:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=8.2 req/s, derivative=0.0065, predicted=12.2 req/s (+600s)
2026-02-09 21:23:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.323, P=-1.61, D=0.90, output=-0.72, delta=-1
2026-02-09 21:23:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=8.2, predicted=12.2 | base=1, PD=-1, constrained=True
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:23:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.36s
2026-02-09 21:23:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668618.798, '32787.63111951106']}]
2026-02-09 21:23:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 32788 bytes/s ‚Üí 8.2 req/s
2026-02-09 21:23:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.2 req/s | Replicas: 2
2026-02-09 21:23:38 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.2 < 10)
2026-02-09 21:23:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:23:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:23:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:23:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 21:23:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:23:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668619.105, '32556.489153888513']}]
2026-02-09 21:23:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 32556 bytes/s ‚Üí 8.1 req/s
2026-02-09 21:23:38 | INFO     | __main__:schedule_service:143 | Current traffic: 8.1 req/s
2026-02-09 21:23:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:23:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:23:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=86ms
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.822, capacity=20, latency=84ms
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.842, capacity=20, latency=97ms
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:23:39 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:23:39 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:23:39 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:23:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:23:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=8.1 req/s, derivative=0.0108, predicted=14.6 req/s (+600s)
2026-02-09 21:23:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.444, P=-2.22, D=-1.20, output=-3.00, delta=-3
2026-02-09 21:23:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=8.1, predicted=14.6 | base=1, PD=-3, constrained=True
2026-02-09 21:23:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:23:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:24:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668649.092, '38929.902718413825']}]
2026-02-09 21:24:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38930 bytes/s ‚Üí 9.7 req/s
2026-02-09 21:24:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.7 req/s | Replicas: 2
2026-02-09 21:24:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.7 < 10)
2026-02-09 21:24:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:24:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:24:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668649.364, '38881.23873615888']}]
2026-02-09 21:24:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38881 bytes/s ‚Üí 9.7 req/s
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:143 | Current traffic: 9.7 req/s
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=90ms
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.841, capacity=20, latency=90ms
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.821, capacity=20, latency=108ms
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:24:09 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:24:09 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:24:09 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=109ms, winner_det=0ms)
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:24:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:24:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.7 req/s, derivative=0.0143, predicted=18.3 req/s (+600s)
2026-02-09 21:24:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=-0.25, output=-2.60, delta=-3
2026-02-09 21:24:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.7, predicted=18.3 | base=1, PD=-3, constrained=True
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:24:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:24:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668679.375, '38490.42791077227']}]
2026-02-09 21:24:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38490 bytes/s ‚Üí 9.6 req/s
2026-02-09 21:24:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.6 req/s | Replicas: 2
2026-02-09 21:24:39 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.6 < 10)
2026-02-09 21:24:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:24:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:24:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668679.646, '38442.539888139996']}]
2026-02-09 21:24:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38443 bytes/s ‚Üí 9.6 req/s
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:143 | Current traffic: 9.6 req/s
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.841, capacity=20, latency=76ms
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=77ms
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.821, capacity=20, latency=104ms
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:24:39 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:24:39 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:24:39 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=107ms, winner_det=0ms)
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:24:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:24:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.6 req/s, derivative=0.0100, predicted=15.6 req/s (+600s)
2026-02-09 21:24:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.385, P=-1.92, D=0.84, output=-1.09, delta=-1
2026-02-09 21:24:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.6, predicted=15.6 | base=1, PD=-1, constrained=True
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:24:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:25:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668709.647, '38095.124958306136']}]
2026-02-09 21:25:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38095 bytes/s ‚Üí 9.5 req/s
2026-02-09 21:25:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.5 req/s | Replicas: 2
2026-02-09 21:25:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.5 < 10)
2026-02-09 21:25:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:25:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:25:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668709.926, '38041.84957655297']}]
2026-02-09 21:25:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38042 bytes/s ‚Üí 9.5 req/s
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:143 | Current traffic: 9.5 req/s
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.821, capacity=20, latency=98ms
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.841, capacity=20, latency=98ms
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=101ms
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:25:09 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:25:09 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:25:09 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:25:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:25:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.5 req/s, derivative=0.0062, predicted=13.2 req/s (+600s)
2026-02-09 21:25:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.280, P=-1.40, D=1.04, output=-0.36, delta=0
2026-02-09 21:25:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.5, predicted=13.2 | base=1, PD=+0, constrained=True
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:25:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:25:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668739.929, '40157.882466961026']}]
2026-02-09 21:25:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 40158 bytes/s ‚Üí 10.0 req/s
2026-02-09 21:25:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.0 req/s | Replicas: 2
2026-02-09 21:26:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668770.198, '40721.374535011084']}]
2026-02-09 21:26:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 40721 bytes/s ‚Üí 10.2 req/s
2026-02-09 21:26:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.2 req/s | Replicas: 2
2026-02-09 21:26:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668800.464, '45010.749322954514']}]
2026-02-09 21:26:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 45011 bytes/s ‚Üí 11.3 req/s
2026-02-09 21:26:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.3 req/s | Replicas: 2
2026-02-09 21:27:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668830.74, '42242.502933604905']}]
2026-02-09 21:27:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42243 bytes/s ‚Üí 10.6 req/s
2026-02-09 21:27:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.6 req/s | Replicas: 2
2026-02-09 21:27:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668861.057, '32964.87232711827']}]
2026-02-09 21:27:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 32965 bytes/s ‚Üí 8.2 req/s
2026-02-09 21:27:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.2 req/s | Replicas: 2
2026-02-09 21:27:40 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.2 < 10)
2026-02-09 21:27:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:27:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:27:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:27:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 21:27:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:27:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668861.323, '28497.15279063723']}]
2026-02-09 21:27:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 28497 bytes/s ‚Üí 7.1 req/s
2026-02-09 21:27:41 | INFO     | __main__:schedule_service:143 | Current traffic: 7.1 req/s
2026-02-09 21:27:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.842, capacity=20, latency=86ms
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.860, capacity=20, latency=86ms
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.822, capacity=20, latency=85ms
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:27:41 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:27:41 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.860)
2026-02-09 21:27:41 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.860)
2026-02-09 21:27:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:27:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=7.1 req/s, derivative=-0.0070, predicted=3.0 req/s (+600s)
2026-02-09 21:27:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.412, P=7.06, D=3.35, output=3.00, delta=3
2026-02-09 21:27:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=7.1, predicted=3.0 | base=1, PD=+3, constrained=False
2026-02-09 21:27:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:27:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:27:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:28:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668891.327, '38558.02246402391']}]
2026-02-09 21:28:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38558 bytes/s ‚Üí 9.6 req/s
2026-02-09 21:28:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.6 req/s | Replicas: 4
2026-02-09 21:28:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.6 < 10)
2026-02-09 21:28:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:28:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:28:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668891.63, '38509.35788615163']}]
2026-02-09 21:28:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38509 bytes/s ‚Üí 9.6 req/s
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:143 | Current traffic: 9.6 req/s
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=91ms
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.841, capacity=20, latency=90ms
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.785, capacity=20, latency=90ms
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:28:11 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:28:11 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:28:11 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=93ms, winner_det=0ms)
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:28:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:28:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=9.6 req/s, derivative=0.0046, predicted=12.4 req/s (+600s)
2026-02-09 21:28:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.222, P=-1.11, D=-16.16, output=-3.00, delta=-3
2026-02-09 21:28:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=9.6, predicted=12.4 | base=1, PD=-3, constrained=True
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:28:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:28:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 21:28:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668921.615, '42012.09742746442']}]
2026-02-09 21:28:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42012 bytes/s ‚Üí 10.5 req/s
2026-02-09 21:28:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.5 req/s | Replicas: 2
2026-02-09 21:29:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668951.906, '34749.82282624997']}]
2026-02-09 21:29:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 34750 bytes/s ‚Üí 8.7 req/s
2026-02-09 21:29:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.7 req/s | Replicas: 2
2026-02-09 21:29:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.7 < 10)
2026-02-09 21:29:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:29:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 21:29:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:29:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 21:29:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:29:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668952.195, '34584.38762084283']}]
2026-02-09 21:29:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 34584 bytes/s ‚Üí 8.6 req/s
2026-02-09 21:29:12 | INFO     | __main__:schedule_service:143 | Current traffic: 8.6 req/s
2026-02-09 21:29:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.859, capacity=20, latency=80ms
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.842, capacity=20, latency=97ms
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.822, capacity=20, latency=103ms
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:29:12 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:29:12 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.859)
2026-02-09 21:29:12 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=106ms, winner_det=2ms)
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.859)
2026-02-09 21:29:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:29:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=8.6 req/s, derivative=-0.0035, predicted=6.5 req/s (+600s)
2026-02-09 21:29:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.327, P=1.63, D=2.72, output=3.00, delta=3
2026-02-09 21:29:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=8.6, predicted=6.5 | base=1, PD=+3, constrained=False
2026-02-09 21:29:12 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:29:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:29:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-09 21:29:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770668982.182, '41577.245862475436']}]
2026-02-09 21:29:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 41577 bytes/s ‚Üí 10.4 req/s
2026-02-09 21:29:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.4 req/s | Replicas: 4
2026-02-09 21:29:46 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 21:29:56 | INFO     | __main__:run:430 | Stopped
2026-02-09 21:30:14 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:30:14 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 21:30:21 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:30:21 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 21:31:41 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:31:41 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 21:32:32 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:32:32 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 21:34:33 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:34:33 | INFO     | src.utils.config_loader:__init__:137 | Loading configuration from: config
2026-02-09 21:37:10 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:37:10 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-09 21:38:01 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:38:01 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-09 21:38:01 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-09 21:38:01 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-09 21:38:01 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-09 21:38:01 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 21:38:01 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 21:38:01 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 21:38:01 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 21:38:01 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:38:01 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:38:01 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 21:38:01 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:38:01 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:38:01 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 21:38:01 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:38:01 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:38:01 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 21:38:01 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:38:01 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:38:01 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 21:38:01 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:38:01 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:38:01 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 21:38:02 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 21:38:02 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 21:38:02 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 21:38:02 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 21:38:02 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 21:38:02 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 21:38:02 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 21:38:02 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 21:38:02 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 21:38:02 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 21:38:02 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 21:38:02 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 21:38:02 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 21:38:02 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 21:38:02 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 21:38:02 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 21:38:02 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 21:38:02 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 21:38:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669482.943, '43493.66562767716']}]
2026-02-09 21:38:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 43494 bytes/s ‚Üí 10.9 req/s
2026-02-09 21:38:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.9 req/s | Replicas: 4
2026-02-09 21:38:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669513.294, '67075.0222188554']}]
2026-02-09 21:38:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 67075 bytes/s ‚Üí 16.8 req/s
2026-02-09 21:38:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 16.8 req/s | Replicas: 4
2026-02-09 21:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669543.586, '373630.29668481904']}]
2026-02-09 21:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 373630 bytes/s ‚Üí 93.4 req/s
2026-02-09 21:39:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 93.4 req/s | Replicas: 4
2026-02-09 21:39:03 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (93.4 > 30)
2026-02-09 21:39:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:39:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_93rps)
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669543.868, '374164.87727291865']}]
2026-02-09 21:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 374165 bytes/s ‚Üí 93.5 req/s
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:143 | Current traffic: 93.5 req/s
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.805, capacity=20, latency=86ms
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.767, capacity=20, latency=86ms
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.787, capacity=20, latency=86ms
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:39:03 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:39:03 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.805)
2026-02-09 21:39:03 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 86ms (collection=86ms, winner_det=0ms)
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.805)
2026-02-09 21:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:39:03 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 21:39:03 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 21:39:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:39:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=93.5, predicted=93.5 | base=2, PD=+0, constrained=False
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:39:03 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:39:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:39:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669573.866, '522196.0242621246']}]
2026-02-09 21:39:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 522196 bytes/s ‚Üí 130.5 req/s
2026-02-09 21:39:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 130.5 req/s | Replicas: 2
2026-02-09 21:39:33 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (130.5 > 30)
2026-02-09 21:39:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:39:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:39:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:39:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_131rps)
2026-02-09 21:39:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:39:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669574.136, '521012.77925659966']}]
2026-02-09 21:39:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 521013 bytes/s ‚Üí 130.3 req/s
2026-02-09 21:39:34 | INFO     | __main__:schedule_service:143 | Current traffic: 130.3 req/s
2026-02-09 21:39:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.760, capacity=20, latency=85ms
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.780, capacity=20, latency=89ms
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.798, capacity=20, latency=99ms
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:39:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:39:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.798)
2026-02-09 21:39:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 99ms (collection=99ms, winner_det=0ms)
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.798)
2026-02-09 21:39:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:39:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=130.3 req/s, derivative=1.2125, predicted=857.8 req/s (+600s)
2026-02-09 21:39:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.848, P=-4.24, D=-8.40, output=-3.00, delta=-3
2026-02-09 21:39:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=130.3, predicted=857.8 | base=20, PD=-3, constrained=True
2026-02-09 21:39:34 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:39:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:39:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669604.132, '546359.9751308842']}]
2026-02-09 21:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 546360 bytes/s ‚Üí 136.6 req/s
2026-02-09 21:40:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 136.6 req/s | Replicas: 5
2026-02-09 21:40:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (136.6 > 30)
2026-02-09 21:40:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:40:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_137rps)
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669604.414, '546211.7766581728']}]
2026-02-09 21:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 546212 bytes/s ‚Üí 136.6 req/s
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:143 | Current traffic: 136.6 req/s
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.832, capacity=20, latency=94ms
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.741, capacity=20, latency=93ms
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.815, capacity=20, latency=93ms
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:40:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:40:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.832)
2026-02-09 21:40:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.832)
2026-02-09 21:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:40:04 | INFO     | src.level2.predictor:predict:153 | Prediction: current=136.6 req/s, derivative=0.7103, predicted=562.7 req/s (+600s)
2026-02-09 21:40:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.757, P=-3.79, D=0.90, output=-2.89, delta=-3
2026-02-09 21:40:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 8 (Œî=+3) | traffic: current=136.6, predicted=562.7 | base=13, PD=-3, constrained=True
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 8 (Œî=+3)
2026-02-09 21:40:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 8 replicas
2026-02-09 21:40:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669634.434, '522984.55615146545']}]
2026-02-09 21:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 522985 bytes/s ‚Üí 130.7 req/s
2026-02-09 21:40:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 130.7 req/s | Replicas: 8
2026-02-09 21:40:34 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (130.7 > 30)
2026-02-09 21:40:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:40:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_131rps)
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669634.714, '522277.966353841']}]
2026-02-09 21:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 522278 bytes/s ‚Üí 130.6 req/s
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:143 | Current traffic: 130.6 req/s
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.691, capacity=20, latency=85ms
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.762, capacity=20, latency=87ms
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.780, capacity=20, latency=87ms
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:40:34 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:40:34 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.780)
2026-02-09 21:40:34 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.780)
2026-02-09 21:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:40:34 | INFO     | src.level2.predictor:predict:153 | Prediction: current=130.6 req/s, derivative=0.4076, predicted=375.1 req/s (+600s)
2026-02-09 21:40:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.652, P=-3.26, D=1.04, output=-2.22, delta=-2
2026-02-09 21:40:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 8 ‚Üí 7 (Œî=-1) | traffic: current=130.6, predicted=375.1 | base=9, PD=-2, constrained=False
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:199 | cluster1: 8 ‚Üí 7 (Œî=-1)
2026-02-09 21:40:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 7 replicas
2026-02-09 21:40:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669664.7, '547456.9898455495']}]
2026-02-09 21:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 547457 bytes/s ‚Üí 136.9 req/s
2026-02-09 21:41:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 136.9 req/s | Replicas: 7
2026-02-09 21:41:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (136.9 > 30)
2026-02-09 21:41:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:41:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:41:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:41:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_137rps)
2026-02-09 21:41:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669665.01, '547371.7461235892']}]
2026-02-09 21:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 547372 bytes/s ‚Üí 136.8 req/s
2026-02-09 21:41:04 | INFO     | __main__:schedule_service:143 | Current traffic: 136.8 req/s
2026-02-09 21:41:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.728, capacity=20, latency=87ms
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.710, capacity=20, latency=87ms
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.707, capacity=20, latency=87ms
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:41:04 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:41:04 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.728)
2026-02-09 21:41:04 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.728)
2026-02-09 21:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:41:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=136.8 req/s, derivative=0.3574, predicted=351.3 req/s (+600s)
2026-02-09 21:41:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.610, P=-3.05, D=0.41, output=-2.64, delta=-3
2026-02-09 21:41:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 5 (Œî=-2) | traffic: current=136.8, predicted=351.3 | base=8, PD=-3, constrained=False
2026-02-09 21:41:05 | INFO     | __main__:schedule_service:199 | cluster1: 7 ‚Üí 5 (Œî=-2)
2026-02-09 21:41:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:41:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-09 21:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669694.986, '516665.37759019283']}]
2026-02-09 21:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 516665 bytes/s ‚Üí 129.2 req/s
2026-02-09 21:41:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 129.2 req/s | Replicas: 5
2026-02-09 21:41:34 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (129.2 > 30)
2026-02-09 21:41:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:41:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:41:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:41:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_129rps)
2026-02-09 21:41:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:41:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669695.258, '516664.581676033']}]
2026-02-09 21:41:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 516665 bytes/s ‚Üí 129.2 req/s
2026-02-09 21:41:35 | INFO     | __main__:schedule_service:143 | Current traffic: 129.2 req/s
2026-02-09 21:41:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.746, capacity=20, latency=84ms
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.708, capacity=20, latency=82ms
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.728, capacity=20, latency=84ms
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:41:35 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:41:35 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.746)
2026-02-09 21:41:35 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=85ms, winner_det=1ms)
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.746)
2026-02-09 21:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:41:35 | INFO     | src.level2.predictor:predict:153 | Prediction: current=129.2 req/s, derivative=0.2353, predicted=270.3 req/s (+600s)
2026-02-09 21:41:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.522, P=-2.61, D=0.88, output=-1.74, delta=-2
2026-02-09 21:41:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=129.2, predicted=270.3 | base=6, PD=-2, constrained=False
2026-02-09 21:41:35 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 4 (Œî=-1)
2026-02-09 21:41:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:41:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 21:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669725.276, '499652.00467150746']}]
2026-02-09 21:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 499652 bytes/s ‚Üí 124.9 req/s
2026-02-09 21:42:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 124.9 req/s | Replicas: 4
2026-02-09 21:42:05 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (124.9 > 30)
2026-02-09 21:42:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:42:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_125rps)
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669725.54, '498404.89487001626']}]
2026-02-09 21:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 498405 bytes/s ‚Üí 124.6 req/s
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:143 | Current traffic: 124.6 req/s
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.781, capacity=20, latency=83ms
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.764, capacity=20, latency=84ms
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.761, capacity=20, latency=86ms
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:42:05 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:42:05 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.781)
2026-02-09 21:42:05 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.781)
2026-02-09 21:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:42:05 | INFO     | src.level2.predictor:predict:153 | Prediction: current=124.6 req/s, derivative=0.1710, predicted=227.2 req/s (+600s)
2026-02-09 21:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.452, P=-2.26, D=0.70, output=-1.56, delta=-2
2026-02-09 21:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=124.6, predicted=227.2 | base=5, PD=-2, constrained=False
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 3 (Œî=-1)
2026-02-09 21:42:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 21:42:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669755.546, '463420.7599430371']}]
2026-02-09 21:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 463421 bytes/s ‚Üí 115.9 req/s
2026-02-09 21:42:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 115.9 req/s | Replicas: 3
2026-02-09 21:42:35 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (115.9 > 30)
2026-02-09 21:42:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:42:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_116rps)
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669755.82, '462364.12869387976']}]
2026-02-09 21:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 462364 bytes/s ‚Üí 115.6 req/s
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:143 | Current traffic: 115.6 req/s
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=87ms
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=89ms
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=89ms
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:42:35 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:42:35 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.800)
2026-02-09 21:42:35 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.800)
2026-02-09 21:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:42:35 | INFO     | src.level2.predictor:predict:153 | Prediction: current=115.6 req/s, derivative=0.1040, predicted=178.0 req/s (+600s)
2026-02-09 21:42:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.351, P=-1.75, D=1.00, output=-0.75, delta=-1
2026-02-09 21:42:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=115.6, predicted=178.0 | base=4, PD=-1, constrained=False
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:42:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669785.813, '553002.9296313328']}]
2026-02-09 21:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 553003 bytes/s ‚Üí 138.3 req/s
2026-02-09 21:43:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 138.3 req/s | Replicas: 3
2026-02-09 21:43:05 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (138.3 > 30)
2026-02-09 21:43:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:43:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:43:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:43:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_138rps)
2026-02-09 21:43:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669786.106, '553002.9296313328']}]
2026-02-09 21:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 553003 bytes/s ‚Üí 138.3 req/s
2026-02-09 21:43:05 | INFO     | __main__:schedule_service:143 | Current traffic: 138.3 req/s
2026-02-09 21:43:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:43:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.796, capacity=20, latency=87ms
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.814, capacity=20, latency=89ms
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.776, capacity=20, latency=99ms
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:43:06 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:43:06 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.814)
2026-02-09 21:43:06 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.814)
2026-02-09 21:43:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:43:06 | INFO     | src.level2.predictor:predict:153 | Prediction: current=138.3 req/s, derivative=0.1845, predicted=249.0 req/s (+600s)
2026-02-09 21:43:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.445, P=-2.22, D=-0.93, output=-3.00, delta=-3
2026-02-09 21:43:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=138.3, predicted=249.0 | base=6, PD=-3, constrained=False
2026-02-09 21:43:06 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:43:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 21:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669816.109, '554370.3958110304']}]
2026-02-09 21:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 554370 bytes/s ‚Üí 138.6 req/s
2026-02-09 21:43:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 138.6 req/s | Replicas: 3
2026-02-09 21:43:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (138.6 > 30)
2026-02-09 21:43:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:43:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_139rps)
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:43:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669816.391, '554370.3958110304']}]
2026-02-09 21:43:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 554370 bytes/s ‚Üí 138.6 req/s
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:143 | Current traffic: 138.6 req/s
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.814, capacity=20, latency=89ms
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.776, capacity=20, latency=90ms
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.796, capacity=20, latency=91ms
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:43:36 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:43:36 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.814)
2026-02-09 21:43:36 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.814)
2026-02-09 21:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:43:36 | INFO     | src.level2.predictor:predict:153 | Prediction: current=138.6 req/s, derivative=0.1653, predicted=237.8 req/s (+600s)
2026-02-09 21:43:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.417, P=-2.09, D=0.27, output=-1.81, delta=-2
2026-02-09 21:43:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=138.6, predicted=237.8 | base=5, PD=-2, constrained=False
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:43:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.38s
2026-02-09 21:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669846.38, '547200.5002015636']}]
2026-02-09 21:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 547201 bytes/s ‚Üí 136.8 req/s
2026-02-09 21:44:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 136.8 req/s | Replicas: 3
2026-02-09 21:44:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (136.8 > 30)
2026-02-09 21:44:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:44:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_137rps)
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669846.658, '550710.5458267705']}]
2026-02-09 21:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 550711 bytes/s ‚Üí 137.7 req/s
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:143 | Current traffic: 137.7 req/s
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.814, capacity=20, latency=87ms
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.776, capacity=20, latency=90ms
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.797, capacity=20, latency=91ms
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:44:06 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:44:06 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.814)
2026-02-09 21:44:06 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=91ms, winner_det=5ms)
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.814)
2026-02-09 21:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:44:06 | INFO     | src.level2.predictor:predict:153 | Prediction: current=137.7 req/s, derivative=0.1458, predicted=225.1 req/s (+600s)
2026-02-09 21:44:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.388, P=-1.94, D=0.28, output=-1.66, delta=-2
2026-02-09 21:44:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=137.7, predicted=225.1 | base=5, PD=-2, constrained=False
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:44:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.37s
2026-02-09 21:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669876.696, '536400.7927942568']}]
2026-02-09 21:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 536401 bytes/s ‚Üí 134.1 req/s
2026-02-09 21:44:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 134.1 req/s | Replicas: 3
2026-02-09 21:44:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (134.1 > 30)
2026-02-09 21:44:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:44:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:44:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:44:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_134rps)
2026-02-09 21:44:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669877.016, '536355.6046346687']}]
2026-02-09 21:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 536356 bytes/s ‚Üí 134.1 req/s
2026-02-09 21:44:36 | INFO     | __main__:schedule_service:143 | Current traffic: 134.1 req/s
2026-02-09 21:44:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-09 21:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-09 21:44:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.797, capacity=20, latency=92ms
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.815, capacity=20, latency=92ms
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.777, capacity=20, latency=123ms
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:44:37 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 3 replicas among 3 clusters
2026-02-09 21:44:37 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 3 replicas to cluster1 (quota=100.00%, score=0.815)
2026-02-09 21:44:37 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 3 replicas
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 128ms (collection=128ms, winner_det=0ms)
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 1 clusters:
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=100.00%, score=0.815)
2026-02-09 21:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:44:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=134.1 req/s, derivative=0.0127, predicted=141.7 req/s (+600s)
2026-02-09 21:44:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.054, P=-0.27, D=3.30, output=3.00, delta=3
2026-02-09 21:44:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 6 (Œî=+3) | traffic: current=134.1, predicted=141.7 | base=3, PD=+3, constrained=False
2026-02-09 21:44:37 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 6 (Œî=+3)
2026-02-09 21:44:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 6 replicas
2026-02-09 21:44:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-09 21:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669906.99, '480839.11133254465']}]
2026-02-09 21:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 480839 bytes/s ‚Üí 120.2 req/s
2026-02-09 21:45:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 120.2 req/s | Replicas: 6
2026-02-09 21:45:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (120.2 > 30)
2026-02-09 21:45:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:45:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:45:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:45:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_120rps)
2026-02-09 21:45:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:45:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669907.262, '479537.4002795865']}]
2026-02-09 21:45:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 479537 bytes/s ‚Üí 119.9 req/s
2026-02-09 21:45:07 | INFO     | __main__:schedule_service:143 | Current traffic: 119.9 req/s
2026-02-09 21:45:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.817, capacity=20, latency=85ms
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.800, capacity=20, latency=85ms
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=89ms
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:45:07 | INFO     | src.level1.winner_determination:allocate:86 | Allocating 2 replicas among 3 clusters
2026-02-09 21:45:07 | INFO     | src.level1.winner_determination:allocate:111 |   Allocated 2 replicas to cluster1 (quota=100.00%, score=0.817)
2026-02-09 21:45:07 | INFO     | src.level1.winner_determination:allocate:124 | ‚úÖ Successfully allocated all 2 replicas
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.817)
2026-02-09 21:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:45:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=119.9 req/s, derivative=-0.0550, predicted=86.9 req/s (+600s)
2026-02-09 21:45:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.380, P=1.90, D=4.32, output=3.00, delta=3
2026-02-09 21:45:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 5 (Œî=-1) | traffic: current=119.9, predicted=86.9 | base=2, PD=+3, constrained=False
2026-02-09 21:45:07 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 5 (Œî=-1)
2026-02-09 21:45:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:45:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 21:45:20 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 21:45:30 | INFO     | __main__:run:430 | Stopped
2026-02-09 21:45:35 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-09 21:45:35 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-09 21:45:35 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-09 21:45:35 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-09 21:45:35 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-09 21:45:35 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-09 21:45:35 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-09 21:45:35 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-09 21:45:35 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-09 21:45:35 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:45:35 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:45:35 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-09 21:45:35 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:45:35 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:45:35 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-09 21:45:35 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:45:35 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:45:35 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-09 21:45:35 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:45:35 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:45:35 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 21:45:35 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=600s
2026-02-09 21:45:35 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=5.0, Kd=300.0, output=[-3.0, 3.0]
2026-02-09 21:45:35 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-09 21:45:36 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-09 21:45:36 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-09 21:45:36 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-09 21:45:36 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-09 21:45:36 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-09 21:45:36 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-09 21:45:36 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-09 21:45:36 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-09 21:45:36 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-09 21:45:36 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-09 21:45:36 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-09 21:45:36 | INFO     | __main__:run:415 | 
======================================================================
2026-02-09 21:45:36 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-09 21:45:36 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-09 21:45:36 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-09 21:45:36 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-09 21:45:36 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-09 21:45:36 | INFO     | __main__:run:420 | ======================================================================

2026-02-09 21:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669936.996, '249060.89836108912']}]
2026-02-09 21:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 249061 bytes/s ‚Üí 62.3 req/s
2026-02-09 21:45:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 62.3 req/s | Replicas: 5
2026-02-09 21:45:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (62.3 > 30)
2026-02-09 21:45:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:45:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:45:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:45:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_62rps)
2026-02-09 21:45:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:45:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669937.381, '248905.46526540274']}]
2026-02-09 21:45:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 248905 bytes/s ‚Üí 62.2 req/s
2026-02-09 21:45:37 | INFO     | __main__:schedule_service:143 | Current traffic: 62.2 req/s
2026-02-09 21:45:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.759, capacity=20, latency=83ms
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.776, capacity=20, latency=85ms
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.756, capacity=20, latency=85ms
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:45:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 21:45:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.776)
2026-02-09 21:45:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.759)
2026-02-09 21:45:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.776)
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.759)
2026-02-09 21:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:45:37 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-09 21:45:37 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-09 21:45:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:45:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=31.1, predicted=31.1 | base=1, PD=+0, constrained=True
2026-02-09 21:45:37 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 2 (Œî=-3)
2026-02-09 21:45:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:45:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=31.1 req/s, derivative=0.0000, predicted=31.1 req/s (+600s)
2026-02-09 21:45:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:45:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=31.1, predicted=31.1 | base=1, PD=+0, constrained=True
2026-02-09 21:45:37 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:45:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 21:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669967.343, '129915.38553438128']}]
2026-02-09 21:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 129915 bytes/s ‚Üí 32.5 req/s
2026-02-09 21:46:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 32.5 req/s | Replicas: 2
2026-02-09 21:46:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (32.5 > 30)
2026-02-09 21:46:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:46:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_32rps)
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669967.617, '130565.59888003972']}]
2026-02-09 21:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 130566 bytes/s ‚Üí 32.6 req/s
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:143 | Current traffic: 32.6 req/s
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=88ms
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.816, capacity=20, latency=88ms
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.782, capacity=20, latency=88ms
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:46:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 21:46:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=50.0%, score=0.816)
2026-02-09 21:46:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.800)
2026-02-09 21:46:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=50.00%, score=0.816)
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.800)
2026-02-09 21:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:46:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=16.3 req/s, derivative=-0.4877, predicted=0.0 req/s (+600s)
2026-02-09 21:46:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:46:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=16.3, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:199 | cluster3: 1 ‚Üí 2 (Œî=+1)
2026-02-09 21:46:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:46:07 | INFO     | src.level2.predictor:predict:153 | Prediction: current=16.3 req/s, derivative=-0.4863, predicted=0.0 req/s (+600s)
2026-02-09 21:46:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:46:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=16.3, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:46:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669997.646, '768064.7721771336']}]
2026-02-09 21:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 768065 bytes/s ‚Üí 192.0 req/s
2026-02-09 21:46:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 192.0 req/s | Replicas: 2
2026-02-09 21:46:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (192.0 > 30)
2026-02-09 21:46:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:46:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_192rps)
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770669997.951, '765712.1539841435']}]
2026-02-09 21:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 765712 bytes/s ‚Üí 191.4 req/s
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:143 | Current traffic: 191.4 req/s
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.805, capacity=20, latency=87ms
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=86ms
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=99ms
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:46:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.805)
2026-02-09 21:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.788)
2026-02-09 21:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.768)
2026-02-09 21:46:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=104ms, winner_det=1ms)
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.805)
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.788)
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.768)
2026-02-09 21:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:46:37 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.9 req/s, derivative=0.2764, predicted=213.7 req/s (+600s)
2026-02-09 21:46:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.776, P=-3.88, D=-7.72, output=-3.00, delta=-3
2026-02-09 21:46:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=47.9, predicted=213.7 | base=5, PD=-3, constrained=False
2026-02-09 21:46:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:46:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.9 req/s, derivative=0.2762, predicted=213.6 req/s (+600s)
2026-02-09 21:46:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.776, P=-3.88, D=0.86, output=-3.00, delta=-3
2026-02-09 21:46:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=47.9, predicted=213.6 | base=5, PD=-3, constrained=False
2026-02-09 21:46:38 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:46:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=95.7 req/s, derivative=1.0649, predicted=734.7 req/s (+600s)
2026-02-09 21:46:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.870, P=-4.35, D=-662.70, output=-3.00, delta=-3
2026-02-09 21:46:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=95.7, predicted=734.7 | base=17, PD=-3, constrained=True
2026-02-09 21:46:38 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:46:38 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-09 21:46:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-09 21:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670027.916, '871551.9648899924']}]
2026-02-09 21:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 871552 bytes/s ‚Üí 217.9 req/s
2026-02-09 21:47:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 217.9 req/s | Replicas: 2
2026-02-09 21:47:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (217.9 > 30)
2026-02-09 21:47:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:47:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:47:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:47:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_218rps)
2026-02-09 21:47:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:47:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670028.213, '869226.9821286211']}]
2026-02-09 21:47:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 869227 bytes/s ‚Üí 217.3 req/s
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:143 | Current traffic: 217.3 req/s
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.731, capacity=20, latency=85ms
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.749, capacity=20, latency=86ms
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.711, capacity=20, latency=86ms
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:47:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:47:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.749)
2026-02-09 21:47:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.731)
2026-02-09 21:47:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.711)
2026-02-09 21:47:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=87ms, winner_det=1ms)
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.749)
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.731)
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.711)
2026-02-09 21:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:47:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.9 req/s, derivative=0.6145, predicted=455.6 req/s (+600s)
2026-02-09 21:47:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.809, P=-4.05, D=0.60, output=-3.00, delta=-3
2026-02-09 21:47:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=86.9, predicted=455.6 | base=10, PD=-3, constrained=True
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:47:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:47:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.9 req/s, derivative=0.6139, predicted=455.2 req/s (+600s)
2026-02-09 21:47:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.809, P=-4.05, D=0.51, output=-3.00, delta=-3
2026-02-09 21:47:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=86.9, predicted=455.2 | base=10, PD=-3, constrained=True
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:47:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-09 21:47:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=43.5 req/s, derivative=0.1357, predicted=124.9 req/s (+600s)
2026-02-09 21:47:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.652, P=-3.26, D=577.94, output=3.00, delta=3
2026-02-09 21:47:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 6 (Œî=+1) | traffic: current=43.5, predicted=124.9 | base=3, PD=+3, constrained=False
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 6 (Œî=+1)
2026-02-09 21:47:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 6 replicas
2026-02-09 21:47:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-09 21:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670058.218, '984675.1885287493']}]
2026-02-09 21:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 984675 bytes/s ‚Üí 246.2 req/s
2026-02-09 21:47:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 246.2 req/s | Replicas: 5
2026-02-09 21:47:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (246.2 > 30)
2026-02-09 21:47:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:47:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_246rps)
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670058.507, '984685.8073950573']}]
2026-02-09 21:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 984686 bytes/s ‚Üí 246.2 req/s
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:143 | Current traffic: 246.2 req/s
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.728, capacity=20, latency=88ms
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.710, capacity=20, latency=87ms
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.594, capacity=20, latency=87ms
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:47:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.728)
2026-02-09 21:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.710)
2026-02-09 21:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.594)
2026-02-09 21:47:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=91ms, winner_det=2ms)
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.728)
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.710)
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.594)
2026-02-09 21:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:47:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.5 req/s, derivative=0.5560, predicted=432.1 req/s (+600s)
2026-02-09 21:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.772, P=-3.86, D=-1.20, output=-3.00, delta=-3
2026-02-09 21:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=98.5, predicted=432.1 | base=10, PD=-3, constrained=False
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 7 (Œî=+2)
2026-02-09 21:47:38 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 7 replicas
2026-02-09 21:47:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.5 req/s, derivative=0.5556, predicted=431.9 req/s (+600s)
2026-02-09 21:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.772, P=-3.86, D=0.44, output=-3.00, delta=-3
2026-02-09 21:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=98.5, predicted=431.9 | base=10, PD=-3, constrained=False
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 7 (Œî=+2)
2026-02-09 21:47:38 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-09 21:47:38 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.2 req/s, derivative=0.1494, predicted=138.9 req/s (+600s)
2026-02-09 21:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.645, P=-3.23, D=436.04, output=3.00, delta=3
2026-02-09 21:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 6 (Œî=+0) | traffic: current=49.2, predicted=138.9 | base=3, PD=+3, constrained=False
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 6 (Œî=+0)
2026-02-09 21:47:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670088.511, '851296.3162291597']}]
2026-02-09 21:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 851296 bytes/s ‚Üí 212.8 req/s
2026-02-09 21:48:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 212.8 req/s | Replicas: 7
2026-02-09 21:48:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (212.8 > 30)
2026-02-09 21:48:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:48:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_213rps)
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670088.784, '849004.0928101694']}]
2026-02-09 21:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 849004 bytes/s ‚Üí 212.3 req/s
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:143 | Current traffic: 212.3 req/s
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.636, capacity=20, latency=87ms
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.619, capacity=20, latency=87ms
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.540, capacity=20, latency=87ms
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:48:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.636)
2026-02-09 21:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.619)
2026-02-09 21:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.540)
2026-02-09 21:48:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=91ms, winner_det=3ms)
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.636)
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.619)
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.540)
2026-02-09 21:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:48:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=84.9 req/s, derivative=0.3553, predicted=298.1 req/s (+600s)
2026-02-09 21:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.715, P=-3.58, D=-0.70, output=-3.00, delta=-3
2026-02-09 21:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=84.9, predicted=298.1 | base=7, PD=-3, constrained=False
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:199 | cluster1: 7 ‚Üí 4 (Œî=-3)
2026-02-09 21:48:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:48:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=84.9 req/s, derivative=0.3551, predicted=297.9 req/s (+600s)
2026-02-09 21:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.715, P=-3.58, D=0.40, output=-3.00, delta=-3
2026-02-09 21:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=84.9, predicted=297.9 | base=7, PD=-3, constrained=False
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 4 (Œî=-3)
2026-02-09 21:48:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-09 21:48:08 | INFO     | src.level2.predictor:predict:153 | Prediction: current=42.5 req/s, derivative=0.0748, predicted=87.3 req/s (+600s)
2026-02-09 21:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.514, P=-2.57, D=721.47, output=3.00, delta=3
2026-02-09 21:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 5 (Œî=-1) | traffic: current=42.5, predicted=87.3 | base=2, PD=+3, constrained=False
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 5 (Œî=-1)
2026-02-09 21:48:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-09 21:48:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-09 21:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670118.805, '964065.2273056167']}]
2026-02-09 21:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 964065 bytes/s ‚Üí 241.0 req/s
2026-02-09 21:48:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 241.0 req/s | Replicas: 4
2026-02-09 21:48:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (241.0 > 30)
2026-02-09 21:48:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:48:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:48:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:48:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_241rps)
2026-02-09 21:48:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670119.079, '964131.4854218074']}]
2026-02-09 21:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 964131 bytes/s ‚Üí 241.0 req/s
2026-02-09 21:48:38 | INFO     | __main__:schedule_service:143 | Current traffic: 241.0 req/s
2026-02-09 21:48:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:48:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.571, capacity=20, latency=91ms
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.595, capacity=20, latency=95ms
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.574, capacity=20, latency=96ms
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:48:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:48:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.595)
2026-02-09 21:48:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.574)
2026-02-09 21:48:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.571)
2026-02-09 21:48:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=2ms)
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.595)
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.574)
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.571)
2026-02-09 21:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:48:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.4 req/s, derivative=0.3594, predicted=312.0 req/s (+600s)
2026-02-09 21:48:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.691, P=-3.46, D=-1.76, output=-3.00, delta=-3
2026-02-09 21:48:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=96.4, predicted=312.0 | base=7, PD=-3, constrained=False
2026-02-09 21:48:39 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 4 (Œî=-1)
2026-02-09 21:48:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 21:48:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.4 req/s, derivative=0.3592, predicted=311.9 req/s (+600s)
2026-02-09 21:48:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.691, P=-3.45, D=0.35, output=-3.00, delta=-3
2026-02-09 21:48:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=96.4, predicted=311.9 | base=7, PD=-3, constrained=False
2026-02-09 21:48:39 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:48:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.2 req/s, derivative=0.0940, predicted=104.6 req/s (+600s)
2026-02-09 21:48:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.539, P=-2.70, D=1035.78, output=3.00, delta=3
2026-02-09 21:48:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=48.2, predicted=104.6 | base=2, PD=+3, constrained=False
2026-02-09 21:48:39 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 5 (Œî=+1)
2026-02-09 21:48:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-09 21:48:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670149.09, '893343.0191472775']}]
2026-02-09 21:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 893343 bytes/s ‚Üí 223.3 req/s
2026-02-09 21:49:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.3 req/s | Replicas: 4
2026-02-09 21:49:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.3 > 30)
2026-02-09 21:49:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:49:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:49:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:49:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-09 21:49:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:49:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670149.368, '891259.3836067488']}]
2026-02-09 21:49:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 891259 bytes/s ‚Üí 222.8 req/s
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:143 | Current traffic: 222.8 req/s
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.682, capacity=20, latency=85ms
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.680, capacity=20, latency=84ms
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.644, capacity=20, latency=93ms
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:49:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.682)
2026-02-09 21:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.680)
2026-02-09 21:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.644)
2026-02-09 21:49:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 98ms (collection=98ms, winner_det=0ms)
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.682)
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.680)
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.644)
2026-02-09 21:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:49:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=89.1 req/s, derivative=0.2737, predicted=253.3 req/s (+600s)
2026-02-09 21:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.648, P=-3.24, D=-1.08, output=-3.00, delta=-3
2026-02-09 21:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=89.1, predicted=253.3 | base=6, PD=-3, constrained=False
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 3 (Œî=-1)
2026-02-09 21:49:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 21:49:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=89.1 req/s, derivative=0.2735, predicted=253.3 req/s (+600s)
2026-02-09 21:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.648, P=-3.24, D=0.32, output=-2.92, delta=-3
2026-02-09 21:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 3 (Œî=-2) | traffic: current=89.1, predicted=253.3 | base=6, PD=-3, constrained=False
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 3 (Œî=-2)
2026-02-09 21:49:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-09 21:49:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=44.6 req/s, derivative=0.0634, predicted=82.6 req/s (+600s)
2026-02-09 21:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.460, P=-2.30, D=686.69, output=3.00, delta=3
2026-02-09 21:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=44.6, predicted=82.6 | base=2, PD=+3, constrained=False
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 5 (Œî=+1)
2026-02-09 21:49:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-09 21:49:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-09 21:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670179.356, '779862.1839833192']}]
2026-02-09 21:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 779862 bytes/s ‚Üí 195.0 req/s
2026-02-09 21:49:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 195.0 req/s | Replicas: 3
2026-02-09 21:49:39 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (195.0 > 30)
2026-02-09 21:49:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:49:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_195rps)
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670179.644, '775357.931303478']}]
2026-02-09 21:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 775358 bytes/s ‚Üí 193.8 req/s
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:143 | Current traffic: 193.8 req/s
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.670, capacity=20, latency=81ms
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.653, capacity=20, latency=101ms
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.664, capacity=20, latency=100ms
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:49:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.670)
2026-02-09 21:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.664)
2026-02-09 21:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.653)
2026-02-09 21:49:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.670)
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.664)
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.653)
2026-02-09 21:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:49:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.5 req/s, derivative=0.0716, predicted=91.4 req/s (+600s)
2026-02-09 21:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=-0.09, output=-2.44, delta=-2
2026-02-09 21:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=48.5, predicted=91.4 | base=2, PD=-2, constrained=True
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:49:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:49:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.5 req/s, derivative=0.0716, predicted=91.4 req/s (+600s)
2026-02-09 21:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=0.31, output=-2.04, delta=-2
2026-02-09 21:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=48.5, predicted=91.4 | base=2, PD=-2, constrained=True
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 2 (Œî=-3)
2026-02-09 21:49:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:49:39 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.9 req/s, derivative=0.2714, predicted=259.8 req/s (+600s)
2026-02-09 21:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.627, P=-3.13, D=-484.03, output=-3.00, delta=-3
2026-02-09 21:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=96.9, predicted=259.8 | base=6, PD=-3, constrained=False
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:49:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 21:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670209.649, '852371.1668006557']}]
2026-02-09 21:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 852371 bytes/s ‚Üí 213.1 req/s
2026-02-09 21:50:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 213.1 req/s | Replicas: 2
2026-02-09 21:50:09 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (213.1 > 30)
2026-02-09 21:50:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:50:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_213rps)
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670209.978, '849800.9714605203']}]
2026-02-09 21:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 849801 bytes/s ‚Üí 212.5 req/s
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:143 | Current traffic: 212.5 req/s
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.729, capacity=20, latency=96ms
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.716, capacity=20, latency=98ms
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.749, capacity=20, latency=97ms
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:50:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.749)
2026-02-09 21:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.729)
2026-02-09 21:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=20.0%, score=0.716)
2026-02-09 21:50:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.749)
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.729)
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=20.00%, score=0.716)
2026-02-09 21:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:50:09 | INFO     | src.level2.predictor:predict:153 | Prediction: current=85.0 req/s, derivative=0.1976, predicted=203.5 req/s (+600s)
2026-02-09 21:50:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.582, P=-2.91, D=0.44, output=-2.47, delta=-2
2026-02-09 21:50:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=85.0, predicted=203.5 | base=5, PD=-2, constrained=False
2026-02-09 21:50:09 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:50:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=85.0 req/s, derivative=0.1976, predicted=203.5 req/s (+600s)
2026-02-09 21:50:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.582, P=-2.91, D=0.27, output=-2.64, delta=-3
2026-02-09 21:50:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=85.0, predicted=203.5 | base=5, PD=-3, constrained=False
2026-02-09 21:50:10 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:50:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=42.5 req/s, derivative=0.0417, predicted=67.5 req/s (+600s)
2026-02-09 21:50:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.371, P=-1.85, D=1301.80, output=3.00, delta=3
2026-02-09 21:50:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=42.5, predicted=67.5 | base=2, PD=+3, constrained=False
2026-02-09 21:50:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:50:10 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:50:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 21:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670239.939, '973076.4792893354']}]
2026-02-09 21:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 973076 bytes/s ‚Üí 243.3 req/s
2026-02-09 21:50:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 243.3 req/s | Replicas: 5
2026-02-09 21:50:39 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (243.3 > 30)
2026-02-09 21:50:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:50:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:50:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:50:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_243rps)
2026-02-09 21:50:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:50:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670240.238, '973042.337528075']}]
2026-02-09 21:50:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 973042 bytes/s ‚Üí 243.3 req/s
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:143 | Current traffic: 243.3 req/s
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.780, capacity=20, latency=84ms
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.690, capacity=20, latency=83ms
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.762, capacity=20, latency=84ms
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:50:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:50:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.780)
2026-02-09 21:50:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.762)
2026-02-09 21:50:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.690)
2026-02-09 21:50:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.780)
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.762)
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.690)
2026-02-09 21:50:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:50:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.3 req/s, derivative=0.2187, predicted=228.5 req/s (+600s)
2026-02-09 21:50:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.574, P=-2.87, D=-2.03, output=-3.00, delta=-3
2026-02-09 21:50:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=97.3, predicted=228.5 | base=5, PD=-3, constrained=False
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 2 (Œî=-3)
2026-02-09 21:50:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:50:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.3 req/s, derivative=0.2186, predicted=228.5 req/s (+600s)
2026-02-09 21:50:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.574, P=-2.87, D=0.24, output=-2.63, delta=-3
2026-02-09 21:50:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=97.3, predicted=228.5 | base=5, PD=-3, constrained=False
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:50:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 21:50:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.7 req/s, derivative=0.0579, predicted=83.4 req/s (+600s)
2026-02-09 21:50:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.417, P=-2.08, D=523.14, output=3.00, delta=3
2026-02-09 21:50:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=48.7, predicted=83.4 | base=2, PD=+3, constrained=False
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:50:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-09 21:50:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-09 21:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670270.218, '880434.795037687']}]
2026-02-09 21:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 880435 bytes/s ‚Üí 220.1 req/s
2026-02-09 21:51:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 220.1 req/s | Replicas: 2
2026-02-09 21:51:10 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (220.1 > 30)
2026-02-09 21:51:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:51:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_220rps)
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670270.494, '878131.2442272576']}]
2026-02-09 21:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 878131 bytes/s ‚Üí 219.5 req/s
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:143 | Current traffic: 219.5 req/s
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.682, capacity=20, latency=92ms
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.661, capacity=20, latency=90ms
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.665, capacity=20, latency=94ms
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:51:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.682)
2026-02-09 21:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.665)
2026-02-09 21:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.661)
2026-02-09 21:51:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.682)
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.665)
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.661)
2026-02-09 21:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:51:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=87.8 req/s, derivative=0.2362, predicted=229.5 req/s (+600s)
2026-02-09 21:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.617, P=-3.09, D=-2.00, output=-3.00, delta=-3
2026-02-09 21:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.8, predicted=229.5 | base=5, PD=-3, constrained=False
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:51:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=87.8 req/s, derivative=0.2361, predicted=229.5 req/s (+600s)
2026-02-09 21:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.617, P=-3.09, D=0.23, output=-2.85, delta=-3
2026-02-09 21:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.8, predicted=229.5 | base=5, PD=-3, constrained=False
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:51:10 | INFO     | src.level2.predictor:predict:153 | Prediction: current=43.9 req/s, derivative=0.0911, predicted=98.6 req/s (+600s)
2026-02-09 21:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.555, P=-2.77, D=461.50, output=3.00, delta=3
2026-02-09 21:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=43.9, predicted=98.6 | base=2, PD=+3, constrained=False
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 5 (Œî=+0)
2026-02-09 21:51:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-09 21:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670300.508, '828694.9277412321']}]
2026-02-09 21:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 828695 bytes/s ‚Üí 207.2 req/s
2026-02-09 21:51:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 207.2 req/s | Replicas: 2
2026-02-09 21:51:40 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (207.2 > 30)
2026-02-09 21:51:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:51:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_207rps)
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670300.792, '826452.7718656807']}]
2026-02-09 21:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 826453 bytes/s ‚Üí 206.6 req/s
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:143 | Current traffic: 206.6 req/s
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.750, capacity=20, latency=87ms
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.713, capacity=20, latency=85ms
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.733, capacity=20, latency=86ms
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:51:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.750)
2026-02-09 21:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.733)
2026-02-09 21:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.713)
2026-02-09 21:51:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.750)
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.733)
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.713)
2026-02-09 21:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:51:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=51.7 req/s, derivative=-0.1455, predicted=0.0 req/s (+600s)
2026-02-09 21:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=5.51, output=3.00, delta=3
2026-02-09 21:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=51.7, predicted=0.0 | base=1, PD=+3, constrained=False
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:51:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:51:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=51.7 req/s, derivative=-0.1455, predicted=0.0 req/s (+600s)
2026-02-09 21:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=51.7, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:51:40 | INFO     | src.level2.predictor:predict:153 | Prediction: current=103.3 req/s, derivative=0.0251, predicted=118.3 req/s (+600s)
2026-02-09 21:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.127, P=-0.64, D=-705.38, output=-3.00, delta=-3
2026-02-09 21:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=103.3, predicted=118.3 | base=3, PD=-3, constrained=True
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 2 (Œî=-3)
2026-02-09 21:51:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:51:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-09 21:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670330.798, '843270.9846267111']}]
2026-02-09 21:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 843271 bytes/s ‚Üí 210.8 req/s
2026-02-09 21:52:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 210.8 req/s | Replicas: 4
2026-02-09 21:52:10 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (210.8 > 30)
2026-02-09 21:52:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:52:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:52:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:52:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_211rps)
2026-02-09 21:52:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670331.076, '842991.846750939']}]
2026-02-09 21:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 842992 bytes/s ‚Üí 210.7 req/s
2026-02-09 21:52:10 | INFO     | __main__:schedule_service:143 | Current traffic: 210.7 req/s
2026-02-09 21:52:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:52:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.750, capacity=20, latency=91ms
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.729, capacity=20, latency=99ms
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.785, capacity=20, latency=99ms
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:52:11 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:52:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.785)
2026-02-09 21:52:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.750)
2026-02-09 21:52:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.729)
2026-02-09 21:52:11 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.785)
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.750)
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.729)
2026-02-09 21:52:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:52:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=84.3 req/s, derivative=0.1349, predicted=165.2 req/s (+600s)
2026-02-09 21:52:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.490, P=-2.45, D=-3.61, output=-3.00, delta=-3
2026-02-09 21:52:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.3, predicted=165.2 | base=4, PD=-3, constrained=True
2026-02-09 21:52:11 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:52:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=84.3 req/s, derivative=0.1349, predicted=165.2 req/s (+600s)
2026-02-09 21:52:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.490, P=-2.45, D=0.25, output=-2.20, delta=-2
2026-02-09 21:52:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=84.3, predicted=165.2 | base=4, PD=-2, constrained=False
2026-02-09 21:52:11 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:52:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:52:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=42.1 req/s, derivative=-0.0043, predicted=39.6 req/s (+600s)
2026-02-09 21:52:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.066, P=0.33, D=1828.17, output=3.00, delta=3
2026-02-09 21:52:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=42.1, predicted=39.6 | base=1, PD=+3, constrained=False
2026-02-09 21:52:11 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:52:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 21:52:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670361.073, '754870.6774262288']}]
2026-02-09 21:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 754871 bytes/s ‚Üí 188.7 req/s
2026-02-09 21:52:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 188.7 req/s | Replicas: 2
2026-02-09 21:52:40 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (188.7 > 30)
2026-02-09 21:52:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:52:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:52:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:52:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_189rps)
2026-02-09 21:52:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:52:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670361.378, '838613.3952381054']}]
2026-02-09 21:52:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 838613 bytes/s ‚Üí 209.7 req/s
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:143 | Current traffic: 209.7 req/s
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.733, capacity=20, latency=85ms
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.715, capacity=20, latency=87ms
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.695, capacity=20, latency=88ms
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:52:41 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:52:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.733)
2026-02-09 21:52:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.715)
2026-02-09 21:52:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.695)
2026-02-09 21:52:41 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=90ms, winner_det=2ms)
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.733)
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.715)
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.695)
2026-02-09 21:52:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:52:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.9 req/s, derivative=0.1144, predicted=152.5 req/s (+600s)
2026-02-09 21:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.450, P=-2.25, D=-5.13, output=-3.00, delta=-3
2026-02-09 21:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=83.9, predicted=152.5 | base=4, PD=-3, constrained=True
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:52:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.9 req/s, derivative=0.1144, predicted=152.5 req/s (+600s)
2026-02-09 21:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.450, P=-2.25, D=0.25, output=-2.01, delta=-2
2026-02-09 21:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=83.9, predicted=152.5 | base=4, PD=-2, constrained=False
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:52:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=41.9 req/s, derivative=-0.0241, predicted=27.5 req/s (+600s)
2026-02-09 21:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.527, P=2.64, D=7197.42, output=3.00, delta=3
2026-02-09 21:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=41.9, predicted=27.5 | base=1, PD=+3, constrained=False
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:52:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-09 21:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670391.359, '689124.784888692']}]
2026-02-09 21:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 689125 bytes/s ‚Üí 172.3 req/s
2026-02-09 21:53:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 172.3 req/s | Replicas: 2
2026-02-09 21:53:11 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (172.3 > 30)
2026-02-09 21:53:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:53:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_172rps)
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670391.659, '686551.9085349723']}]
2026-02-09 21:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 686552 bytes/s ‚Üí 171.6 req/s
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:143 | Current traffic: 171.6 req/s
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.755, capacity=20, latency=89ms
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.735, capacity=20, latency=87ms
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.773, capacity=20, latency=92ms
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:53:11 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.773)
2026-02-09 21:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.755)
2026-02-09 21:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.735)
2026-02-09 21:53:11 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=94ms, winner_det=1ms)
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.773)
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.755)
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.735)
2026-02-09 21:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:53:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=42.9 req/s, derivative=0.0015, predicted=43.8 req/s (+600s)
2026-02-09 21:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.021, P=-0.10, D=-5.44, output=-3.00, delta=-3
2026-02-09 21:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.9, predicted=43.8 | base=1, PD=-3, constrained=True
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:53:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=42.9 req/s, derivative=0.0015, predicted=43.8 req/s (+600s)
2026-02-09 21:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.021, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-09 21:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.9, predicted=43.8 | base=1, PD=+0, constrained=True
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:53:11 | INFO     | src.level2.predictor:predict:153 | Prediction: current=85.8 req/s, derivative=0.1432, predicted=171.8 req/s (+600s)
2026-02-09 21:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-2.50, D=-2378.52, output=-3.00, delta=-3
2026-02-09 21:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=85.8, predicted=171.8 | base=4, PD=-3, constrained=True
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:53:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:53:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-09 21:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670421.633, '787911.8099355411']}]
2026-02-09 21:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 787912 bytes/s ‚Üí 197.0 req/s
2026-02-09 21:53:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 197.0 req/s | Replicas: 2
2026-02-09 21:53:41 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (197.0 > 30)
2026-02-09 21:53:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:53:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_197rps)
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670421.916, '783336.2400635446']}]
2026-02-09 21:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 783336 bytes/s ‚Üí 195.8 req/s
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:143 | Current traffic: 195.8 req/s
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.769, capacity=20, latency=87ms
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.787, capacity=20, latency=87ms
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.767, capacity=20, latency=87ms
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:53:41 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.787)
2026-02-09 21:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.769)
2026-02-09 21:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.767)
2026-02-09 21:53:41 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=94ms, winner_det=0ms)
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.787)
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.769)
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.767)
2026-02-09 21:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:53:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.0 req/s, derivative=0.0025, predicted=50.4 req/s (+600s)
2026-02-09 21:53:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.030, P=-0.15, D=4.68, output=3.00, delta=3
2026-02-09 21:53:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=49.0, predicted=50.4 | base=1, PD=+3, constrained=False
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:53:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-09 21:53:41 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.0 req/s, derivative=0.0025, predicted=50.4 req/s (+600s)
2026-02-09 21:53:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.030, P=-0.15, D=0.03, output=-0.12, delta=0
2026-02-09 21:53:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=49.0, predicted=50.4 | base=1, PD=+0, constrained=True
2026-02-09 21:53:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:53:42 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.9 req/s, derivative=0.1642, predicted=196.4 req/s (+600s)
2026-02-09 21:53:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.501, P=-2.51, D=-3433.19, output=-3.00, delta=-3
2026-02-09 21:53:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.9, predicted=196.4 | base=5, PD=-3, constrained=False
2026-02-09 21:53:42 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:53:42 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-09 21:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670451.92, '974363.5309115056']}]
2026-02-09 21:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 974364 bytes/s ‚Üí 243.6 req/s
2026-02-09 21:54:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 243.6 req/s | Replicas: 2
2026-02-09 21:54:11 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (243.6 > 30)
2026-02-09 21:54:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:54:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:54:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:54:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_244rps)
2026-02-09 21:54:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:54:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670452.222, '974367.9423842999']}]
2026-02-09 21:54:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 974368 bytes/s ‚Üí 243.6 req/s
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:143 | Current traffic: 243.6 req/s
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.780, capacity=20, latency=95ms
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.725, capacity=20, latency=95ms
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.798, capacity=20, latency=95ms
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:54:12 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:54:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.798)
2026-02-09 21:54:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.780)
2026-02-09 21:54:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.725)
2026-02-09 21:54:12 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=1ms)
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.798)
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.780)
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.725)
2026-02-09 21:54:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:54:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.4 req/s, derivative=0.1747, predicted=202.3 req/s (+600s)
2026-02-09 21:54:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.518, P=-2.59, D=-0.17, output=-2.76, delta=-3
2026-02-09 21:54:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.4, predicted=202.3 | base=5, PD=-3, constrained=False
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:54:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.4 req/s, derivative=0.1747, predicted=202.2 req/s (+600s)
2026-02-09 21:54:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.518, P=-2.59, D=0.25, output=-2.34, delta=-2
2026-02-09 21:54:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=97.4, predicted=202.2 | base=5, PD=-2, constrained=False
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 3 (Œî=-1)
2026-02-09 21:54:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-09 21:54:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.7 req/s, derivative=0.0137, predicted=57.0 req/s (+600s)
2026-02-09 21:54:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.145, P=-0.72, D=1358.92, output=3.00, delta=3
2026-02-09 21:54:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=48.7, predicted=57.0 | base=1, PD=+3, constrained=False
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:54:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 21:54:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:54:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670482.252, '797348.3256211651']}]
2026-02-09 21:54:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 797348 bytes/s ‚Üí 199.3 req/s
2026-02-09 21:54:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 199.3 req/s | Replicas: 2
2026-02-09 21:54:42 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (199.3 > 30)
2026-02-09 21:54:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:54:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:54:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:54:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_199rps)
2026-02-09 21:54:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:54:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670483.548, '1001262.2143728719']}]
2026-02-09 21:54:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 1001262 bytes/s ‚Üí 250.3 req/s
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:143 | Current traffic: 250.3 req/s
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 6
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 6 replicas
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.727, capacity=20, latency=86ms
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.710, capacity=20, latency=86ms
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.706, capacity=20, latency=86ms
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:54:43 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 6 replicas among 3 clusters
2026-02-09 21:54:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=33.3%, score=0.727)
2026-02-09 21:54:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=33.3%, score=0.710)
2026-02-09 21:54:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=33.3%, score=0.706)
2026-02-09 21:54:43 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 6 replicas across 3 clusters
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 6 replicas across 3 clusters:
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=33.33%, score=0.727)
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=33.33%, score=0.710)
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=33.33%, score=0.706)
2026-02-09 21:54:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 21:54:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.4 req/s, derivative=-0.0444, predicted=56.8 req/s (+600s)
2026-02-09 21:54:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.469, P=2.34, D=5.90, output=3.00, delta=3
2026-02-09 21:54:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=83.4, predicted=56.8 | base=1, PD=+3, constrained=False
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:54:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-09 21:54:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.4 req/s, derivative=-0.0444, predicted=56.8 req/s (+600s)
2026-02-09 21:54:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.469, P=2.34, D=-0.68, output=1.66, delta=2
2026-02-09 21:54:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=83.4, predicted=56.8 | base=1, PD=+2, constrained=False
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:54:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.4 req/s, derivative=-0.0444, predicted=56.8 req/s (+600s)
2026-02-09 21:54:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.469, P=2.34, D=-0.68, output=1.66, delta=2
2026-02-09 21:54:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=83.4, predicted=56.8 | base=1, PD=+2, constrained=False
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 3 (Œî=-1)
2026-02-09 21:54:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 3 replicas
2026-02-09 21:54:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 1.55s
2026-02-09 21:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670512.538, '851883.6898300479']}]
2026-02-09 21:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 851884 bytes/s ‚Üí 213.0 req/s
2026-02-09 21:55:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 213.0 req/s | Replicas: 4
2026-02-09 21:55:12 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (213.0 > 30)
2026-02-09 21:55:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:55:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_213rps)
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670512.822, '948348.0221691082']}]
2026-02-09 21:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 948348 bytes/s ‚Üí 237.1 req/s
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:143 | Current traffic: 237.1 req/s
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.691, capacity=20, latency=91ms
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.746, capacity=20, latency=94ms
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.746, capacity=20, latency=94ms
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:55:12 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.746)
2026-02-09 21:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.746)
2026-02-09 21:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.691)
2026-02-09 21:55:12 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.746)
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.746)
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.691)
2026-02-09 21:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:55:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.8 req/s, derivative=0.1729, predicted=198.6 req/s (+600s)
2026-02-09 21:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.522, P=-2.61, D=-10.20, output=-3.00, delta=-3
2026-02-09 21:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=94.8, predicted=198.6 | base=5, PD=-3, constrained=False
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:55:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:55:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.8 req/s, derivative=0.1728, predicted=198.5 req/s (+600s)
2026-02-09 21:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.522, P=-2.61, D=0.25, output=-2.36, delta=-2
2026-02-09 21:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=94.8, predicted=198.5 | base=5, PD=-2, constrained=False
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-09 21:55:12 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.4 req/s, derivative=0.0163, predicted=57.2 req/s (+600s)
2026-02-09 21:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.171, P=-0.85, D=2347.79, output=3.00, delta=3
2026-02-09 21:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=47.4, predicted=57.2 | base=1, PD=+3, constrained=False
2026-02-09 21:55:12 | INFO     | __main__:schedule_service:199 | cluster3: 3 ‚Üí 4 (Œî=+1)
2026-02-09 21:55:13 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 21:55:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.61s
2026-02-09 21:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670542.808, '883348.1357965652']}]
2026-02-09 21:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 883348 bytes/s ‚Üí 220.8 req/s
2026-02-09 21:55:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 220.8 req/s | Replicas: 2
2026-02-09 21:55:42 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (220.8 > 30)
2026-02-09 21:55:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:55:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:55:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:55:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_221rps)
2026-02-09 21:55:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670543.118, '880767.5914468709']}]
2026-02-09 21:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 880768 bytes/s ‚Üí 220.2 req/s
2026-02-09 21:55:42 | INFO     | __main__:schedule_service:143 | Current traffic: 220.2 req/s
2026-02-09 21:55:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:55:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.677, capacity=20, latency=95ms
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.697, capacity=20, latency=104ms
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.715, capacity=20, latency=104ms
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:55:43 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:55:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.715)
2026-02-09 21:55:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.697)
2026-02-09 21:55:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.677)
2026-02-09 21:55:43 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=107ms, winner_det=0ms)
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.715)
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.697)
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.677)
2026-02-09 21:55:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:55:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=88.1 req/s, derivative=0.1302, predicted=166.2 req/s (+600s)
2026-02-09 21:55:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=-2.98, output=-3.00, delta=-3
2026-02-09 21:55:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=88.1, predicted=166.2 | base=4, PD=-3, constrained=True
2026-02-09 21:55:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:55:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=88.1 req/s, derivative=0.1302, predicted=166.2 req/s (+600s)
2026-02-09 21:55:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-2.35, D=0.25, output=-2.10, delta=-2
2026-02-09 21:55:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=88.1, predicted=166.2 | base=4, PD=-2, constrained=False
2026-02-09 21:55:43 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:55:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 21:55:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=44.0 req/s, derivative=-0.0152, predicted=34.9 req/s (+600s)
2026-02-09 21:55:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.262, P=1.31, D=2500.98, output=3.00, delta=3
2026-02-09 21:55:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.0, predicted=34.9 | base=1, PD=+3, constrained=False
2026-02-09 21:55:43 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:55:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 21:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670573.097, '971797.8690630497']}]
2026-02-09 21:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 971798 bytes/s ‚Üí 242.9 req/s
2026-02-09 21:56:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 242.9 req/s | Replicas: 2
2026-02-09 21:56:13 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (242.9 > 30)
2026-02-09 21:56:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:56:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_243rps)
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:56:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670573.384, '971739.9765926729']}]
2026-02-09 21:56:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 971740 bytes/s ‚Üí 242.9 req/s
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:143 | Current traffic: 242.9 req/s
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.745, capacity=20, latency=91ms
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.725, capacity=20, latency=89ms
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.728, capacity=20, latency=90ms
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:56:13 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:56:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.745)
2026-02-09 21:56:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.728)
2026-02-09 21:56:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.725)
2026-02-09 21:56:13 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=92ms, winner_det=1ms)
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.745)
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.728)
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.725)
2026-02-09 21:56:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:56:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.2 req/s, derivative=0.1759, predicted=202.7 req/s (+600s)
2026-02-09 21:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.521, P=-2.60, D=-7.80, output=-3.00, delta=-3
2026-02-09 21:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.2, predicted=202.7 | base=5, PD=-3, constrained=False
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:56:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.2 req/s, derivative=0.1759, predicted=202.7 req/s (+600s)
2026-02-09 21:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.521, P=-2.60, D=0.25, output=-2.36, delta=-2
2026-02-09 21:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=97.2, predicted=202.7 | base=5, PD=-2, constrained=False
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-09 21:56:13 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-09 21:56:13 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.6 req/s, derivative=0.0155, predicted=57.9 req/s (+600s)
2026-02-09 21:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.160, P=-0.80, D=1200.77, output=3.00, delta=3
2026-02-09 21:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=48.6, predicted=57.9 | base=1, PD=+3, constrained=False
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:56:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-09 21:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670603.378, '988785.0289615917']}]
2026-02-09 21:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 988785 bytes/s ‚Üí 247.2 req/s
2026-02-09 21:56:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 247.2 req/s | Replicas: 2
2026-02-09 21:56:43 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (247.2 > 30)
2026-02-09 21:56:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:56:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_247rps)
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670603.642, '988785.0289615918']}]
2026-02-09 21:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 988785 bytes/s ‚Üí 247.2 req/s
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:143 | Current traffic: 247.2 req/s
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.762, capacity=20, latency=89ms
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.744, capacity=20, latency=88ms
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.707, capacity=20, latency=88ms
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:56:43 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.762)
2026-02-09 21:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.744)
2026-02-09 21:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.707)
2026-02-09 21:56:43 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.762)
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.744)
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.707)
2026-02-09 21:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:56:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.9 req/s, derivative=-0.0146, predicted=90.1 req/s (+600s)
2026-02-09 21:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.097, P=0.49, D=2.57, output=3.00, delta=3
2026-02-09 21:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=98.9, predicted=90.1 | base=2, PD=+3, constrained=False
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 5 (Œî=+3)
2026-02-09 21:56:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-09 21:56:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.9 req/s, derivative=-0.0146, predicted=90.1 req/s (+600s)
2026-02-09 21:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.097, P=0.49, D=-0.11, output=0.38, delta=0
2026-02-09 21:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=98.9, predicted=90.1 | base=2, PD=+0, constrained=False
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:56:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 21:56:43 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.4 req/s, derivative=-0.1779, predicted=0.0 req/s (+600s)
2026-02-09 21:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-325.00, output=-3.00, delta=-3
2026-02-09 21:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=49.4, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:56:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:56:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 21:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670633.667, '981270.7116843336']}]
2026-02-09 21:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 981271 bytes/s ‚Üí 245.3 req/s
2026-02-09 21:57:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 245.3 req/s | Replicas: 5
2026-02-09 21:57:13 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (245.3 > 30)
2026-02-09 21:57:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 21:57:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:57:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:57:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_245rps)
2026-02-09 21:57:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670634.017, '981451.9609538916']}]
2026-02-09 21:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 981452 bytes/s ‚Üí 245.4 req/s
2026-02-09 21:57:13 | INFO     | __main__:schedule_service:143 | Current traffic: 245.4 req/s
2026-02-09 21:57:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.745, capacity=20, latency=97ms
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.762, capacity=20, latency=94ms
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.707, capacity=20, latency=109ms
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:57:13 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.762)
2026-02-09 21:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.745)
2026-02-09 21:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.707)
2026-02-09 21:57:13 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 112ms (collection=112ms, winner_det=0ms)
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.762)
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.745)
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.707)
2026-02-09 21:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:57:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.1 req/s, derivative=0.1849, predicted=209.1 req/s (+600s)
2026-02-09 21:57:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.531, P=-2.65, D=-5.27, output=-3.00, delta=-3
2026-02-09 21:57:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=98.1, predicted=209.1 | base=5, PD=-3, constrained=False
2026-02-09 21:57:14 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:57:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.1 req/s, derivative=0.1849, predicted=209.1 req/s (+600s)
2026-02-09 21:57:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.531, P=-2.65, D=0.25, output=-2.41, delta=-2
2026-02-09 21:57:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 3 (Œî=-2) | traffic: current=98.1, predicted=209.1 | base=5, PD=-2, constrained=False
2026-02-09 21:57:14 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 3 (Œî=-2)
2026-02-09 21:57:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 21:57:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.1 req/s, derivative=0.0229, predicted=62.8 req/s (+600s)
2026-02-09 21:57:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.218, P=-1.09, D=1147.15, output=3.00, delta=3
2026-02-09 21:57:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=49.1, predicted=62.8 | base=1, PD=+3, constrained=False
2026-02-09 21:57:14 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-09 21:57:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 21:57:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-09 21:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670663.956, '978003.6319656188']}]
2026-02-09 21:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 978004 bytes/s ‚Üí 244.5 req/s
2026-02-09 21:57:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 244.5 req/s | Replicas: 3
2026-02-09 21:57:43 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (244.5 > 30)
2026-02-09 21:57:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:57:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:57:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:57:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_245rps)
2026-02-09 21:57:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:57:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670664.236, '977957.4112124314']}]
2026-02-09 21:57:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 977957 bytes/s ‚Üí 244.5 req/s
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:143 | Current traffic: 244.5 req/s
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.711, capacity=20, latency=89ms
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.674, capacity=20, latency=100ms
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.694, capacity=20, latency=100ms
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:57:44 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:57:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.711)
2026-02-09 21:57:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.694)
2026-02-09 21:57:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.674)
2026-02-09 21:57:44 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=102ms, winner_det=2ms)
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.711)
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.694)
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.674)
2026-02-09 21:57:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:57:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.8 req/s, derivative=0.1845, predicted=208.5 req/s (+600s)
2026-02-09 21:57:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.531, P=-2.65, D=-3.12, output=-3.00, delta=-3
2026-02-09 21:57:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=97.8, predicted=208.5 | base=5, PD=-3, constrained=False
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:57:44 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 21:57:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.8 req/s, derivative=0.1844, predicted=208.5 req/s (+600s)
2026-02-09 21:57:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.531, P=-2.65, D=0.25, output=-2.41, delta=-2
2026-02-09 21:57:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=97.8, predicted=208.5 | base=5, PD=-2, constrained=False
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-09 21:57:44 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-09 21:57:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.9 req/s, derivative=0.0230, predicted=62.7 req/s (+600s)
2026-02-09 21:57:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.220, P=-1.10, D=1061.89, output=3.00, delta=3
2026-02-09 21:57:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=48.9, predicted=62.7 | base=1, PD=+3, constrained=False
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:57:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 21:58:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670694.233, '992241.3378053557']}]
2026-02-09 21:58:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 992241 bytes/s ‚Üí 248.1 req/s
2026-02-09 21:58:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 248.1 req/s | Replicas: 2
2026-02-09 21:58:14 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (248.1 > 30)
2026-02-09 21:58:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:58:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_248rps)
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:58:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670694.532, '992243.2078410378']}]
2026-02-09 21:58:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 992243 bytes/s ‚Üí 248.1 req/s
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:143 | Current traffic: 248.1 req/s
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.744, capacity=20, latency=91ms
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.707, capacity=20, latency=89ms
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.727, capacity=20, latency=92ms
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:58:14 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.744)
2026-02-09 21:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.727)
2026-02-09 21:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.707)
2026-02-09 21:58:14 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=92ms, winner_det=1ms)
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.744)
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.727)
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.707)
2026-02-09 21:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:58:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=99.2 req/s, derivative=0.0443, predicted=125.8 req/s (+600s)
2026-02-09 21:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.211, P=-1.06, D=0.09, output=-0.97, delta=-1
2026-02-09 21:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=99.2, predicted=125.8 | base=3, PD=-1, constrained=False
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:58:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=99.2 req/s, derivative=0.0443, predicted=125.8 req/s (+600s)
2026-02-09 21:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.211, P=-1.06, D=0.17, output=-0.89, delta=-1
2026-02-09 21:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=99.2, predicted=125.8 | base=3, PD=-1, constrained=False
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-09 21:58:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 21:58:14 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.6 req/s, derivative=-0.1195, predicted=0.0 req/s (+600s)
2026-02-09 21:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=773.54, output=3.00, delta=3
2026-02-09 21:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=49.6, predicted=0.0 | base=1, PD=+3, constrained=False
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:58:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-09 21:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670724.531, '986927.7482985378']}]
2026-02-09 21:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 986928 bytes/s ‚Üí 246.7 req/s
2026-02-09 21:58:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 246.7 req/s | Replicas: 2
2026-02-09 21:58:44 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (246.7 > 30)
2026-02-09 21:58:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:58:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_247rps)
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670724.812, '986978.113450972']}]
2026-02-09 21:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 986978 bytes/s ‚Üí 246.7 req/s
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:143 | Current traffic: 246.7 req/s
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.724, capacity=20, latency=85ms
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.745, capacity=20, latency=90ms
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.727, capacity=20, latency=104ms
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:58:44 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.745)
2026-02-09 21:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.727)
2026-02-09 21:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.724)
2026-02-09 21:58:44 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=105ms, winner_det=0ms)
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.745)
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.727)
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.724)
2026-02-09 21:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:58:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.7 req/s, derivative=0.0026, predicted=100.2 req/s (+600s)
2026-02-09 21:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.015, P=-0.08, D=-0.15, output=-0.23, delta=0
2026-02-09 21:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=98.7, predicted=100.2 | base=2, PD=+0, constrained=False
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:58:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.7 req/s, derivative=0.0026, predicted=100.2 req/s (+600s)
2026-02-09 21:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.015, P=-0.08, D=0.02, output=-0.06, delta=0
2026-02-09 21:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=98.7, predicted=100.2 | base=2, PD=+0, constrained=False
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:58:44 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.3 req/s, derivative=-0.1604, predicted=0.0 req/s (+600s)
2026-02-09 21:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=99.74, output=3.00, delta=3
2026-02-09 21:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=49.3, predicted=0.0 | base=1, PD=+3, constrained=False
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:58:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-09 21:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670754.811, '910254.6478806323']}]
2026-02-09 21:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 910255 bytes/s ‚Üí 227.6 req/s
2026-02-09 21:59:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 227.6 req/s | Replicas: 2
2026-02-09 21:59:14 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (227.6 > 30)
2026-02-09 21:59:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 21:59:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:59:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:59:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_228rps)
2026-02-09 21:59:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670755.12, '944258.0688130328']}]
2026-02-09 21:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 944258 bytes/s ‚Üí 236.1 req/s
2026-02-09 21:59:14 | INFO     | __main__:schedule_service:143 | Current traffic: 236.1 req/s
2026-02-09 21:59:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 21:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 21:59:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.763, capacity=20, latency=88ms
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.726, capacity=20, latency=86ms
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.746, capacity=20, latency=86ms
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:59:15 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 21:59:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.763)
2026-02-09 21:59:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.746)
2026-02-09 21:59:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.726)
2026-02-09 21:59:15 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.763)
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.746)
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.726)
2026-02-09 21:59:15 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 21:59:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.4 req/s, derivative=0.1510, predicted=185.0 req/s (+600s)
2026-02-09 21:59:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.490, P=-2.45, D=-4.86, output=-3.00, delta=-3
2026-02-09 21:59:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=94.4, predicted=185.0 | base=4, PD=-3, constrained=True
2026-02-09 21:59:15 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:59:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.4 req/s, derivative=0.1509, predicted=185.0 req/s (+600s)
2026-02-09 21:59:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.490, P=-2.45, D=0.25, output=-2.20, delta=-2
2026-02-09 21:59:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=94.4, predicted=185.0 | base=4, PD=-2, constrained=False
2026-02-09 21:59:15 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:59:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.2 req/s, derivative=-0.0050, predicted=44.2 req/s (+600s)
2026-02-09 21:59:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.067, P=0.34, D=3727.08, output=3.00, delta=3
2026-02-09 21:59:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=47.2, predicted=44.2 | base=1, PD=+3, constrained=False
2026-02-09 21:59:15 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 21:59:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-09 21:59:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670785.087, '786865.4656042376']}]
2026-02-09 21:59:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 786865 bytes/s ‚Üí 196.7 req/s
2026-02-09 21:59:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 196.7 req/s | Replicas: 2
2026-02-09 21:59:44 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (196.7 > 30)
2026-02-09 21:59:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 21:59:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 21:59:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 21:59:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_197rps)
2026-02-09 21:59:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 21:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670785.355, '786631.2229376491']}]
2026-02-09 21:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 786631 bytes/s ‚Üí 196.7 req/s
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:143 | Current traffic: 196.7 req/s
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.769, capacity=20, latency=86ms
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.751, capacity=20, latency=89ms
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.731, capacity=20, latency=98ms
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 21:59:45 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-09 21:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.769)
2026-02-09 21:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.751)
2026-02-09 21:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.731)
2026-02-09 21:59:45 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=99ms, winner_det=1ms)
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.769)
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.751)
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.731)
2026-02-09 21:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-09 21:59:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.2 req/s, derivative=-0.1136, predicted=0.0 req/s (+600s)
2026-02-09 21:59:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-0.67, output=-0.67, delta=-1
2026-02-09 21:59:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=49.2, predicted=0.0 | base=1, PD=-1, constrained=True
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:59:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.2 req/s, derivative=-0.1136, predicted=0.0 req/s (+600s)
2026-02-09 21:59:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 21:59:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=49.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 21:59:45 | INFO     | src.level2.predictor:predict:153 | Prediction: current=98.3 req/s, derivative=0.0493, predicted=127.9 req/s (+600s)
2026-02-09 21:59:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.231, P=-1.16, D=-1638.17, output=-3.00, delta=-3
2026-02-09 21:59:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=98.3, predicted=127.9 | base=3, PD=-3, constrained=True
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-09 21:59:45 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 21:59:45 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-09 22:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670815.354, '962874.1439635911']}]
2026-02-09 22:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 962874 bytes/s ‚Üí 240.7 req/s
2026-02-09 22:00:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 240.7 req/s | Replicas: 2
2026-02-09 22:00:15 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (240.7 > 30)
2026-02-09 22:00:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:00:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_241rps)
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670815.626, '962823.6165846887']}]
2026-02-09 22:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 962824 bytes/s ‚Üí 240.7 req/s
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:143 | Current traffic: 240.7 req/s
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.763, capacity=20, latency=85ms
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.725, capacity=20, latency=85ms
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.745, capacity=20, latency=86ms
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:00:15 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:00:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.763)
2026-02-09 22:00:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.745)
2026-02-09 22:00:15 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.725)
2026-02-09 22:00:15 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=88ms, winner_det=1ms)
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.763)
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.745)
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.725)
2026-02-09 22:00:15 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:00:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.3 req/s, derivative=0.1615, predicted=193.2 req/s (+600s)
2026-02-09 22:00:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.502, P=-2.51, D=-2.69, output=-3.00, delta=-3
2026-02-09 22:00:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=96.3, predicted=193.2 | base=4, PD=-3, constrained=True
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:00:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.3 req/s, derivative=0.1615, predicted=193.2 req/s (+600s)
2026-02-09 22:00:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.502, P=-2.51, D=0.25, output=-2.26, delta=-2
2026-02-09 22:00:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=96.3, predicted=193.2 | base=4, PD=-2, constrained=False
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:00:15 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.1 req/s, derivative=0.0024, predicted=49.6 req/s (+600s)
2026-02-09 22:00:15 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.029, P=-0.14, D=3100.53, output=3.00, delta=3
2026-02-09 22:00:15 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=48.1, predicted=49.6 | base=1, PD=+3, constrained=False
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-09 22:00:15 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 22:00:15 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-09 22:00:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670845.633, '871586.2874825473']}]
2026-02-09 22:00:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 871586 bytes/s ‚Üí 217.9 req/s
2026-02-09 22:00:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 217.9 req/s | Replicas: 2
2026-02-09 22:00:45 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (217.9 > 30)
2026-02-09 22:00:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:00:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:00:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:00:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_218rps)
2026-02-09 22:00:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670846.908, '862049.5646632281']}]
2026-02-09 22:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 862050 bytes/s ‚Üí 215.5 req/s
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:143 | Current traffic: 215.5 req/s
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=84ms
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=95ms
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.784, capacity=20, latency=98ms
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:00:46 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.784)
2026-02-09 22:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-09 22:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.764)
2026-02-09 22:00:46 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 99ms (collection=98ms, winner_det=1ms)
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.784)
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.764)
2026-02-09 22:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:00:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.2 req/s, derivative=0.1389, predicted=169.5 req/s (+600s)
2026-02-09 22:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.491, P=-2.46, D=-4.45, output=-3.00, delta=-3
2026-02-09 22:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.2, predicted=169.5 | base=4, PD=-3, constrained=True
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:00:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.2 req/s, derivative=0.1388, predicted=169.5 req/s (+600s)
2026-02-09 22:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.491, P=-2.46, D=0.25, output=-2.21, delta=-2
2026-02-09 22:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.2, predicted=169.5 | base=4, PD=-2, constrained=False
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:00:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=43.1 req/s, derivative=-0.0031, predicted=41.3 req/s (+600s)
2026-02-09 22:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.045, P=0.22, D=3846.08, output=3.00, delta=3
2026-02-09 22:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=43.1, predicted=41.3 | base=1, PD=+3, constrained=False
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:00:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 1.47s
2026-02-09 22:01:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670875.918, '870326.1852540212']}]
2026-02-09 22:01:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 870326 bytes/s ‚Üí 217.6 req/s
2026-02-09 22:01:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 217.6 req/s | Replicas: 2
2026-02-09 22:01:15 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (217.6 > 30)
2026-02-09 22:01:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:01:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:01:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:01:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_218rps)
2026-02-09 22:01:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670876.221, '868191.7704898084']}]
2026-02-09 22:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 868192 bytes/s ‚Üí 217.0 req/s
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:143 | Current traffic: 217.0 req/s
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=88ms
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=90ms
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=108ms
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:01:16 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-09 22:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-09 22:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-09 22:01:16 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=109ms, winner_det=2ms)
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-09 22:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:01:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.8 req/s, derivative=0.1263, predicted=162.6 req/s (+600s)
2026-02-09 22:01:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.466, P=-2.33, D=-5.24, output=-3.00, delta=-3
2026-02-09 22:01:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.8, predicted=162.6 | base=4, PD=-3, constrained=True
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:01:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=86.8 req/s, derivative=0.1263, predicted=162.6 req/s (+600s)
2026-02-09 22:01:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.466, P=-2.33, D=0.25, output=-2.08, delta=-2
2026-02-09 22:01:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.8, predicted=162.6 | base=4, PD=-2, constrained=False
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:01:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=43.4 req/s, derivative=-0.0171, predicted=33.2 req/s (+600s)
2026-02-09 22:01:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.309, P=1.55, D=5317.01, output=3.00, delta=3
2026-02-09 22:01:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=43.4, predicted=33.2 | base=1, PD=+3, constrained=False
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:01:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-09 22:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670906.203, '892653.1896480387']}]
2026-02-09 22:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 892653 bytes/s ‚Üí 223.2 req/s
2026-02-09 22:01:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.2 req/s | Replicas: 2
2026-02-09 22:01:46 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.2 > 30)
2026-02-09 22:01:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 22:01:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670906.469, '889715.3432435634']}]
2026-02-09 22:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 889715 bytes/s ‚Üí 222.4 req/s
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:143 | Current traffic: 222.4 req/s
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=88ms
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=89ms
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=102ms
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:01:46 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:01:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-09 22:01:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-09 22:01:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-09 22:01:46 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-09 22:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:01:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=89.0 req/s, derivative=0.1306, predicted=167.3 req/s (+600s)
2026-02-09 22:01:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.468, P=-2.34, D=-7.73, output=-3.00, delta=-3
2026-02-09 22:01:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.0, predicted=167.3 | base=4, PD=-3, constrained=True
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:01:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=89.0 req/s, derivative=0.1306, predicted=167.3 req/s (+600s)
2026-02-09 22:01:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.468, P=-2.34, D=0.25, output=-2.09, delta=-2
2026-02-09 22:01:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.0, predicted=167.3 | base=4, PD=-2, constrained=False
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:01:46 | INFO     | src.level2.predictor:predict:153 | Prediction: current=44.5 req/s, derivative=-0.0164, predicted=34.7 req/s (+600s)
2026-02-09 22:01:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.283, P=1.42, D=4488.60, output=3.00, delta=3
2026-02-09 22:01:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.5, predicted=34.7 | base=1, PD=+3, constrained=False
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:01:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-09 22:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670936.472, '942235.2093187274']}]
2026-02-09 22:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 942235 bytes/s ‚Üí 235.6 req/s
2026-02-09 22:02:16 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 235.6 req/s | Replicas: 2
2026-02-09 22:02:16 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (235.6 > 30)
2026-02-09 22:02:16 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:02:16 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_236rps)
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670936.768, '942283.4875418594']}]
2026-02-09 22:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 942283 bytes/s ‚Üí 235.6 req/s
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:143 | Current traffic: 235.6 req/s
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.726, capacity=20, latency=86ms
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.763, capacity=20, latency=98ms
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.746, capacity=20, latency=97ms
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:02:16 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:02:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.763)
2026-02-09 22:02:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.746)
2026-02-09 22:02:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.726)
2026-02-09 22:02:16 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 99ms (collection=99ms, winner_det=0ms)
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.763)
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.746)
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.726)
2026-02-09 22:02:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:02:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.2 req/s, derivative=0.1492, predicted=183.8 req/s (+600s)
2026-02-09 22:02:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.487, P=-2.44, D=-7.66, output=-3.00, delta=-3
2026-02-09 22:02:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=94.2, predicted=183.8 | base=4, PD=-3, constrained=True
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:02:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=94.2 req/s, derivative=0.1492, predicted=183.8 req/s (+600s)
2026-02-09 22:02:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.487, P=-2.44, D=0.25, output=-2.19, delta=-2
2026-02-09 22:02:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=94.2, predicted=183.8 | base=4, PD=-2, constrained=False
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:02:16 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.1 req/s, derivative=-0.0065, predicted=43.2 req/s (+600s)
2026-02-09 22:02:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.090, P=0.45, D=4218.26, output=3.00, delta=3
2026-02-09 22:02:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=47.1, predicted=43.2 | base=1, PD=+3, constrained=False
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:02:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-09 22:02:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670966.746, '977228.1189342258']}]
2026-02-09 22:02:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 977228 bytes/s ‚Üí 244.3 req/s
2026-02-09 22:02:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 244.3 req/s | Replicas: 2
2026-02-09 22:02:46 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (244.3 > 30)
2026-02-09 22:02:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:02:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:02:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:02:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_244rps)
2026-02-09 22:02:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:02:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670967.019, '977276.5811937094']}]
2026-02-09 22:02:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 977277 bytes/s ‚Üí 244.3 req/s
2026-02-09 22:02:46 | INFO     | __main__:schedule_service:143 | Current traffic: 244.3 req/s
2026-02-09 22:02:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.762, capacity=20, latency=84ms
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.745, capacity=20, latency=85ms
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.725, capacity=20, latency=104ms
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:02:46 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:02:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.762)
2026-02-09 22:02:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.745)
2026-02-09 22:02:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.725)
2026-02-09 22:02:46 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=107ms, winner_det=1ms)
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.762)
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.745)
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.725)
2026-02-09 22:02:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:02:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.7 req/s, derivative=0.1614, predicted=194.5 req/s (+600s)
2026-02-09 22:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.498, P=-2.49, D=-5.84, output=-3.00, delta=-3
2026-02-09 22:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.7, predicted=194.5 | base=4, PD=-3, constrained=True
2026-02-09 22:02:47 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:02:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.7 req/s, derivative=0.1613, predicted=194.5 req/s (+600s)
2026-02-09 22:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.498, P=-2.49, D=0.24, output=-2.25, delta=-2
2026-02-09 22:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.7, predicted=194.5 | base=4, PD=-2, constrained=False
2026-02-09 22:02:47 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:02:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.9 req/s, derivative=-0.0001, predicted=48.8 req/s (+600s)
2026-02-09 22:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.001, P=0.01, D=3429.38, output=3.00, delta=3
2026-02-09 22:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=48.9, predicted=48.8 | base=1, PD=+3, constrained=False
2026-02-09 22:02:47 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:02:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-09 22:03:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670997.033, '960787.8003850799']}]
2026-02-09 22:03:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 960788 bytes/s ‚Üí 240.2 req/s
2026-02-09 22:03:16 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 240.2 req/s | Replicas: 2
2026-02-09 22:03:16 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (240.2 > 30)
2026-02-09 22:03:16 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:03:16 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:03:16 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:03:16 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_240rps)
2026-02-09 22:03:16 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770670997.318, '959501.3757846501']}]
2026-02-09 22:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 959501 bytes/s ‚Üí 239.9 req/s
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:143 | Current traffic: 239.9 req/s
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.725, capacity=20, latency=85ms
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.745, capacity=20, latency=86ms
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.763, capacity=20, latency=87ms
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:03:17 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.763)
2026-02-09 22:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.745)
2026-02-09 22:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.725)
2026-02-09 22:03:17 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.763)
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.745)
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.725)
2026-02-09 22:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:03:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.0 req/s, derivative=0.1531, predicted=187.8 req/s (+600s)
2026-02-09 22:03:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.489, P=-2.45, D=-4.87, output=-3.00, delta=-3
2026-02-09 22:03:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=96.0, predicted=187.8 | base=4, PD=-3, constrained=True
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:03:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=96.0 req/s, derivative=0.1531, predicted=187.8 req/s (+600s)
2026-02-09 22:03:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.489, P=-2.45, D=0.25, output=-2.20, delta=-2
2026-02-09 22:03:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=96.0, predicted=187.8 | base=4, PD=-2, constrained=False
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:03:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.0 req/s, derivative=-0.0054, predicted=44.7 req/s (+600s)
2026-02-09 22:03:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.073, P=0.36, D=3347.84, output=3.00, delta=3
2026-02-09 22:03:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=48.0, predicted=44.7 | base=1, PD=+3, constrained=False
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:03:17 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-09 22:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671027.315, '927061.6534861618']}]
2026-02-09 22:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 927062 bytes/s ‚Üí 231.8 req/s
2026-02-09 22:03:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 231.8 req/s | Replicas: 2
2026-02-09 22:03:47 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (231.8 > 30)
2026-02-09 22:03:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:03:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_232rps)
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671027.61, '929568.82092035']}]
2026-02-09 22:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 929569 bytes/s ‚Üí 232.4 req/s
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:143 | Current traffic: 232.4 req/s
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.746, capacity=20, latency=84ms
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.764, capacity=20, latency=84ms
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.726, capacity=20, latency=83ms
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:03:47 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:03:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.764)
2026-02-09 22:03:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.746)
2026-02-09 22:03:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.726)
2026-02-09 22:03:47 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=86ms, winner_det=5ms)
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.764)
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.746)
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.726)
2026-02-09 22:03:47 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:03:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=93.0 req/s, derivative=0.1441, predicted=179.4 req/s (+600s)
2026-02-09 22:03:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.482, P=-2.41, D=-5.51, output=-3.00, delta=-3
2026-02-09 22:03:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=93.0, predicted=179.4 | base=4, PD=-3, constrained=True
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:03:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=93.0 req/s, derivative=0.1440, predicted=179.4 req/s (+600s)
2026-02-09 22:03:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.482, P=-2.41, D=0.25, output=-2.16, delta=-2
2026-02-09 22:03:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=93.0, predicted=179.4 | base=4, PD=-2, constrained=False
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:03:47 | INFO     | src.level2.predictor:predict:153 | Prediction: current=46.5 req/s, derivative=-0.0095, predicted=40.8 req/s (+600s)
2026-02-09 22:03:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.139, P=0.70, D=4316.73, output=3.00, delta=3
2026-02-09 22:03:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=46.5, predicted=40.8 | base=1, PD=+3, constrained=False
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:03:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 22:04:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671057.637, '996562.2564613855']}]
2026-02-09 22:04:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 996562 bytes/s ‚Üí 249.1 req/s
2026-02-09 22:04:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 249.1 req/s | Replicas: 2
2026-02-09 22:04:17 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (249.1 > 30)
2026-02-09 22:04:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 22:04:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_249rps)
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:04:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671057.95, '996455.9640422101']}]
2026-02-09 22:04:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 996456 bytes/s ‚Üí 249.1 req/s
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:143 | Current traffic: 249.1 req/s
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.762, capacity=20, latency=80ms
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.724, capacity=20, latency=80ms
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.744, capacity=20, latency=80ms
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:04:17 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:04:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.762)
2026-02-09 22:04:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.744)
2026-02-09 22:04:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.724)
2026-02-09 22:04:17 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 80ms (collection=80ms, winner_det=0ms)
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.762)
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.744)
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.724)
2026-02-09 22:04:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:04:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=99.6 req/s, derivative=0.1732, predicted=203.6 req/s (+600s)
2026-02-09 22:04:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.510, P=-2.55, D=-6.45, output=-3.00, delta=-3
2026-02-09 22:04:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=99.6, predicted=203.6 | base=5, PD=-3, constrained=False
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:04:17 | INFO     | src.level2.predictor:predict:153 | Prediction: current=99.6 req/s, derivative=0.1732, predicted=203.5 req/s (+600s)
2026-02-09 22:04:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.510, P=-2.55, D=0.25, output=-2.30, delta=-2
2026-02-09 22:04:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=99.6, predicted=203.5 | base=5, PD=-2, constrained=False
2026-02-09 22:04:17 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-09 22:04:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-09 22:04:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=49.8 req/s, derivative=0.0086, predicted=55.0 req/s (+600s)
2026-02-09 22:04:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.094, P=-0.47, D=1408.16, output=3.00, delta=3
2026-02-09 22:04:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=49.8, predicted=55.0 | base=1, PD=+3, constrained=False
2026-02-09 22:04:18 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:04:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-09 22:04:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671087.916, '971276.2898361188']}]
2026-02-09 22:04:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 971276 bytes/s ‚Üí 242.8 req/s
2026-02-09 22:04:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 242.8 req/s | Replicas: 2
2026-02-09 22:04:47 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (242.8 > 30)
2026-02-09 22:04:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:04:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:04:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:04:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_243rps)
2026-02-09 22:04:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671088.194, '971274.857522287']}]
2026-02-09 22:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 971275 bytes/s ‚Üí 242.8 req/s
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:143 | Current traffic: 242.8 req/s
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.745, capacity=20, latency=84ms
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.745, capacity=20, latency=91ms
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.707, capacity=20, latency=91ms
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:04:48 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.745)
2026-02-09 22:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.745)
2026-02-09 22:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.707)
2026-02-09 22:04:48 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=91ms, winner_det=3ms)
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.745)
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.745)
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.707)
2026-02-09 22:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:04:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.1 req/s, derivative=-0.0040, predicted=94.7 req/s (+600s)
2026-02-09 22:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.025, P=0.13, D=1.19, output=1.31, delta=1
2026-02-09 22:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=97.1, predicted=94.7 | base=2, PD=+1, constrained=False
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 22:04:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 22:04:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=97.1 req/s, derivative=-0.0040, predicted=94.7 req/s (+600s)
2026-02-09 22:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.025, P=0.13, D=-0.03, output=0.10, delta=0
2026-02-09 22:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=97.1, predicted=94.7 | base=2, PD=+0, constrained=False
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-09 22:04:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-09 22:04:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=48.6 req/s, derivative=-0.1643, predicted=0.0 req/s (+600s)
2026-02-09 22:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-89.92, output=-3.00, delta=-3
2026-02-09 22:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=48.6, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-09 22:04:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-09 22:04:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-09 22:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671118.185, '955340.6628140539']}]
2026-02-09 22:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 955341 bytes/s ‚Üí 238.8 req/s
2026-02-09 22:05:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 238.8 req/s | Replicas: 3
2026-02-09 22:05:18 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (238.8 > 30)
2026-02-09 22:05:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:05:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_239rps)
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671118.467, '955290.807660292']}]
2026-02-09 22:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 955291 bytes/s ‚Üí 238.8 req/s
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:143 | Current traffic: 238.8 req/s
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.746, capacity=20, latency=88ms
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.728, capacity=20, latency=101ms
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.708, capacity=20, latency=100ms
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:05:18 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:05:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.746)
2026-02-09 22:05:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.728)
2026-02-09 22:05:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.708)
2026-02-09 22:05:18 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.746)
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.728)
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.708)
2026-02-09 22:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:05:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=95.5 req/s, derivative=0.1565, predicted=189.4 req/s (+600s)
2026-02-09 22:05:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.496, P=-2.48, D=-4.94, output=-3.00, delta=-3
2026-02-09 22:05:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=95.5, predicted=189.4 | base=4, PD=-3, constrained=True
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 22:05:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 22:05:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=95.5 req/s, derivative=0.1565, predicted=189.4 req/s (+600s)
2026-02-09 22:05:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.496, P=-2.48, D=0.25, output=-2.23, delta=-2
2026-02-09 22:05:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=95.5, predicted=189.4 | base=4, PD=-2, constrained=False
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:05:18 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.8 req/s, derivative=-0.0012, predicted=47.0 req/s (+600s)
2026-02-09 22:05:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.08, D=3383.43, output=3.00, delta=3
2026-02-09 22:05:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=47.8, predicted=47.0 | base=1, PD=+3, constrained=False
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-09 22:05:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-09 22:05:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-09 22:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671148.476, '952299.4307045841']}]
2026-02-09 22:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 952299 bytes/s ‚Üí 238.1 req/s
2026-02-09 22:05:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 238.1 req/s | Replicas: 2
2026-02-09 22:05:48 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (238.1 > 30)
2026-02-09 22:05:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 22:05:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_238rps)
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671148.763, '952300.580695617']}]
2026-02-09 22:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 952301 bytes/s ‚Üí 238.1 req/s
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:143 | Current traffic: 238.1 req/s
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.763, capacity=20, latency=84ms
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.743, capacity=20, latency=83ms
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.763, capacity=20, latency=100ms
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:05:48 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:05:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.763)
2026-02-09 22:05:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.763)
2026-02-09 22:05:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.743)
2026-02-09 22:05:48 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.763)
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.763)
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.743)
2026-02-09 22:05:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:05:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=95.2 req/s, derivative=0.1727, predicted=198.9 req/s (+600s)
2026-02-09 22:05:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.521, P=-2.61, D=-5.34, output=-3.00, delta=-3
2026-02-09 22:05:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=95.2, predicted=198.9 | base=5, PD=-3, constrained=False
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:05:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=95.2 req/s, derivative=0.1727, predicted=198.9 req/s (+600s)
2026-02-09 22:05:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.521, P=-2.61, D=0.25, output=-2.35, delta=-2
2026-02-09 22:05:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=95.2, predicted=198.9 | base=5, PD=-2, constrained=False
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-09 22:05:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-09 22:05:48 | INFO     | src.level2.predictor:predict:153 | Prediction: current=47.6 req/s, derivative=0.0149, predicted=56.6 req/s (+600s)
2026-02-09 22:05:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.158, P=-0.79, D=1195.77, output=3.00, delta=3
2026-02-09 22:05:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=47.6, predicted=56.6 | base=1, PD=+3, constrained=False
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:05:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-09 22:06:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671178.787, '837322.4266456777']}]
2026-02-09 22:06:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 837322 bytes/s ‚Üí 209.3 req/s
2026-02-09 22:06:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 209.3 req/s | Replicas: 3
2026-02-09 22:06:18 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (209.3 > 30)
2026-02-09 22:06:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:06:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:06:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:06:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_209rps)
2026-02-09 22:06:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:06:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671179.055, '837327.5297360446']}]
2026-02-09 22:06:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 837328 bytes/s ‚Üí 209.3 req/s
2026-02-09 22:06:18 | INFO     | __main__:schedule_service:143 | Current traffic: 209.3 req/s
2026-02-09 22:06:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.750, capacity=20, latency=87ms
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.712, capacity=20, latency=97ms
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.750, capacity=20, latency=99ms
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:06:18 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-09 22:06:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.750)
2026-02-09 22:06:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.750)
2026-02-09 22:06:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.712)
2026-02-09 22:06:18 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=101ms, winner_det=0ms)
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.750)
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.750)
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.712)
2026-02-09 22:06:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-09 22:06:19 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.7 req/s, derivative=0.1332, predicted=163.7 req/s (+600s)
2026-02-09 22:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.488, P=-2.44, D=-3.28, output=-3.00, delta=-3
2026-02-09 22:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=83.7, predicted=163.7 | base=4, PD=-3, constrained=True
2026-02-09 22:06:19 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-09 22:06:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-09 22:06:19 | INFO     | src.level2.predictor:predict:153 | Prediction: current=83.7 req/s, derivative=0.1332, predicted=163.6 req/s (+600s)
2026-02-09 22:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.488, P=-2.44, D=0.25, output=-2.19, delta=-2
2026-02-09 22:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=83.7, predicted=163.6 | base=4, PD=-2, constrained=False
2026-02-09 22:06:19 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:06:19 | INFO     | src.level2.predictor:predict:153 | Prediction: current=41.9 req/s, derivative=-0.0051, predicted=38.8 req/s (+600s)
2026-02-09 22:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.079, P=0.39, D=3103.98, output=3.00, delta=3
2026-02-09 22:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=41.9, predicted=38.8 | base=1, PD=+3, constrained=False
2026-02-09 22:06:19 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-09 22:06:19 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-09 22:06:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671209.058, '209851.64362222573']}]
2026-02-09 22:06:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 209852 bytes/s ‚Üí 52.5 req/s
2026-02-09 22:06:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 52.5 req/s | Replicas: 2
2026-02-09 22:06:48 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (52.5 > 30)
2026-02-09 22:06:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:06:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-09 22:06:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:06:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_52rps)
2026-02-09 22:06:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671209.332, '209412.5296244896']}]
2026-02-09 22:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 209413 bytes/s ‚Üí 52.4 req/s
2026-02-09 22:06:49 | INFO     | __main__:schedule_service:143 | Current traffic: 52.4 req/s
2026-02-09 22:06:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.796, capacity=20, latency=83ms
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.761, capacity=20, latency=90ms
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.741, capacity=20, latency=90ms
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:06:49 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:06:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.796)
2026-02-09 22:06:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.761)
2026-02-09 22:06:49 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=91ms, winner_det=4ms)
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.796)
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.761)
2026-02-09 22:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:06:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=26.2 req/s, derivative=-0.0605, predicted=0.0 req/s (+600s)
2026-02-09 22:06:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-0.78, output=-0.78, delta=-1
2026-02-09 22:06:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=26.2, predicted=0.0 | base=1, PD=-1, constrained=True
2026-02-09 22:06:49 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:06:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=26.2 req/s, derivative=-0.0605, predicted=0.0 req/s (+600s)
2026-02-09 22:06:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:06:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=26.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:06:49 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:06:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 22:07:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671239.351, '45205.66672191962']}]
2026-02-09 22:07:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 45206 bytes/s ‚Üí 11.3 req/s
2026-02-09 22:07:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.3 req/s | Replicas: 2
2026-02-09 22:07:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671269.619, '38252.3015557698']}]
2026-02-09 22:07:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38252 bytes/s ‚Üí 9.6 req/s
2026-02-09 22:07:49 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.6 req/s | Replicas: 2
2026-02-09 22:07:49 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.6 < 10)
2026-02-09 22:07:49 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-09 22:07:49 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:07:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671269.89, '38100.43861600428']}]
2026-02-09 22:07:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 38100 bytes/s ‚Üí 9.5 req/s
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:143 | Current traffic: 9.5 req/s
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=87ms
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=87ms
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=118ms
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:07:49 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:07:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:07:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:07:49 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 126ms (collection=125ms, winner_det=1ms)
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:07:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:07:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.1456, predicted=0.0 req/s (+600s)
2026-02-09 22:07:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:07:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.8, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:07:49 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.8 req/s, derivative=-0.1456, predicted=0.0 req/s (+600s)
2026-02-09 22:07:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:07:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.8, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:07:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 22:08:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671299.892, '42270.56110812196']}]
2026-02-09 22:08:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42271 bytes/s ‚Üí 10.6 req/s
2026-02-09 22:08:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.6 req/s | Replicas: 2
2026-02-09 22:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671330.17, '33733.94224204969']}]
2026-02-09 22:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 33734 bytes/s ‚Üí 8.4 req/s
2026-02-09 22:08:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.4 req/s | Replicas: 2
2026-02-09 22:08:50 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.4 < 10)
2026-02-09 22:08:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:08:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_8rps)
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671330.443, '33524.54215505385']}]
2026-02-09 22:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 33525 bytes/s ‚Üí 8.4 req/s
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:143 | Current traffic: 8.4 req/s
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=89ms
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=101ms
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=102ms
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:08:50 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:08:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:08:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:08:50 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=102ms, winner_det=1ms)
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:08:50 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.2 req/s, derivative=-0.1397, predicted=0.0 req/s (+600s)
2026-02-09 22:08:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:08:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:08:50 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.2 req/s, derivative=-0.1397, predicted=0.0 req/s (+600s)
2026-02-09 22:08:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:08:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:08:50 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-09 22:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671361.462, '36593.00001436124']}]
2026-02-09 22:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 36593 bytes/s ‚Üí 9.1 req/s
2026-02-09 22:09:21 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.1 req/s | Replicas: 2
2026-02-09 22:09:21 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.1 < 10)
2026-02-09 22:09:21 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:09:21 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671361.768, '36351.35899956289']}]
2026-02-09 22:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 36351 bytes/s ‚Üí 9.1 req/s
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:143 | Current traffic: 9.1 req/s
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=84ms
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=86ms
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=100ms
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:09:21 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:09:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:09:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:09:21 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=104ms, winner_det=3ms)
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:09:21 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=-0.1491, predicted=0.0 req/s (+600s)
2026-02-09 22:09:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:09:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:09:21 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=-0.1491, predicted=0.0 req/s (+600s)
2026-02-09 22:09:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:09:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:09:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-09 22:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671391.754, '41531.794005418975']}]
2026-02-09 22:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 41532 bytes/s ‚Üí 10.4 req/s
2026-02-09 22:09:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.4 req/s | Replicas: 2
2026-02-09 22:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671422.043, '43322.232414337916']}]
2026-02-09 22:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 43322 bytes/s ‚Üí 10.8 req/s
2026-02-09 22:10:21 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.8 req/s | Replicas: 2
2026-02-09 22:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671452.339, '35359.57716333662']}]
2026-02-09 22:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 35360 bytes/s ‚Üí 8.8 req/s
2026-02-09 22:10:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 8.8 req/s | Replicas: 2
2026-02-09 22:10:52 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (8.8 < 10)
2026-02-09 22:10:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:10:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671452.604, '35461.12549865575']}]
2026-02-09 22:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 35461 bytes/s ‚Üí 8.9 req/s
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:143 | Current traffic: 8.9 req/s
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=85ms
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=85ms
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=85ms
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:10:52 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:10:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:10:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:10:52 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:10:52 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.1422, predicted=0.0 req/s (+600s)
2026-02-09 22:10:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:10:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.4, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:10:52 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.4 req/s, derivative=-0.1422, predicted=0.0 req/s (+600s)
2026-02-09 22:10:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-09 22:10:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.4, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:10:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.40s
2026-02-09 22:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671482.614, '46565.83537485251']}]
2026-02-09 22:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 46566 bytes/s ‚Üí 11.6 req/s
2026-02-09 22:11:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.6 req/s | Replicas: 2
2026-02-09 22:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671512.899, '42848.53847005207']}]
2026-02-09 22:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42849 bytes/s ‚Üí 10.7 req/s
2026-02-09 22:11:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.7 req/s | Replicas: 2
2026-02-09 22:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671543.171, '43989.49804947303']}]
2026-02-09 22:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 43989 bytes/s ‚Üí 11.0 req/s
2026-02-09 22:12:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.0 req/s | Replicas: 2
2026-02-09 22:12:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671573.443, '40514.114107324014']}]
2026-02-09 22:12:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 40514 bytes/s ‚Üí 10.1 req/s
2026-02-09 22:12:53 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.1 req/s | Replicas: 2
2026-02-09 22:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671603.712, '48135.37653243298']}]
2026-02-09 22:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 48135 bytes/s ‚Üí 12.0 req/s
2026-02-09 22:13:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 12.0 req/s | Replicas: 2
2026-02-09 22:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671633.981, '43386.79919395555']}]
2026-02-09 22:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 43387 bytes/s ‚Üí 10.8 req/s
2026-02-09 22:13:53 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.8 req/s | Replicas: 2
2026-02-09 22:14:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671664.249, '44764.57591663046']}]
2026-02-09 22:14:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 44765 bytes/s ‚Üí 11.2 req/s
2026-02-09 22:14:24 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.2 req/s | Replicas: 2
2026-02-09 22:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671694.516, '47313.266462897715']}]
2026-02-09 22:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 47313 bytes/s ‚Üí 11.8 req/s
2026-02-09 22:14:54 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.8 req/s | Replicas: 2
2026-02-09 22:15:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671724.799, '42782.7647429061']}]
2026-02-09 22:15:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42783 bytes/s ‚Üí 10.7 req/s
2026-02-09 22:15:24 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.7 req/s | Replicas: 2
2026-02-09 22:15:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671755.087, '43433.934395736236']}]
2026-02-09 22:15:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 43434 bytes/s ‚Üí 10.9 req/s
2026-02-09 22:15:54 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.9 req/s | Replicas: 2
2026-02-09 22:16:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671785.369, '35867.2777682032']}]
2026-02-09 22:16:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 35867 bytes/s ‚Üí 9.0 req/s
2026-02-09 22:16:25 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.0 req/s | Replicas: 2
2026-02-09 22:16:25 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.0 < 10)
2026-02-09 22:16:25 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:16:25 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:16:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671785.64, '35769.14867602176']}]
2026-02-09 22:16:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 35769 bytes/s ‚Üí 8.9 req/s
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:143 | Current traffic: 8.9 req/s
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=85ms
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=84ms
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=85ms
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:16:25 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:16:25 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:16:25 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:16:25 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=86ms, winner_det=2ms)
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:16:25 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:16:25 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=0.0001, predicted=4.5 req/s (+600s)
2026-02-09 22:16:25 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.015, P=-0.08, D=-0.01, output=-0.09, delta=0
2026-02-09 22:16:25 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=4.5 | base=1, PD=+0, constrained=True
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:16:25 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.5 req/s, derivative=0.0001, predicted=4.5 req/s (+600s)
2026-02-09 22:16:25 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.015, P=-0.08, D=0.01, output=-0.06, delta=0
2026-02-09 22:16:25 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.5, predicted=4.5 | base=1, PD=+0, constrained=True
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:16:25 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-09 22:16:55 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671815.643, '44185.46455984053']}]
2026-02-09 22:16:55 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 44185 bytes/s ‚Üí 11.0 req/s
2026-02-09 22:16:55 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.0 req/s | Replicas: 2
2026-02-09 22:17:25 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671845.938, '39272.17221273545']}]
2026-02-09 22:17:25 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 39272 bytes/s ‚Üí 9.8 req/s
2026-02-09 22:17:25 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.8 req/s | Replicas: 2
2026-02-09 22:17:25 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.8 < 10)
2026-02-09 22:17:25 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-09 22:17:25 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:17:25 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:17:25 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_10rps)
2026-02-09 22:17:25 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:17:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671846.262, '39165.25624039939']}]
2026-02-09 22:17:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 39165 bytes/s ‚Üí 9.8 req/s
2026-02-09 22:17:26 | INFO     | __main__:schedule_service:143 | Current traffic: 9.8 req/s
2026-02-09 22:17:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.805, capacity=20, latency=86ms
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=87ms
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=98ms
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:17:26 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:17:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.805)
2026-02-09 22:17:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:17:26 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=101ms, winner_det=0ms)
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.805)
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:17:26 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:17:26 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.9 req/s, derivative=0.0012, predicted=5.6 req/s (+600s)
2026-02-09 22:17:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.63, D=-0.55, output=-1.18, delta=-1
2026-02-09 22:17:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.9, predicted=5.6 | base=1, PD=-1, constrained=True
2026-02-09 22:17:26 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:17:26 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.9 req/s, derivative=0.0012, predicted=5.6 req/s (+600s)
2026-02-09 22:17:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.63, D=0.08, output=-0.55, delta=-1
2026-02-09 22:17:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.9, predicted=5.6 | base=1, PD=-1, constrained=True
2026-02-09 22:17:26 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:17:26 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-09 22:17:56 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671876.224, '42303.818876160425']}]
2026-02-09 22:17:56 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 42304 bytes/s ‚Üí 10.6 req/s
2026-02-09 22:17:56 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 10.6 req/s | Replicas: 2
2026-02-09 22:18:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671906.511, '37733.97885702189']}]
2026-02-09 22:18:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 37734 bytes/s ‚Üí 9.4 req/s
2026-02-09 22:18:26 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.4 req/s | Replicas: 2
2026-02-09 22:18:26 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.4 < 10)
2026-02-09 22:18:26 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-09 22:18:26 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-09 22:18:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770671906.826, '37621.69756984109']}]
2026-02-09 22:18:26 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 37622 bytes/s ‚Üí 9.4 req/s
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:143 | Current traffic: 9.4 req/s
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=86ms
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=104ms
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.788, capacity=20, latency=104ms
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-09 22:18:26 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-09 22:18:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.806)
2026-02-09 22:18:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.788)
2026-02-09 22:18:26 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.806)
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.788)
2026-02-09 22:18:26 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-09 22:18:26 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=0.0006, predicted=5.1 req/s (+600s)
2026-02-09 22:18:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.071, P=-0.35, D=0.27, output=-0.08, delta=0
2026-02-09 22:18:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.7, predicted=5.1 | base=1, PD=+0, constrained=True
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:18:26 | INFO     | src.level2.predictor:predict:153 | Prediction: current=4.7 req/s, derivative=0.0006, predicted=5.1 req/s (+600s)
2026-02-09 22:18:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.071, P=-0.35, D=0.04, output=-0.31, delta=0
2026-02-09 22:18:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=4.7, predicted=5.1 | base=1, PD=+0, constrained=True
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-09 22:18:26 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.46s
2026-02-09 22:18:31 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-09 22:18:41 | INFO     | __main__:run:430 | Stopped
2026-02-10 09:32:17 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 09:32:17 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 09:32:17 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 09:32:17 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 09:32:17 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 09:32:17 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 09:32:18 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 09:32:18 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 09:32:18 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 09:32:18 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:32:18 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:32:18 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 09:32:18 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:32:18 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:32:18 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 09:32:18 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:32:18 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:32:18 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 09:32:18 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:32:18 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:32:18 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 09:32:18 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:32:18 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:32:18 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 09:32:19 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 09:32:19 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 09:32:19 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 09:32:19 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 09:32:19 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 09:32:19 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 09:32:19 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 09:32:19 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 09:32:19 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 09:32:19 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 09:32:19 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 09:32:19 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 09:32:19 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 09:32:19 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 09:32:19 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 09:32:19 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 09:32:19 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 09:32:19 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 09:32:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712339.736, '46916.13227966036']}]
2026-02-10 09:32:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 46916 bytes/s ‚Üí 11.7 req/s
2026-02-10 09:32:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.7 req/s | Replicas: 1
2026-02-10 09:32:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712370.169, '37196.218109828435']}]
2026-02-10 09:32:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 37196 bytes/s ‚Üí 9.3 req/s
2026-02-10 09:32:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.3 req/s | Replicas: 1
2026-02-10 09:32:50 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.3 < 10)
2026-02-10 09:32:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:32:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:32:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712370.459, '37053.05621324589']}]
2026-02-10 09:32:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 37053 bytes/s ‚Üí 9.3 req/s
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:143 | Current traffic: 9.3 req/s
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.859, capacity=20, latency=113ms
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.879, capacity=20, latency=115ms
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.896, capacity=20, latency=117ms
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:32:50 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-10 09:32:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.896)
2026-02-10 09:32:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.879)
2026-02-10 09:32:50 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 119ms (collection=119ms, winner_det=0ms)
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.896)
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.879)
2026-02-10 09:32:50 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:32:50 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-10 09:32:50 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-10 09:32:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-10 09:32:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=4.6, predicted=4.6 | base=1, PD=+0, constrained=True
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:32:50 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:32:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=4.6 req/s, derivative=0.0000, predicted=4.6 req/s (+300s)
2026-02-10 09:32:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-10 09:32:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=4.6, predicted=4.6 | base=1, PD=+0, constrained=True
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:199 | cluster2: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:32:50 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:32:50 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.65s
2026-02-10 09:33:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712400.459, '535651.9759307825']}]
2026-02-10 09:33:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 535652 bytes/s ‚Üí 133.9 req/s
2026-02-10 09:33:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 133.9 req/s | Replicas: 2
2026-02-10 09:33:20 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (133.9 > 30)
2026-02-10 09:33:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:33:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_134rps)
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:33:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712400.732, '532692.3180710737']}]
2026-02-10 09:33:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 532692 bytes/s ‚Üí 133.2 req/s
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:143 | Current traffic: 133.2 req/s
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.870, capacity=20, latency=106ms
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.816, capacity=20, latency=106ms
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.795, capacity=20, latency=104ms
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:33:20 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 3 replicas among 3 clusters
2026-02-10 09:33:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=33.3%, score=0.870)
2026-02-10 09:33:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=33.3%, score=0.816)
2026-02-10 09:33:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=33.3%, score=0.795)
2026-02-10 09:33:20 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 3 replicas across 3 clusters
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=109ms, winner_det=1ms)
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 3 clusters:
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=33.33%, score=0.870)
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=33.33%, score=0.816)
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=33.33%, score=0.795)
2026-02-10 09:33:20 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:33:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=1.3141, predicted=88.8 req/s (+300s)
2026-02-10 09:33:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=-2.50, output=-3.00, delta=-3
2026-02-10 09:33:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=88.8 | base=2, PD=-3, constrained=True
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:33:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=1.3120, predicted=88.8 req/s (+300s)
2026-02-10 09:33:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:33:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=88.8 | base=2, PD=-1, constrained=True
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:33:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=1.3051, predicted=88.8 req/s (+300s)
2026-02-10 09:33:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:33:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=44.4, predicted=88.8 | base=2, PD=-1, constrained=True
2026-02-10 09:33:20 | INFO     | __main__:schedule_service:199 | cluster3: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:33:21 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:33:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-10 09:33:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712430.736, '627476.3378204319']}]
2026-02-10 09:33:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 627476 bytes/s ‚Üí 156.9 req/s
2026-02-10 09:33:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 156.9 req/s | Replicas: 2
2026-02-10 09:33:50 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (156.9 > 30)
2026-02-10 09:33:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:33:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:33:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:33:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_157rps)
2026-02-10 09:33:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:33:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712431.015, '623410.3004853498']}]
2026-02-10 09:33:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 623410 bytes/s ‚Üí 155.9 req/s
2026-02-10 09:33:50 | INFO     | __main__:schedule_service:143 | Current traffic: 155.9 req/s
2026-02-10 09:33:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-10 09:33:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-10 09:33:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.829, capacity=20, latency=108ms
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.812, capacity=20, latency=107ms
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.791, capacity=20, latency=106ms
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:33:51 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 3 replicas among 3 clusters
2026-02-10 09:33:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=33.3%, score=0.829)
2026-02-10 09:33:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=33.3%, score=0.812)
2026-02-10 09:33:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=33.3%, score=0.791)
2026-02-10 09:33:51 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 3 replicas across 3 clusters
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=111ms, winner_det=0ms)
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 3 clusters:
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=33.33%, score=0.829)
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=33.33%, score=0.812)
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=33.33%, score=0.791)
2026-02-10 09:33:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:33:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.7815, predicted=103.9 req/s (+300s)
2026-02-10 09:33:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:33:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=52.0, predicted=103.9 | base=2, PD=-1, constrained=True
2026-02-10 09:33:51 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:33:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.7808, predicted=103.9 req/s (+300s)
2026-02-10 09:33:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:33:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=52.0, predicted=103.9 | base=2, PD=-1, constrained=True
2026-02-10 09:33:51 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:33:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.7803, predicted=103.9 req/s (+300s)
2026-02-10 09:33:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:33:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=52.0, predicted=103.9 | base=2, PD=-1, constrained=True
2026-02-10 09:33:51 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:33:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-10 09:34:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712461.006, '898202.9187163195']}]
2026-02-10 09:34:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898203 bytes/s ‚Üí 224.6 req/s
2026-02-10 09:34:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.6 req/s | Replicas: 2
2026-02-10 09:34:20 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.6 > 30)
2026-02-10 09:34:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:34:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:34:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:34:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_225rps)
2026-02-10 09:34:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:34:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712461.339, '901344.4758184185']}]
2026-02-10 09:34:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 901344 bytes/s ‚Üí 225.3 req/s
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:143 | Current traffic: 225.3 req/s
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=121ms
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=121ms
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=121ms
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:34:21 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:34:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:34:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.783)
2026-02-10 09:34:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 09:34:21 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 123ms (collection=123ms, winner_det=0ms)
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.783)
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 09:34:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:34:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.1 req/s, derivative=0.9409, predicted=174.8 req/s (+300s)
2026-02-10 09:34:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.484, P=-0.97, D=0.08, output=-0.89, delta=-1
2026-02-10 09:34:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=90.1, predicted=174.8 | base=4, PD=-1, constrained=False
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:34:21 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:34:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.1 req/s, derivative=0.9400, predicted=174.7 req/s (+300s)
2026-02-10 09:34:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.484, P=-0.97, D=0.41, output=-0.56, delta=-1
2026-02-10 09:34:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=90.1, predicted=174.7 | base=4, PD=-1, constrained=False
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:34:21 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-10 09:34:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=0.4441, predicted=85.0 req/s (+300s)
2026-02-10 09:34:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.470, P=-0.94, D=23.08, output=3.00, delta=3
2026-02-10 09:34:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=45.1, predicted=85.0 | base=2, PD=+3, constrained=False
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 5 (Œî=+3)
2026-02-10 09:34:21 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-10 09:34:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.66s
2026-02-10 09:34:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712491.299, '730770.5030479674']}]
2026-02-10 09:34:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 730771 bytes/s ‚Üí 182.7 req/s
2026-02-10 09:34:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 182.7 req/s | Replicas: 3
2026-02-10 09:34:51 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (182.7 > 30)
2026-02-10 09:34:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:34:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_183rps)
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:34:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712491.577, '726769.6016115852']}]
2026-02-10 09:34:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 726770 bytes/s ‚Üí 181.7 req/s
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:143 | Current traffic: 181.7 req/s
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.734, capacity=20, latency=85ms
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=86ms
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.754, capacity=20, latency=86ms
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:34:51 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:34:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.807)
2026-02-10 09:34:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.754)
2026-02-10 09:34:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.734)
2026-02-10 09:34:51 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.807)
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.754)
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.734)
2026-02-10 09:34:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:34:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.4 req/s, derivative=0.3369, predicted=75.7 req/s (+300s)
2026-02-10 09:34:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.400, P=-0.80, D=0.35, output=-0.45, delta=0
2026-02-10 09:34:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=45.4, predicted=75.7 | base=2, PD=+0, constrained=False
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:34:51 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:34:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.4 req/s, derivative=0.3367, predicted=75.7 req/s (+300s)
2026-02-10 09:34:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.400, P=-0.80, D=0.30, output=-0.50, delta=-1
2026-02-10 09:34:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=45.4, predicted=75.7 | base=2, PD=-1, constrained=True
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:34:51 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:34:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.8 req/s, derivative=0.7103, predicted=154.8 req/s (+300s)
2026-02-10 09:34:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.413, P=-0.83, D=-9.21, output=-3.00, delta=-3
2026-02-10 09:34:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=90.8, predicted=154.8 | base=4, PD=-3, constrained=True
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 2 (Œî=-3)
2026-02-10 09:34:51 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:34:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.71s
2026-02-10 09:35:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712521.579, '670747.2439554882']}]
2026-02-10 09:35:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 670747 bytes/s ‚Üí 167.7 req/s
2026-02-10 09:35:21 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 167.7 req/s | Replicas: 2
2026-02-10 09:35:21 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (167.7 > 30)
2026-02-10 09:35:21 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:35:21 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_168rps)
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:35:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712521.857, '666680.027065381']}]
2026-02-10 09:35:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 666680 bytes/s ‚Üí 166.7 req/s
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:143 | Current traffic: 166.7 req/s
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.719, capacity=20, latency=88ms
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.705, capacity=20, latency=90ms
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.723, capacity=20, latency=91ms
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:35:21 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:35:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.723)
2026-02-10 09:35:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.719)
2026-02-10 09:35:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.705)
2026-02-10 09:35:21 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=92ms, winner_det=1ms)
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.723)
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.719)
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.705)
2026-02-10 09:35:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:35:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=41.7 req/s, derivative=0.2447, predicted=63.7 req/s (+300s)
2026-02-10 09:35:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.346, P=-0.69, D=0.34, output=-0.36, delta=0
2026-02-10 09:35:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=41.7, predicted=63.7 | base=1, PD=+0, constrained=True
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:35:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=41.7 req/s, derivative=0.2446, predicted=63.7 req/s (+300s)
2026-02-10 09:35:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.346, P=-0.69, D=0.22, output=-0.47, delta=0
2026-02-10 09:35:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=41.7, predicted=63.7 | base=1, PD=+0, constrained=True
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:35:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=83.3 req/s, derivative=0.5196, predicted=130.1 req/s (+300s)
2026-02-10 09:35:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.359, P=-0.72, D=-41.09, output=-3.00, delta=-3
2026-02-10 09:35:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=83.3, predicted=130.1 | base=3, PD=-3, constrained=True
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:35:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-10 09:35:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712551.866, '865446.2707694592']}]
2026-02-10 09:35:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 865446 bytes/s ‚Üí 216.4 req/s
2026-02-10 09:35:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 216.4 req/s | Replicas: 2
2026-02-10 09:35:51 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (216.4 > 30)
2026-02-10 09:35:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:35:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:35:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:35:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_216rps)
2026-02-10 09:35:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:35:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712552.171, '865444.415495804']}]
2026-02-10 09:35:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 865444 bytes/s ‚Üí 216.4 req/s
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:143 | Current traffic: 216.4 req/s
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=88ms
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.801, capacity=20, latency=89ms
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.784, capacity=20, latency=101ms
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:35:52 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:35:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.801)
2026-02-10 09:35:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.784)
2026-02-10 09:35:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.764)
2026-02-10 09:35:52 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.801)
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.784)
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.764)
2026-02-10 09:35:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:35:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=0.4508, predicted=127.1 req/s (+300s)
2026-02-10 09:35:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.319, P=-0.64, D=0.20, output=-0.44, delta=0
2026-02-10 09:35:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=86.5, predicted=127.1 | base=3, PD=+0, constrained=False
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:35:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:35:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=0.4506, predicted=127.1 req/s (+300s)
2026-02-10 09:35:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.319, P=-0.64, D=0.18, output=-0.46, delta=0
2026-02-10 09:35:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=86.5, predicted=127.1 | base=3, PD=+0, constrained=False
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:35:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-10 09:35:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=0.2125, predicted=62.4 req/s (+300s)
2026-02-10 09:35:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.306, P=-0.61, D=21.34, output=3.00, delta=3
2026-02-10 09:35:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.3, predicted=62.4 | base=1, PD=+3, constrained=False
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:35:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:35:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.61s
2026-02-10 09:36:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712582.168, '881865.0257807289']}]
2026-02-10 09:36:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 881865 bytes/s ‚Üí 220.5 req/s
2026-02-10 09:36:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 220.5 req/s | Replicas: 3
2026-02-10 09:36:22 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (220.5 > 30)
2026-02-10 09:36:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:36:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_220rps)
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:36:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712582.462, '881867.995243283']}]
2026-02-10 09:36:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 881868 bytes/s ‚Üí 220.5 req/s
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:143 | Current traffic: 220.5 req/s
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=84ms
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=86ms
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.731, capacity=20, latency=97ms
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:36:22 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:36:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-10 09:36:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.731)
2026-02-10 09:36:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-10 09:36:22 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=100ms, winner_det=1ms)
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.731)
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-10 09:36:22 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:36:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.2 req/s, derivative=0.3942, predicted=123.7 req/s (+300s)
2026-02-10 09:36:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.287, P=-0.57, D=0.10, output=-0.48, delta=0
2026-02-10 09:36:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=88.2, predicted=123.7 | base=3, PD=+0, constrained=False
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:36:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.2 req/s, derivative=0.3941, predicted=123.7 req/s (+300s)
2026-02-10 09:36:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.287, P=-0.57, D=0.14, output=-0.43, delta=0
2026-02-10 09:36:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=88.2, predicted=123.7 | base=3, PD=+0, constrained=False
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:36:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=0.1861, predicted=60.8 req/s (+300s)
2026-02-10 09:36:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.275, P=-0.55, D=39.37, output=3.00, delta=3
2026-02-10 09:36:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.1, predicted=60.8 | base=1, PD=+3, constrained=False
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:36:22 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-10 09:36:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712612.459, '624095.6591287345']}]
2026-02-10 09:36:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 624096 bytes/s ‚Üí 156.0 req/s
2026-02-10 09:36:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 156.0 req/s | Replicas: 3
2026-02-10 09:36:52 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (156.0 > 30)
2026-02-10 09:36:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:36:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_156rps)
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:36:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712612.735, '899818.7172402715']}]
2026-02-10 09:36:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 899819 bytes/s ‚Üí 225.0 req/s
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:143 | Current traffic: 225.0 req/s
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.713, capacity=20, latency=84ms
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.731, capacity=20, latency=86ms
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.693, capacity=20, latency=85ms
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:36:52 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:36:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.731)
2026-02-10 09:36:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.713)
2026-02-10 09:36:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.693)
2026-02-10 09:36:52 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.731)
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.713)
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.693)
2026-02-10 09:36:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:36:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.0 req/s, derivative=0.3523, predicted=121.7 req/s (+300s)
2026-02-10 09:36:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.261, P=-0.52, D=0.07, output=-0.45, delta=0
2026-02-10 09:36:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=90.0, predicted=121.7 | base=3, PD=+0, constrained=False
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:36:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.0 req/s, derivative=0.3523, predicted=121.7 req/s (+300s)
2026-02-10 09:36:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.261, P=-0.52, D=0.12, output=-0.40, delta=0
2026-02-10 09:36:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=90.0, predicted=121.7 | base=3, PD=+0, constrained=False
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:36:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.0 req/s, derivative=0.1666, predicted=60.0 req/s (+300s)
2026-02-10 09:36:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.250, P=-0.50, D=38.30, output=3.00, delta=3
2026-02-10 09:36:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.0, predicted=60.0 | base=1, PD=+3, constrained=False
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:36:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-10 09:37:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712642.759, '786783.5510981908']}]
2026-02-10 09:37:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 786784 bytes/s ‚Üí 196.7 req/s
2026-02-10 09:37:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 196.7 req/s | Replicas: 3
2026-02-10 09:37:22 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (196.7 > 30)
2026-02-10 09:37:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:37:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:37:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:37:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_197rps)
2026-02-10 09:37:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:37:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712643.03, '782718.6345140137']}]
2026-02-10 09:37:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 782719 bytes/s ‚Üí 195.7 req/s
2026-02-10 09:37:22 | INFO     | __main__:schedule_service:143 | Current traffic: 195.7 req/s
2026-02-10 09:37:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:37:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:37:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.735, capacity=20, latency=87ms
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.717, capacity=20, latency=87ms
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.697, capacity=20, latency=102ms
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:37:23 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:37:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.735)
2026-02-10 09:37:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.717)
2026-02-10 09:37:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.697)
2026-02-10 09:37:23 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.735)
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.717)
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.697)
2026-02-10 09:37:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:37:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=48.9 req/s, derivative=0.1625, predicted=63.5 req/s (+300s)
2026-02-10 09:37:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.230, P=-0.46, D=0.10, output=-0.36, delta=0
2026-02-10 09:37:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=48.9, predicted=63.5 | base=1, PD=+0, constrained=True
2026-02-10 09:37:23 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:37:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:37:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=48.9 req/s, derivative=0.1625, predicted=63.5 req/s (+300s)
2026-02-10 09:37:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.230, P=-0.46, D=0.10, output=-0.36, delta=0
2026-02-10 09:37:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=48.9, predicted=63.5 | base=1, PD=+0, constrained=True
2026-02-10 09:37:23 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:37:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:37:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=97.8 req/s, derivative=0.3418, predicted=128.6 req/s (+300s)
2026-02-10 09:37:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.239, P=-0.48, D=-15.80, output=-3.00, delta=-3
2026-02-10 09:37:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=97.8, predicted=128.6 | base=3, PD=-3, constrained=True
2026-02-10 09:37:23 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:37:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:37:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.59s
2026-02-10 09:37:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712673.04, '914556.940186608']}]
2026-02-10 09:37:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 914557 bytes/s ‚Üí 228.6 req/s
2026-02-10 09:37:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 228.6 req/s | Replicas: 2
2026-02-10 09:37:52 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (228.6 > 30)
2026-02-10 09:37:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:37:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:37:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:37:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_229rps)
2026-02-10 09:37:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:37:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712673.31, '914485.2872414835']}]
2026-02-10 09:37:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 914485 bytes/s ‚Üí 228.6 req/s
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:143 | Current traffic: 228.6 req/s
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.782, capacity=20, latency=91ms
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.709, capacity=20, latency=88ms
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.713, capacity=20, latency=91ms
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:37:53 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:37:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.782)
2026-02-10 09:37:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.713)
2026-02-10 09:37:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.709)
2026-02-10 09:37:53 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=92ms, winner_det=1ms)
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.782)
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.713)
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.709)
2026-02-10 09:37:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:37:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.4 req/s, derivative=0.2869, predicted=117.3 req/s (+300s)
2026-02-10 09:37:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.220, P=-0.44, D=0.09, output=-0.35, delta=0
2026-02-10 09:37:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=91.4, predicted=117.3 | base=3, PD=+0, constrained=False
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:37:53 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:37:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.4 req/s, derivative=0.2868, predicted=117.3 req/s (+300s)
2026-02-10 09:37:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.220, P=-0.44, D=0.09, output=-0.36, delta=0
2026-02-10 09:37:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=91.4, predicted=117.3 | base=3, PD=+0, constrained=False
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:37:53 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-10 09:37:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.7 req/s, derivative=0.1357, predicted=57.9 req/s (+300s)
2026-02-10 09:37:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.211, P=-0.42, D=16.23, output=3.00, delta=3
2026-02-10 09:37:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.7, predicted=57.9 | base=1, PD=+3, constrained=False
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:37:53 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:37:53 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-10 09:38:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712703.344, '904217.383525633']}]
2026-02-10 09:38:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904217 bytes/s ‚Üí 226.1 req/s
2026-02-10 09:38:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 226.1 req/s | Replicas: 3
2026-02-10 09:38:23 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (226.1 > 30)
2026-02-10 09:38:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:38:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:38:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712703.617, '904203.873409944']}]
2026-02-10 09:38:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904204 bytes/s ‚Üí 226.1 req/s
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:143 | Current traffic: 226.1 req/s
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.747, capacity=20, latency=88ms
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.745, capacity=20, latency=88ms
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=104ms
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:38:23 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:38:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.747)
2026-02-10 09:38:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:38:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.745)
2026-02-10 09:38:23 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=107ms, winner_det=1ms)
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.745)
2026-02-10 09:38:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:38:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.4 req/s, derivative=0.1521, predicted=104.1 req/s (+300s)
2026-02-10 09:38:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=0.40, output=0.13, delta=0
2026-02-10 09:38:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=90.4, predicted=104.1 | base=2, PD=+0, constrained=False
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:38:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:38:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.4 req/s, derivative=0.1520, predicted=104.1 req/s (+300s)
2026-02-10 09:38:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=0.06, output=-0.21, delta=0
2026-02-10 09:38:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=90.4, predicted=104.1 | base=2, PD=+0, constrained=False
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:38:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:38:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.2 req/s, derivative=0.0027, predicted=45.5 req/s (+300s)
2026-02-10 09:38:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.005, P=-0.01, D=216.55, output=3.00, delta=3
2026-02-10 09:38:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.2, predicted=45.5 | base=1, PD=+3, constrained=False
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:38:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-10 09:38:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712733.62, '775602.8250495598']}]
2026-02-10 09:38:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 775603 bytes/s ‚Üí 193.9 req/s
2026-02-10 09:38:53 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 193.9 req/s | Replicas: 2
2026-02-10 09:38:53 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (193.9 > 30)
2026-02-10 09:38:53 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:38:53 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_194rps)
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:38:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712733.956, '894842.4461789663']}]
2026-02-10 09:38:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 894842 bytes/s ‚Üí 223.7 req/s
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:143 | Current traffic: 223.7 req/s
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.710, capacity=20, latency=89ms
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.713, capacity=20, latency=91ms
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.748, capacity=20, latency=100ms
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:38:53 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:38:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.748)
2026-02-10 09:38:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.713)
2026-02-10 09:38:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.710)
2026-02-10 09:38:53 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=102ms, winner_det=1ms)
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.748)
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.713)
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.710)
2026-02-10 09:38:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:38:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.5 req/s, derivative=0.1239, predicted=100.6 req/s (+300s)
2026-02-10 09:38:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.111, P=-0.22, D=-0.52, output=-0.75, delta=-1
2026-02-10 09:38:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.5, predicted=100.6 | base=2, PD=-1, constrained=True
2026-02-10 09:38:53 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:38:54 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.5 req/s, derivative=0.1239, predicted=100.6 req/s (+300s)
2026-02-10 09:38:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.111, P=-0.22, D=0.05, output=-0.17, delta=0
2026-02-10 09:38:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.5, predicted=100.6 | base=2, PD=+0, constrained=False
2026-02-10 09:38:54 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:38:54 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.7 req/s, derivative=-0.0238, predicted=39.7 req/s (+300s)
2026-02-10 09:38:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.126, P=0.25, D=753.80, output=3.00, delta=3
2026-02-10 09:38:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.7, predicted=39.7 | base=1, PD=+3, constrained=False
2026-02-10 09:38:54 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:38:54 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 09:39:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712763.897, '877618.4083912099']}]
2026-02-10 09:39:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 877618 bytes/s ‚Üí 219.4 req/s
2026-02-10 09:39:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 219.4 req/s | Replicas: 2
2026-02-10 09:39:23 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (219.4 > 30)
2026-02-10 09:39:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:39:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:39:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:39:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_219rps)
2026-02-10 09:39:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:39:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712764.203, '877893.8223667409']}]
2026-02-10 09:39:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 877894 bytes/s ‚Üí 219.5 req/s
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:143 | Current traffic: 219.5 req/s
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=105ms
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.731, capacity=20, latency=106ms
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=106ms
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:39:24 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:39:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 09:39:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.731)
2026-02-10 09:39:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-10 09:39:24 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=108ms, winner_det=0ms)
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.731)
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-10 09:39:24 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:39:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.8 req/s, derivative=0.1410, predicted=100.5 req/s (+300s)
2026-02-10 09:39:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=-1.24, output=-1.50, delta=-1
2026-02-10 09:39:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.8, predicted=100.5 | base=2, PD=-1, constrained=True
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:39:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.8 req/s, derivative=0.1410, predicted=100.5 req/s (+300s)
2026-02-10 09:39:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.06, output=-0.20, delta=0
2026-02-10 09:39:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.8, predicted=100.5 | base=2, PD=+0, constrained=False
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:39:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.9 req/s, derivative=-0.0039, predicted=43.1 req/s (+300s)
2026-02-10 09:39:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.019, P=0.04, D=500.44, output=3.00, delta=3
2026-02-10 09:39:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=43.9, predicted=43.1 | base=1, PD=+3, constrained=False
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:39:24 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.72s
2026-02-10 09:39:41 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 09:39:51 | INFO     | __main__:run:430 | Stopped
2026-02-10 09:40:31 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 09:40:31 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 09:40:32 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 09:40:32 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 09:40:32 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 09:40:32 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 09:40:32 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 09:40:32 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 09:40:32 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 09:40:32 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:40:32 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:40:32 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 09:40:32 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:40:32 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:40:32 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 09:40:32 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:40:32 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:40:32 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 09:40:32 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:40:32 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:40:32 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 09:40:32 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 09:40:32 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 09:40:32 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 09:40:33 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 09:40:33 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 09:40:33 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 09:40:33 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 09:40:33 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 09:40:33 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 09:40:33 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 09:40:33 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 09:40:33 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 09:40:33 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 09:40:33 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 09:40:33 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 09:40:33 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 09:40:33 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 09:40:33 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 09:40:33 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 09:40:33 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 09:40:33 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 09:40:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712833.814, '46461.63078134009']}]
2026-02-10 09:40:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 46462 bytes/s ‚Üí 11.6 req/s
2026-02-10 09:40:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 11.6 req/s | Replicas: 1
2026-02-10 09:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712864.196, '161736.65853839988']}]
2026-02-10 09:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 161737 bytes/s ‚Üí 40.4 req/s
2026-02-10 09:41:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 40.4 req/s | Replicas: 1
2026-02-10 09:41:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (40.4 > 30)
2026-02-10 09:41:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:41:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_40rps)
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712864.488, '162027.707720629']}]
2026-02-10 09:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 162028 bytes/s ‚Üí 40.5 req/s
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:143 | Current traffic: 40.5 req/s
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.889, capacity=20, latency=89ms
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.871, capacity=20, latency=89ms
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.796, capacity=20, latency=86ms
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:41:04 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-10 09:41:04 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.889)
2026-02-10 09:41:04 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.871)
2026-02-10 09:41:04 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.889)
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.871)
2026-02-10 09:41:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:41:04 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-10 09:41:04 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-10 09:41:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-10 09:41:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=20.3, predicted=20.3 | base=1, PD=+0, constrained=True
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:41:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:41:04 | INFO     | src.level2.predictor:predict:166 | Prediction: current=20.3 req/s, derivative=0.0000, predicted=20.3 req/s (+300s)
2026-02-10 09:41:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-10 09:41:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=20.3, predicted=20.3 | base=1, PD=+0, constrained=True
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:199 | cluster2: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:41:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:41:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-10 09:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712894.475, '664022.9503257266']}]
2026-02-10 09:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 664023 bytes/s ‚Üí 166.0 req/s
2026-02-10 09:41:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 166.0 req/s | Replicas: 2
2026-02-10 09:41:34 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (166.0 > 30)
2026-02-10 09:41:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:41:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_166rps)
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712894.759, '664028.9522984684']}]
2026-02-10 09:41:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 664029 bytes/s ‚Üí 166.0 req/s
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:143 | Current traffic: 166.0 req/s
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.864, capacity=20, latency=88ms
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.827, capacity=20, latency=90ms
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.810, capacity=20, latency=91ms
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:41:34 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 3 replicas among 3 clusters
2026-02-10 09:41:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=33.3%, score=0.864)
2026-02-10 09:41:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=33.3%, score=0.827)
2026-02-10 09:41:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=33.3%, score=0.810)
2026-02-10 09:41:34 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 3 replicas across 3 clusters
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=92ms, winner_det=1ms)
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 3 clusters:
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=33.33%, score=0.864)
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=33.33%, score=0.827)
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=33.33%, score=0.810)
2026-02-10 09:41:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:41:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.3 req/s, derivative=1.1591, predicted=110.7 req/s (+300s)
2026-02-10 09:41:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=-2.49, output=-3.00, delta=-3
2026-02-10 09:41:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=55.3, predicted=110.7 | base=3, PD=-3, constrained=True
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:41:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.3 req/s, derivative=1.1543, predicted=110.7 req/s (+300s)
2026-02-10 09:41:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:41:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=55.3, predicted=110.7 | base=3, PD=-1, constrained=False
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:199 | cluster3: 1 ‚Üí 2 (Œî=+1)
2026-02-10 09:41:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:41:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.3 req/s, derivative=1.1510, predicted=110.7 req/s (+300s)
2026-02-10 09:41:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=0.00, output=-1.00, delta=-1
2026-02-10 09:41:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=55.3, predicted=110.7 | base=3, PD=-1, constrained=False
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:41:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-10 09:42:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712924.751, '714687.9553653674']}]
2026-02-10 09:42:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 714688 bytes/s ‚Üí 178.7 req/s
2026-02-10 09:42:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 178.7 req/s | Replicas: 2
2026-02-10 09:42:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (178.7 > 30)
2026-02-10 09:42:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:42:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:42:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:42:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_179rps)
2026-02-10 09:42:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:42:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712925.038, '710546.3843940482']}]
2026-02-10 09:42:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 710546 bytes/s ‚Üí 177.6 req/s
2026-02-10 09:42:04 | INFO     | __main__:schedule_service:143 | Current traffic: 177.6 req/s
2026-02-10 09:42:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:42:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:42:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=87ms
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.790, capacity=20, latency=88ms
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.788, capacity=20, latency=88ms
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:42:05 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:42:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.807)
2026-02-10 09:42:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.790)
2026-02-10 09:42:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.788)
2026-02-10 09:42:05 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.807)
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.790)
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.788)
2026-02-10 09:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:42:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=0.3989, predicted=80.3 req/s (+300s)
2026-02-10 09:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.447, P=-0.89, D=0.26, output=-0.63, delta=-1
2026-02-10 09:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=80.3 | base=2, PD=-1, constrained=True
2026-02-10 09:42:05 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:42:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=0.3986, predicted=80.3 req/s (+300s)
2026-02-10 09:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.447, P=-0.89, D=0.61, output=-0.28, delta=0
2026-02-10 09:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=80.3 | base=2, PD=+0, constrained=False
2026-02-10 09:42:05 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:42:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.8 req/s, derivative=1.1305, predicted=177.6 req/s (+300s)
2026-02-10 09:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.500, P=-1.00, D=-178.67, output=-3.00, delta=-3
2026-02-10 09:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=88.8, predicted=177.6 | base=4, PD=-3, constrained=True
2026-02-10 09:42:05 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:42:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-10 09:42:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712955.038, '892451.6458800803']}]
2026-02-10 09:42:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 892452 bytes/s ‚Üí 223.1 req/s
2026-02-10 09:42:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.1 req/s | Replicas: 2
2026-02-10 09:42:34 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.1 > 30)
2026-02-10 09:42:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:42:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:42:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:42:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-10 09:42:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712955.314, '892439.3538104348']}]
2026-02-10 09:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 892439 bytes/s ‚Üí 223.1 req/s
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:143 | Current traffic: 223.1 req/s
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=85ms
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=87ms
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=88ms
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:42:35 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:42:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:42:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.783)
2026-02-10 09:42:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 09:42:35 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.783)
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 09:42:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:42:35 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.2 req/s, derivative=0.7597, predicted=157.6 req/s (+300s)
2026-02-10 09:42:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.434, P=-0.87, D=0.33, output=-0.54, delta=-1
2026-02-10 09:42:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=89.2, predicted=157.6 | base=4, PD=-1, constrained=False
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:42:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:42:35 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.2 req/s, derivative=0.7590, predicted=157.6 req/s (+300s)
2026-02-10 09:42:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.434, P=-0.87, D=0.41, output=-0.46, delta=0
2026-02-10 09:42:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=89.2, predicted=157.6 | base=4, PD=+0, constrained=False
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:42:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 09:42:35 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.6 req/s, derivative=0.2678, predicted=68.7 req/s (+300s)
2026-02-10 09:42:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.351, P=-0.70, D=148.54, output=3.00, delta=3
2026-02-10 09:42:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 5 (Œî=+3) | traffic: current=44.6, predicted=68.7 | base=2, PD=+3, constrained=False
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 5 (Œî=+3)
2026-02-10 09:42:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-10 09:42:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-10 09:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712985.315, '801756.3956261161']}]
2026-02-10 09:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 801756 bytes/s ‚Üí 200.4 req/s
2026-02-10 09:43:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 200.4 req/s | Replicas: 3
2026-02-10 09:43:05 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (200.4 > 30)
2026-02-10 09:43:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:43:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_200rps)
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770712985.581, '799712.2535813039']}]
2026-02-10 09:43:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 799712 bytes/s ‚Üí 199.9 req/s
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:143 | Current traffic: 199.9 req/s
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.751, capacity=20, latency=88ms
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.766, capacity=20, latency=89ms
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.684, capacity=20, latency=98ms
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:43:05 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:43:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.766)
2026-02-10 09:43:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.751)
2026-02-10 09:43:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.684)
2026-02-10 09:43:05 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=100ms, winner_det=1ms)
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.766)
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.751)
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.684)
2026-02-10 09:43:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:43:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.0 req/s, derivative=0.2455, predicted=72.1 req/s (+300s)
2026-02-10 09:43:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.307, P=-0.61, D=0.22, output=-0.39, delta=0
2026-02-10 09:43:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=50.0, predicted=72.1 | base=2, PD=+0, constrained=False
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 2 (Œî=-3)
2026-02-10 09:43:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:43:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.0 req/s, derivative=0.2453, predicted=72.1 req/s (+300s)
2026-02-10 09:43:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.306, P=-0.61, D=0.26, output=-0.35, delta=0
2026-02-10 09:43:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=50.0, predicted=72.1 | base=2, PD=+0, constrained=False
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:43:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:43:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=100.0 req/s, derivative=0.6572, predicted=159.1 req/s (+300s)
2026-02-10 09:43:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.372, P=-0.74, D=-98.14, output=-3.00, delta=-3
2026-02-10 09:43:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=100.0, predicted=159.1 | base=4, PD=-3, constrained=True
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:43:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:43:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-10 09:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713015.605, '870921.5052350048']}]
2026-02-10 09:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 870922 bytes/s ‚Üí 217.7 req/s
2026-02-10 09:43:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 217.7 req/s | Replicas: 2
2026-02-10 09:43:35 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (217.7 > 30)
2026-02-10 09:43:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:43:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_218rps)
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713015.9, '870879.933872273']}]
2026-02-10 09:43:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 870880 bytes/s ‚Üí 217.7 req/s
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:143 | Current traffic: 217.7 req/s
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.661, capacity=20, latency=84ms
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.749, capacity=20, latency=87ms
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.731, capacity=20, latency=117ms
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:43:35 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:43:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.749)
2026-02-10 09:43:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.731)
2026-02-10 09:43:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.661)
2026-02-10 09:43:35 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 120ms (collection=119ms, winner_det=1ms)
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.749)
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.731)
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.661)
2026-02-10 09:43:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:43:35 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.1 req/s, derivative=0.4413, predicted=126.8 req/s (+300s)
2026-02-10 09:43:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.313, P=-0.63, D=0.29, output=-0.34, delta=0
2026-02-10 09:43:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=87.1, predicted=126.8 | base=3, PD=+0, constrained=False
2026-02-10 09:43:35 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:43:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:43:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.1 req/s, derivative=0.4411, predicted=126.8 req/s (+300s)
2026-02-10 09:43:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.313, P=-0.63, D=0.21, output=-0.41, delta=0
2026-02-10 09:43:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=87.1, predicted=126.8 | base=3, PD=+0, constrained=False
2026-02-10 09:43:36 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:43:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-10 09:43:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.5 req/s, derivative=0.1536, predicted=57.4 req/s (+300s)
2026-02-10 09:43:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.241, P=-0.48, D=118.35, output=3.00, delta=3
2026-02-10 09:43:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.5, predicted=57.4 | base=1, PD=+3, constrained=False
2026-02-10 09:43:36 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:43:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:43:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-10 09:44:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713045.891, '747361.2049744895']}]
2026-02-10 09:44:05 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 747361 bytes/s ‚Üí 186.8 req/s
2026-02-10 09:44:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 186.8 req/s | Replicas: 3
2026-02-10 09:44:05 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (186.8 > 30)
2026-02-10 09:44:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:44:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:44:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:44:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_187rps)
2026-02-10 09:44:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713046.159, '863879.9816371277']}]
2026-02-10 09:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 863880 bytes/s ‚Üí 216.0 req/s
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:143 | Current traffic: 216.0 req/s
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.714, capacity=20, latency=87ms
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=87ms
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=85ms
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:44:06 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:44:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 09:44:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.764)
2026-02-10 09:44:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.714)
2026-02-10 09:44:06 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.764)
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.714)
2026-02-10 09:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:44:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.4 req/s, derivative=0.3641, predicted=119.2 req/s (+300s)
2026-02-10 09:44:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.275, P=-0.55, D=-0.17, output=-0.72, delta=-1
2026-02-10 09:44:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=86.4, predicted=119.2 | base=3, PD=-1, constrained=False
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:44:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:44:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.4 req/s, derivative=0.3639, predicted=119.1 req/s (+300s)
2026-02-10 09:44:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.275, P=-0.55, D=0.16, output=-0.39, delta=0
2026-02-10 09:44:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=86.4, predicted=119.1 | base=3, PD=+0, constrained=False
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 3 (Œî=-1)
2026-02-10 09:44:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 3 replicas
2026-02-10 09:44:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.2 req/s, derivative=0.1262, predicted=54.5 req/s (+300s)
2026-02-10 09:44:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.208, P=-0.42, D=121.78, output=3.00, delta=3
2026-02-10 09:44:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=43.2, predicted=54.5 | base=1, PD=+3, constrained=False
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 4 (Œî=+1)
2026-02-10 09:44:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 09:44:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 09:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713076.163, '844019.342138262']}]
2026-02-10 09:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 844019 bytes/s ‚Üí 211.0 req/s
2026-02-10 09:44:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 211.0 req/s | Replicas: 2
2026-02-10 09:44:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (211.0 > 30)
2026-02-10 09:44:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:44:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_211rps)
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713076.451, '843943.5984304568']}]
2026-02-10 09:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 843944 bytes/s ‚Üí 211.0 req/s
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:143 | Current traffic: 211.0 req/s
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.750, capacity=20, latency=93ms
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.695, capacity=20, latency=96ms
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.715, capacity=20, latency=114ms
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:44:36 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:44:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.750)
2026-02-10 09:44:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.715)
2026-02-10 09:44:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.695)
2026-02-10 09:44:36 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 116ms (collection=116ms, winner_det=0ms)
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.750)
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.715)
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.695)
2026-02-10 09:44:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:44:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.4 req/s, derivative=0.3026, predicted=111.6 req/s (+300s)
2026-02-10 09:44:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.244, P=-0.49, D=-0.18, output=-0.67, delta=-1
2026-02-10 09:44:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.4, predicted=111.6 | base=3, PD=-1, constrained=False
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:44:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.4 req/s, derivative=0.3025, predicted=111.6 req/s (+300s)
2026-02-10 09:44:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.244, P=-0.49, D=0.13, output=-0.36, delta=0
2026-02-10 09:44:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=84.4, predicted=111.6 | base=3, PD=+0, constrained=False
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 3 (Œî=-1)
2026-02-10 09:44:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-10 09:44:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.2 req/s, derivative=0.1034, predicted=51.5 req/s (+300s)
2026-02-10 09:44:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.181, P=-0.36, D=85.08, output=3.00, delta=3
2026-02-10 09:44:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=42.2, predicted=51.5 | base=1, PD=+3, constrained=False
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:199 | cluster3: 3 ‚Üí 4 (Œî=+1)
2026-02-10 09:44:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:44:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-10 09:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713106.451, '869923.6961182527']}]
2026-02-10 09:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 869924 bytes/s ‚Üí 217.5 req/s
2026-02-10 09:45:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 217.5 req/s | Replicas: 2
2026-02-10 09:45:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (217.5 > 30)
2026-02-10 09:45:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:45:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_217rps)
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713106.838, '869858.3787012196']}]
2026-02-10 09:45:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 869858 bytes/s ‚Üí 217.5 req/s
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:143 | Current traffic: 217.5 req/s
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.732, capacity=20, latency=86ms
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.714, capacity=20, latency=86ms
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.711, capacity=20, latency=87ms
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:45:06 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:45:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.732)
2026-02-10 09:45:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.714)
2026-02-10 09:45:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.711)
2026-02-10 09:45:06 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=89ms, winner_det=1ms)
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.732)
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.714)
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.711)
2026-02-10 09:45:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:45:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.0 req/s, derivative=0.2754, predicted=111.8 req/s (+300s)
2026-02-10 09:45:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.222, P=-0.44, D=-0.20, output=-0.65, delta=-1
2026-02-10 09:45:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.0, predicted=111.8 | base=3, PD=-1, constrained=False
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:45:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.0 req/s, derivative=0.2753, predicted=111.8 req/s (+300s)
2026-02-10 09:45:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.222, P=-0.44, D=0.11, output=-0.34, delta=0
2026-02-10 09:45:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=87.0, predicted=111.8 | base=3, PD=+0, constrained=False
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:45:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.5 req/s, derivative=0.0959, predicted=52.1 req/s (+300s)
2026-02-10 09:45:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.166, P=-0.33, D=186.03, output=3.00, delta=3
2026-02-10 09:45:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=43.5, predicted=52.1 | base=1, PD=+3, constrained=False
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:45:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-10 09:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713136.827, '917986.8366752607']}]
2026-02-10 09:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 917987 bytes/s ‚Üí 229.5 req/s
2026-02-10 09:45:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 229.5 req/s | Replicas: 2
2026-02-10 09:45:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (229.5 > 30)
2026-02-10 09:45:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:45:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:45:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:45:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_229rps)
2026-02-10 09:45:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713137.1, '917968.0296248499']}]
2026-02-10 09:45:36 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 917968 bytes/s ‚Üí 229.5 req/s
2026-02-10 09:45:36 | INFO     | __main__:schedule_service:143 | Current traffic: 229.5 req/s
2026-02-10 09:45:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:45:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:45:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.747, capacity=20, latency=91ms
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.709, capacity=20, latency=90ms
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.729, capacity=20, latency=108ms
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:45:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:45:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.747)
2026-02-10 09:45:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.729)
2026-02-10 09:45:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.709)
2026-02-10 09:45:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=111ms, winner_det=0ms)
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.729)
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.709)
2026-02-10 09:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:45:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.8 req/s, derivative=0.2624, predicted=115.4 req/s (+300s)
2026-02-10 09:45:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.205, P=-0.41, D=-0.19, output=-0.60, delta=-1
2026-02-10 09:45:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.8, predicted=115.4 | base=3, PD=-1, constrained=False
2026-02-10 09:45:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:45:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.8 req/s, derivative=0.2624, predicted=115.4 req/s (+300s)
2026-02-10 09:45:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.205, P=-0.41, D=0.09, output=-0.32, delta=0
2026-02-10 09:45:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 3 (Œî=+0) | traffic: current=91.8, predicted=115.4 | base=3, PD=+0, constrained=False
2026-02-10 09:45:37 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 3 (Œî=+0)
2026-02-10 09:45:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.9 req/s, derivative=0.0940, predicted=54.4 req/s (+300s)
2026-02-10 09:45:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.156, P=-0.31, D=128.22, output=3.00, delta=3
2026-02-10 09:45:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.9, predicted=54.4 | base=1, PD=+3, constrained=False
2026-02-10 09:45:37 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:45:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-10 09:46:06 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713167.114, '726232.4814927882']}]
2026-02-10 09:46:06 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 726232 bytes/s ‚Üí 181.6 req/s
2026-02-10 09:46:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 181.6 req/s | Replicas: 2
2026-02-10 09:46:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (181.6 > 30)
2026-02-10 09:46:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:46:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_182rps)
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713167.422, '721681.6283734163']}]
2026-02-10 09:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 721682 bytes/s ‚Üí 180.4 req/s
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:143 | Current traffic: 180.4 req/s
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.737, capacity=20, latency=86ms
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.754, capacity=20, latency=101ms
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.717, capacity=20, latency=100ms
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:46:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:46:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.754)
2026-02-10 09:46:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.737)
2026-02-10 09:46:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.717)
2026-02-10 09:46:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.754)
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.737)
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.717)
2026-02-10 09:46:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:46:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=0.0821, predicted=52.5 req/s (+300s)
2026-02-10 09:46:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.141, P=-0.28, D=0.07, output=-0.21, delta=0
2026-02-10 09:46:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.1, predicted=52.5 | base=1, PD=+0, constrained=True
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:46:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=0.0821, predicted=52.5 req/s (+300s)
2026-02-10 09:46:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.141, P=-0.28, D=0.06, output=-0.22, delta=0
2026-02-10 09:46:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=45.1, predicted=52.5 | base=1, PD=+0, constrained=True
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:46:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:46:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.2 req/s, derivative=0.2310, predicted=111.0 req/s (+300s)
2026-02-10 09:46:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.187, P=-0.37, D=-80.02, output=-3.00, delta=-3
2026-02-10 09:46:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=90.2, predicted=111.0 | base=3, PD=-3, constrained=True
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:46:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:46:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.59s
2026-02-10 09:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713197.396, '894066.5426774255']}]
2026-02-10 09:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 894067 bytes/s ‚Üí 223.5 req/s
2026-02-10 09:46:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.5 req/s | Replicas: 2
2026-02-10 09:46:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.5 > 30)
2026-02-10 09:46:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:46:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_224rps)
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713197.69, '894028.2198815225']}]
2026-02-10 09:46:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 894028 bytes/s ‚Üí 223.5 req/s
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:143 | Current traffic: 223.5 req/s
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=88ms
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.765, capacity=20, latency=88ms
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.783, capacity=20, latency=89ms
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:46:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.783)
2026-02-10 09:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.765)
2026-02-10 09:46:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 09:46:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=92ms, winner_det=0ms)
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.783)
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.765)
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 09:46:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:46:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.4 req/s, derivative=0.1125, predicted=99.5 req/s (+300s)
2026-02-10 09:46:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.102, P=-0.20, D=0.43, output=0.22, delta=0
2026-02-10 09:46:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.4, predicted=99.5 | base=2, PD=+0, constrained=False
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:46:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.4 req/s, derivative=0.1125, predicted=99.5 req/s (+300s)
2026-02-10 09:46:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.102, P=-0.20, D=0.05, output=-0.16, delta=0
2026-02-10 09:46:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.4, predicted=99.5 | base=2, PD=+0, constrained=False
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:46:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.7 req/s, derivative=-0.0351, predicted=37.3 req/s (+300s)
2026-02-10 09:46:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.198, P=0.40, D=1111.47, output=3.00, delta=3
2026-02-10 09:46:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.7, predicted=37.3 | base=1, PD=+3, constrained=False
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:46:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:46:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-10 09:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713227.682, '912037.2820480492']}]
2026-02-10 09:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 912037 bytes/s ‚Üí 228.0 req/s
2026-02-10 09:47:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 228.0 req/s | Replicas: 2
2026-02-10 09:47:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (228.0 > 30)
2026-02-10 09:47:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:47:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_228rps)
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713227.949, '911995.3352428124']}]
2026-02-10 09:47:07 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 911995 bytes/s ‚Üí 228.0 req/s
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:143 | Current traffic: 228.0 req/s
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=85ms
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.764, capacity=20, latency=87ms
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=87ms
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:47:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:47:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.764)
2026-02-10 09:47:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:47:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:47:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.764)
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:47:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:47:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.2 req/s, derivative=0.0079, predicted=91.9 req/s (+300s)
2026-02-10 09:47:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.008, P=-0.02, D=-1.02, output=-1.04, delta=-1
2026-02-10 09:47:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.2, predicted=91.9 | base=2, PD=-1, constrained=True
2026-02-10 09:47:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:47:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.2 req/s, derivative=0.0079, predicted=91.9 req/s (+300s)
2026-02-10 09:47:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.008, P=-0.02, D=0.00, output=-0.01, delta=0
2026-02-10 09:47:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.2, predicted=91.9 | base=2, PD=+0, constrained=False
2026-02-10 09:47:08 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:47:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.6 req/s, derivative=-0.1427, predicted=15.6 req/s (+300s)
2026-02-10 09:47:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.917, P=3.83, D=7068.74, output=3.00, delta=3
2026-02-10 09:47:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.6, predicted=15.6 | base=1, PD=+3, constrained=False
2026-02-10 09:47:08 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:47:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-10 09:47:37 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713257.98, '904882.9931942963']}]
2026-02-10 09:47:37 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904883 bytes/s ‚Üí 226.2 req/s
2026-02-10 09:47:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 226.2 req/s | Replicas: 2
2026-02-10 09:47:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (226.2 > 30)
2026-02-10 09:47:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:47:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:47:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:47:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:47:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713258.261, '904836.8114705354']}]
2026-02-10 09:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904837 bytes/s ‚Üí 226.2 req/s
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:143 | Current traffic: 226.2 req/s
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=85ms
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=85ms
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=87ms
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:47:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 09:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:47:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:47:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:47:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:47:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.5 req/s, derivative=0.1515, predicted=104.1 req/s (+300s)
2026-02-10 09:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=-10.16, output=-3.00, delta=-3
2026-02-10 09:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.5, predicted=104.1 | base=2, PD=-3, constrained=True
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:47:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.5 req/s, derivative=0.1514, predicted=104.1 req/s (+300s)
2026-02-10 09:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=0.06, output=-0.21, delta=0
2026-02-10 09:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.5, predicted=104.1 | base=2, PD=+0, constrained=False
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:47:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.2 req/s, derivative=0.0020, predicted=45.4 req/s (+300s)
2026-02-10 09:47:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.004, P=-0.01, D=403.81, output=3.00, delta=3
2026-02-10 09:47:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.2, predicted=45.4 | base=1, PD=+3, constrained=False
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:47:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-10 09:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713288.269, '743202.4412301551']}]
2026-02-10 09:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 743202 bytes/s ‚Üí 185.8 req/s
2026-02-10 09:48:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 185.8 req/s | Replicas: 2
2026-02-10 09:48:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (185.8 > 30)
2026-02-10 09:48:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:48:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_186rps)
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713288.568, '738770.9662860328']}]
2026-02-10 09:48:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 738771 bytes/s ‚Üí 184.7 req/s
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:143 | Current traffic: 184.7 req/s
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.753, capacity=20, latency=87ms
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.771, capacity=20, latency=91ms
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.733, capacity=20, latency=90ms
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:48:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.771)
2026-02-10 09:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.753)
2026-02-10 09:48:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.733)
2026-02-10 09:48:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.771)
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.753)
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.733)
2026-02-10 09:48:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:48:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.2 req/s, derivative=-0.1777, predicted=8.9 req/s (+300s)
2026-02-10 09:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=4.208, P=8.42, D=20.91, output=3.00, delta=3
2026-02-10 09:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=46.2, predicted=8.9 | base=1, PD=+3, constrained=False
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:48:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 09:48:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.2 req/s, derivative=-0.1776, predicted=8.9 req/s (+300s)
2026-02-10 09:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=4.201, P=8.40, D=-10.84, output=-2.44, delta=-2
2026-02-10 09:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.2, predicted=8.9 | base=1, PD=-2, constrained=True
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:48:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=92.3 req/s, derivative=-0.0251, predicted=87.1 req/s (+300s)
2026-02-10 09:48:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.061, P=0.12, D=-13323.50, output=-3.00, delta=-3
2026-02-10 09:48:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=92.3, predicted=87.1 | base=2, PD=-3, constrained=True
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:48:08 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:48:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-10 09:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713318.551, '904795.9870757785']}]
2026-02-10 09:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904796 bytes/s ‚Üí 226.2 req/s
2026-02-10 09:48:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 226.2 req/s | Replicas: 4
2026-02-10 09:48:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (226.2 > 30)
2026-02-10 09:48:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:48:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713318.826, '904685.1009606813']}]
2026-02-10 09:48:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 904685 bytes/s ‚Üí 226.2 req/s
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:143 | Current traffic: 226.2 req/s
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=87ms
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=92ms
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=103ms
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:48:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:48:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:48:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:48:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:48:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=103ms, winner_det=0ms)
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:48:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:48:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.5 req/s, derivative=0.1550, predicted=104.4 req/s (+300s)
2026-02-10 09:48:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.134, P=-0.27, D=-0.97, output=-1.23, delta=-1
2026-02-10 09:48:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=90.5, predicted=104.4 | base=2, PD=-1, constrained=True
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:48:38 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:48:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.5 req/s, derivative=0.1550, predicted=104.4 req/s (+300s)
2026-02-10 09:48:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.134, P=-0.27, D=0.06, output=-0.21, delta=0
2026-02-10 09:48:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.5, predicted=104.4 | base=2, PD=+0, constrained=False
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:48:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.2 req/s, derivative=0.0056, predicted=45.7 req/s (+300s)
2026-02-10 09:48:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.02, D=361.42, output=3.00, delta=3
2026-02-10 09:48:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.2, predicted=45.7 | base=1, PD=+3, constrained=False
2026-02-10 09:48:38 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:48:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:48:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 09:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713348.827, '898219.0376355699']}]
2026-02-10 09:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898219 bytes/s ‚Üí 224.6 req/s
2026-02-10 09:49:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.6 req/s | Replicas: 2
2026-02-10 09:49:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.6 > 30)
2026-02-10 09:49:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:49:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:49:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:49:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_225rps)
2026-02-10 09:49:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713349.102, '898130.8227078317']}]
2026-02-10 09:49:08 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898131 bytes/s ‚Üí 224.5 req/s
2026-02-10 09:49:08 | INFO     | __main__:schedule_service:143 | Current traffic: 224.5 req/s
2026-02-10 09:49:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:49:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:49:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.713, capacity=20, latency=87ms
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=86ms
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.731, capacity=20, latency=87ms
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:49:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.731)
2026-02-10 09:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.727)
2026-02-10 09:49:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.713)
2026-02-10 09:49:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=90ms, winner_det=0ms)
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.731)
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.727)
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.713)
2026-02-10 09:49:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:49:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1540, predicted=103.7 req/s (+300s)
2026-02-10 09:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.134, P=-0.27, D=-0.61, output=-0.88, delta=-1
2026-02-10 09:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.8, predicted=103.7 | base=2, PD=-1, constrained=True
2026-02-10 09:49:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:49:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1539, predicted=103.7 req/s (+300s)
2026-02-10 09:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.134, P=-0.27, D=0.06, output=-0.21, delta=0
2026-02-10 09:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=89.8, predicted=103.7 | base=2, PD=+0, constrained=False
2026-02-10 09:49:09 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:49:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:49:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.9 req/s, derivative=0.0057, predicted=45.4 req/s (+300s)
2026-02-10 09:49:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.02, D=220.43, output=3.00, delta=3
2026-02-10 09:49:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.9, predicted=45.4 | base=1, PD=+3, constrained=False
2026-02-10 09:49:09 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:49:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 09:49:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 09:49:38 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713379.099, '891653.7656522659']}]
2026-02-10 09:49:38 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 891654 bytes/s ‚Üí 222.9 req/s
2026-02-10 09:49:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 222.9 req/s | Replicas: 2
2026-02-10 09:49:39 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (222.9 > 30)
2026-02-10 09:49:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:49:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713379.392, '891653.6673104608']}]
2026-02-10 09:49:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 891654 bytes/s ‚Üí 222.9 req/s
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:143 | Current traffic: 222.9 req/s
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.801, capacity=20, latency=84ms
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=84ms
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=83ms
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:49:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.801)
2026-02-10 09:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-10 09:49:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-10 09:49:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=87ms, winner_det=1ms)
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.801)
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-10 09:49:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:49:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.2 req/s, derivative=0.1551, predicted=103.1 req/s (+300s)
2026-02-10 09:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.135, P=-0.27, D=-0.62, output=-0.89, delta=-1
2026-02-10 09:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.2, predicted=103.1 | base=2, PD=-1, constrained=True
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:49:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.2 req/s, derivative=0.1551, predicted=103.1 req/s (+300s)
2026-02-10 09:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.135, P=-0.27, D=0.06, output=-0.21, delta=0
2026-02-10 09:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=89.2, predicted=103.1 | base=2, PD=+0, constrained=False
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:49:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:49:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.6 req/s, derivative=0.0079, predicted=45.3 req/s (+300s)
2026-02-10 09:49:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.016, P=-0.03, D=201.81, output=3.00, delta=3
2026-02-10 09:49:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.6, predicted=45.3 | base=1, PD=+3, constrained=False
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:49:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:49:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 09:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713409.375, '765943.4697621443']}]
2026-02-10 09:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 765943 bytes/s ‚Üí 191.5 req/s
2026-02-10 09:50:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 191.5 req/s | Replicas: 2
2026-02-10 09:50:09 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (191.5 > 30)
2026-02-10 09:50:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:50:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_191rps)
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713409.658, '761771.3219456103']}]
2026-02-10 09:50:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 761771 bytes/s ‚Üí 190.4 req/s
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:143 | Current traffic: 190.4 req/s
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.732, capacity=20, latency=91ms
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.736, capacity=20, latency=92ms
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.718, capacity=20, latency=92ms
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:50:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.736)
2026-02-10 09:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.732)
2026-02-10 09:50:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.718)
2026-02-10 09:50:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=94ms, winner_det=1ms)
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.736)
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.732)
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.718)
2026-02-10 09:50:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:50:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=47.6 req/s, derivative=0.0136, predicted=48.8 req/s (+300s)
2026-02-10 09:50:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.025, P=-0.05, D=-0.05, output=-0.10, delta=0
2026-02-10 09:50:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=47.6, predicted=48.8 | base=1, PD=+0, constrained=True
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:50:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=47.6 req/s, derivative=0.0136, predicted=48.8 req/s (+300s)
2026-02-10 09:50:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.025, P=-0.05, D=0.01, output=-0.04, delta=0
2026-02-10 09:50:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=47.6, predicted=48.8 | base=1, PD=+0, constrained=True
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:50:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:50:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=95.2 req/s, derivative=0.1708, predicted=110.6 req/s (+300s)
2026-02-10 09:50:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.139, P=-0.28, D=-183.72, output=-3.00, delta=-3
2026-02-10 09:50:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=95.2, predicted=110.6 | base=3, PD=-3, constrained=True
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:50:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 09:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713439.662, '897312.4711685687']}]
2026-02-10 09:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 897312 bytes/s ‚Üí 224.3 req/s
2026-02-10 09:50:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.3 req/s | Replicas: 2
2026-02-10 09:50:39 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.3 > 30)
2026-02-10 09:50:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:50:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_224rps)
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713439.926, '896294.4427742525']}]
2026-02-10 09:50:39 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 896294 bytes/s ‚Üí 224.1 req/s
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:143 | Current traffic: 224.1 req/s
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=105ms
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=105ms
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=106ms
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:50:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:50:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:50:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.783)
2026-02-10 09:50:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 09:50:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=108ms, winner_det=0ms)
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.783)
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 09:50:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:50:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.6 req/s, derivative=0.1445, predicted=102.6 req/s (+300s)
2026-02-10 09:50:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.127, P=-0.25, D=0.06, output=-0.19, delta=0
2026-02-10 09:50:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.6, predicted=102.6 | base=2, PD=+0, constrained=False
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:50:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.6 req/s, derivative=0.1444, predicted=102.6 req/s (+300s)
2026-02-10 09:50:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.127, P=-0.25, D=0.05, output=-0.20, delta=0
2026-02-10 09:50:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.6, predicted=102.6 | base=2, PD=+0, constrained=False
2026-02-10 09:50:39 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:50:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.8 req/s, derivative=-0.0036, predicted=44.1 req/s (+300s)
2026-02-10 09:50:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.017, P=0.03, D=493.03, output=3.00, delta=3
2026-02-10 09:50:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.8, predicted=44.1 | base=1, PD=+3, constrained=False
2026-02-10 09:50:40 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:50:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:50:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 09:51:09 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713469.929, '595553.5948268739']}]
2026-02-10 09:51:09 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 595554 bytes/s ‚Üí 148.9 req/s
2026-02-10 09:51:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 148.9 req/s | Replicas: 2
2026-02-10 09:51:09 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (148.9 > 30)
2026-02-10 09:51:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:51:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:51:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:51:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_149rps)
2026-02-10 09:51:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713470.21, '590586.0008813203']}]
2026-02-10 09:51:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 590586 bytes/s ‚Üí 147.6 req/s
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:143 | Current traffic: 147.6 req/s
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.777, capacity=20, latency=85ms
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.759, capacity=20, latency=84ms
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.739, capacity=20, latency=83ms
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:51:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 3 replicas among 3 clusters
2026-02-10 09:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=33.3%, score=0.777)
2026-02-10 09:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=33.3%, score=0.759)
2026-02-10 09:51:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=33.3%, score=0.739)
2026-02-10 09:51:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 3 replicas across 3 clusters
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 3 clusters:
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=33.33%, score=0.777)
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=33.33%, score=0.759)
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=33.33%, score=0.739)
2026-02-10 09:51:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 09:51:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=49.2 req/s, derivative=-0.1355, predicted=20.8 req/s (+300s)
2026-02-10 09:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.370, P=2.74, D=6.72, output=3.00, delta=3
2026-02-10 09:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=49.2, predicted=20.8 | base=1, PD=+3, constrained=False
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:51:10 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 09:51:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=49.2 req/s, derivative=-0.1354, predicted=20.8 req/s (+300s)
2026-02-10 09:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.369, P=2.74, D=-1.61, output=1.13, delta=1
2026-02-10 09:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=49.2, predicted=20.8 | base=1, PD=+1, constrained=False
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:51:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=49.2 req/s, derivative=-0.1354, predicted=20.8 req/s (+300s)
2026-02-10 09:51:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.368, P=2.74, D=-1.61, output=1.13, delta=1
2026-02-10 09:51:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=49.2, predicted=20.8 | base=1, PD=+1, constrained=False
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:51:10 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:51:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 09:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713500.206, '705364.7424687473']}]
2026-02-10 09:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 705365 bytes/s ‚Üí 176.3 req/s
2026-02-10 09:51:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 176.3 req/s | Replicas: 4
2026-02-10 09:51:40 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (176.3 > 30)
2026-02-10 09:51:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:51:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_176rps)
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713500.487, '701190.5306700266']}]
2026-02-10 09:51:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 701191 bytes/s ‚Üí 175.3 req/s
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:143 | Current traffic: 175.3 req/s
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.735, capacity=20, latency=86ms
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.755, capacity=20, latency=87ms
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.808, capacity=20, latency=87ms
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:51:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.808)
2026-02-10 09:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.755)
2026-02-10 09:51:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.735)
2026-02-10 09:51:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.808)
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.755)
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.735)
2026-02-10 09:51:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:51:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.8 req/s, derivative=-0.0029, predicted=43.2 req/s (+300s)
2026-02-10 09:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=-6.74, output=-3.00, delta=-3
2026-02-10 09:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=43.8, predicted=43.2 | base=1, PD=-3, constrained=True
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:51:40 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:51:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.8 req/s, derivative=-0.0029, predicted=43.2 req/s (+300s)
2026-02-10 09:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-10 09:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=43.8, predicted=43.2 | base=1, PD=+0, constrained=True
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:51:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.6 req/s, derivative=0.1418, predicted=100.4 req/s (+300s)
2026-02-10 09:51:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.127, P=-0.25, D=-501.06, output=-3.00, delta=-3
2026-02-10 09:51:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.6, predicted=100.4 | base=2, PD=-3, constrained=True
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:51:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-10 09:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713530.479, '897666.5311136446']}]
2026-02-10 09:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 897667 bytes/s ‚Üí 224.4 req/s
2026-02-10 09:52:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.4 req/s | Replicas: 2
2026-02-10 09:52:10 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.4 > 30)
2026-02-10 09:52:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:52:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_224rps)
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713530.765, '897629.261092229']}]
2026-02-10 09:52:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 897629 bytes/s ‚Üí 224.4 req/s
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:143 | Current traffic: 224.4 req/s
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=85ms
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=89ms
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=89ms
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:52:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:52:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 09:52:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.763)
2026-02-10 09:52:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.747)
2026-02-10 09:52:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=91ms, winner_det=0ms)
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.763)
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.747)
2026-02-10 09:52:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:52:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1459, predicted=102.9 req/s (+300s)
2026-02-10 09:52:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=-0.00, output=-0.26, delta=0
2026-02-10 09:52:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.8, predicted=102.9 | base=2, PD=+0, constrained=False
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:52:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1459, predicted=102.9 req/s (+300s)
2026-02-10 09:52:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 09:52:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.8, predicted=102.9 | base=2, PD=+0, constrained=False
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:52:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.9 req/s, derivative=-0.0024, predicted=44.4 req/s (+300s)
2026-02-10 09:52:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.011, P=0.02, D=496.94, output=3.00, delta=3
2026-02-10 09:52:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.9, predicted=44.4 | base=1, PD=+3, constrained=False
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:52:10 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 09:52:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 09:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713560.748, '898338.4375595412']}]
2026-02-10 09:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898338 bytes/s ‚Üí 224.6 req/s
2026-02-10 09:52:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.6 req/s | Replicas: 2
2026-02-10 09:52:40 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.6 > 30)
2026-02-10 09:52:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:52:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:52:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:52:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_225rps)
2026-02-10 09:52:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713561.009, '898269.0117318997']}]
2026-02-10 09:52:40 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898269 bytes/s ‚Üí 224.6 req/s
2026-02-10 09:52:40 | INFO     | __main__:schedule_service:143 | Current traffic: 224.6 req/s
2026-02-10 09:52:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=87ms
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=87ms
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=86ms
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:52:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:52:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:52:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:52:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:52:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=88ms, winner_det=1ms)
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:52:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:52:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1473, predicted=103.1 req/s (+300s)
2026-02-10 09:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.129, P=-0.26, D=-0.70, output=-0.95, delta=-1
2026-02-10 09:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.8, predicted=103.1 | base=2, PD=-1, constrained=True
2026-02-10 09:52:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:52:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1473, predicted=103.1 req/s (+300s)
2026-02-10 09:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.129, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 09:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=89.8, predicted=103.1 | base=2, PD=+0, constrained=False
2026-02-10 09:52:41 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:52:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:52:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.9 req/s, derivative=-0.0011, predicted=44.7 req/s (+300s)
2026-02-10 09:52:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.005, P=0.01, D=234.21, output=3.00, delta=3
2026-02-10 09:52:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.9, predicted=44.7 | base=1, PD=+3, constrained=False
2026-02-10 09:52:41 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:52:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:52:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 09:53:10 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713591.029, '905941.9816097153']}]
2026-02-10 09:53:10 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 905942 bytes/s ‚Üí 226.5 req/s
2026-02-10 09:53:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 226.5 req/s | Replicas: 2
2026-02-10 09:53:10 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (226.5 > 30)
2026-02-10 09:53:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:53:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:53:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:53:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:53:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713591.304, '905944.1658747257']}]
2026-02-10 09:53:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 905944 bytes/s ‚Üí 226.5 req/s
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:143 | Current traffic: 226.5 req/s
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.730, capacity=20, latency=88ms
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.713, capacity=20, latency=88ms
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=100ms
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:53:11 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.730)
2026-02-10 09:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.727)
2026-02-10 09:53:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.713)
2026-02-10 09:53:11 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.730)
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.727)
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.713)
2026-02-10 09:53:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:53:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.6 req/s, derivative=-0.0058, predicted=89.4 req/s (+300s)
2026-02-10 09:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=0.04, output=0.07, delta=0
2026-02-10 09:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.6, predicted=89.4 | base=2, PD=+0, constrained=False
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:53:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.6 req/s, derivative=-0.0058, predicted=89.4 req/s (+300s)
2026-02-10 09:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-10 09:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=90.6, predicted=89.4 | base=2, PD=+0, constrained=False
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:53:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:53:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.3 req/s, derivative=-0.1554, predicted=12.7 req/s (+300s)
2026-02-10 09:53:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.578, P=5.16, D=4773.09, output=3.00, delta=3
2026-02-10 09:53:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.3, predicted=12.7 | base=1, PD=+3, constrained=False
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:53:11 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 09:53:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 09:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713621.309, '736031.6790391728']}]
2026-02-10 09:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 736032 bytes/s ‚Üí 184.0 req/s
2026-02-10 09:53:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 184.0 req/s | Replicas: 2
2026-02-10 09:53:41 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (184.0 > 30)
2026-02-10 09:53:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:53:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_184rps)
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713621.599, '731610.0291999154']}]
2026-02-10 09:53:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 731610 bytes/s ‚Üí 182.9 req/s
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:143 | Current traffic: 182.9 req/s
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.754, capacity=20, latency=87ms
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.734, capacity=20, latency=87ms
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=88ms
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:53:41 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.807)
2026-02-10 09:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.754)
2026-02-10 09:53:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.734)
2026-02-10 09:53:41 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=1ms)
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.807)
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.754)
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.734)
2026-02-10 09:53:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:53:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.7 req/s, derivative=0.0016, predicted=45.9 req/s (+300s)
2026-02-10 09:53:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.003, P=-0.01, D=-12.84, output=-3.00, delta=-3
2026-02-10 09:53:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.7, predicted=45.9 | base=1, PD=-3, constrained=True
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:53:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.7 req/s, derivative=0.0016, predicted=45.9 req/s (+300s)
2026-02-10 09:53:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.003, P=-0.01, D=0.00, output=-0.00, delta=0
2026-02-10 09:53:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=45.7, predicted=45.9 | base=1, PD=+0, constrained=True
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:53:41 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 09:53:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.5 req/s, derivative=0.1527, predicted=105.2 req/s (+300s)
2026-02-10 09:53:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=-214.62, output=-3.00, delta=-3
2026-02-10 09:53:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.5, predicted=105.2 | base=2, PD=-3, constrained=True
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:53:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 09:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713651.589, '714455.1330171927']}]
2026-02-10 09:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 714455 bytes/s ‚Üí 178.6 req/s
2026-02-10 09:54:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 178.6 req/s | Replicas: 2
2026-02-10 09:54:11 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (178.6 > 30)
2026-02-10 09:54:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:54:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_179rps)
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713651.875, '710088.992033246']}]
2026-02-10 09:54:11 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 710089 bytes/s ‚Üí 177.5 req/s
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:143 | Current traffic: 177.5 req/s
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.772, capacity=20, latency=92ms
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.770, capacity=20, latency=92ms
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.754, capacity=20, latency=94ms
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:54:11 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:54:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.772)
2026-02-10 09:54:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.770)
2026-02-10 09:54:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.754)
2026-02-10 09:54:11 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 98ms (collection=97ms, winner_det=1ms)
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.772)
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.770)
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.754)
2026-02-10 09:54:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:54:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=-0.0017, predicted=44.0 req/s (+300s)
2026-02-10 09:54:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.008, P=0.02, D=0.69, output=0.71, delta=1
2026-02-10 09:54:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=44.0 | base=1, PD=+1, constrained=False
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.4 req/s, derivative=-0.0017, predicted=44.0 req/s (+300s)
2026-02-10 09:54:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.008, P=0.02, D=-0.00, output=0.01, delta=0
2026-02-10 09:54:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.4, predicted=44.0 | base=1, PD=+0, constrained=True
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.8 req/s, derivative=0.1449, predicted=101.8 req/s (+300s)
2026-02-10 09:54:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=-479.70, output=-3.00, delta=-3
2026-02-10 09:54:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=88.8, predicted=101.8 | base=2, PD=-3, constrained=True
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-10 09:54:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713681.877, '681053.6884761506']}]
2026-02-10 09:54:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 681054 bytes/s ‚Üí 170.3 req/s
2026-02-10 09:54:41 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 170.3 req/s | Replicas: 2
2026-02-10 09:54:41 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (170.3 > 30)
2026-02-10 09:54:41 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:54:41 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:54:41 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:54:41 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_170rps)
2026-02-10 09:54:41 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:54:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713682.141, '677007.6501400647']}]
2026-02-10 09:54:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 677008 bytes/s ‚Üí 169.3 req/s
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:143 | Current traffic: 169.3 req/s
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.809, capacity=20, latency=86ms
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.771, capacity=20, latency=86ms
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.791, capacity=20, latency=109ms
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:54:42 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:54:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.809)
2026-02-10 09:54:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.791)
2026-02-10 09:54:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.771)
2026-02-10 09:54:42 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=110ms, winner_det=1ms)
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.809)
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.791)
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.771)
2026-02-10 09:54:42 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:54:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.3 req/s, derivative=-0.0075, predicted=40.7 req/s (+300s)
2026-02-10 09:54:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.039, P=0.08, D=0.83, output=0.91, delta=1
2026-02-10 09:54:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.3, predicted=40.7 | base=1, PD=+1, constrained=False
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.3 req/s, derivative=-0.0075, predicted=40.7 req/s (+300s)
2026-02-10 09:54:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.039, P=0.08, D=-0.02, output=0.06, delta=0
2026-02-10 09:54:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.3, predicted=40.7 | base=1, PD=+0, constrained=True
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.6 req/s, derivative=0.1323, predicted=96.5 req/s (+300s)
2026-02-10 09:54:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.123, P=-0.25, D=-480.11, output=-3.00, delta=-3
2026-02-10 09:54:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.6, predicted=96.5 | base=2, PD=-3, constrained=True
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:54:42 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-10 09:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713712.15, '673978.3036491992']}]
2026-02-10 09:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 673978 bytes/s ‚Üí 168.5 req/s
2026-02-10 09:55:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 168.5 req/s | Replicas: 2
2026-02-10 09:55:12 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (168.5 > 30)
2026-02-10 09:55:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:55:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_168rps)
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713712.442, '776818.4847829782']}]
2026-02-10 09:55:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 776818 bytes/s ‚Üí 194.2 req/s
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:143 | Current traffic: 194.2 req/s
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.805, capacity=20, latency=83ms
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.787, capacity=20, latency=103ms
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.767, capacity=20, latency=102ms
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:55:12 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.805)
2026-02-10 09:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.787)
2026-02-10 09:55:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.767)
2026-02-10 09:55:12 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.805)
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.787)
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.767)
2026-02-10 09:55:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:55:12 | INFO     | src.level2.predictor:predict:166 | Prediction: current=48.6 req/s, derivative=-0.1542, predicted=16.2 req/s (+300s)
2026-02-10 09:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.003, P=4.01, D=10.56, output=3.00, delta=3
2026-02-10 09:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=48.6, predicted=16.2 | base=1, PD=+3, constrained=False
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:55:12 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 09:55:12 | INFO     | src.level2.predictor:predict:166 | Prediction: current=48.6 req/s, derivative=-0.1542, predicted=16.2 req/s (+300s)
2026-02-10 09:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.001, P=4.00, D=-2.98, output=1.02, delta=1
2026-02-10 09:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=48.6, predicted=16.2 | base=1, PD=+1, constrained=False
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:55:12 | INFO     | src.level2.predictor:predict:166 | Prediction: current=97.1 req/s, derivative=0.0062, predicted=97.7 req/s (+300s)
2026-02-10 09:55:12 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.006, P=-0.01, D=-5231.17, output=-3.00, delta=-3
2026-02-10 09:55:12 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=97.1, predicted=97.7 | base=2, PD=-3, constrained=True
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:55:12 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-10 09:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713742.441, '905665.0451406019']}]
2026-02-10 09:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 905665 bytes/s ‚Üí 226.4 req/s
2026-02-10 09:55:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 226.4 req/s | Replicas: 4
2026-02-10 09:55:42 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (226.4 > 30)
2026-02-10 09:55:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:55:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713742.71, '905695.8520352531']}]
2026-02-10 09:55:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 905696 bytes/s ‚Üí 226.4 req/s
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:143 | Current traffic: 226.4 req/s
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=89ms
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=89ms
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=107ms
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:55:42 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:55:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:55:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 09:55:42 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:55:42 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=109ms, winner_det=1ms)
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:55:42 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:55:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.6 req/s, derivative=0.1512, predicted=104.2 req/s (+300s)
2026-02-10 09:55:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=-0.62, output=-0.88, delta=-1
2026-02-10 09:55:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=90.6, predicted=104.2 | base=2, PD=-1, constrained=True
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:55:42 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:55:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.6 req/s, derivative=0.1511, predicted=104.2 req/s (+300s)
2026-02-10 09:55:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 09:55:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.6, predicted=104.2 | base=2, PD=+0, constrained=False
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:55:42 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.3 req/s, derivative=0.0016, predicted=45.4 req/s (+300s)
2026-02-10 09:55:42 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.003, P=-0.01, D=442.59, output=3.00, delta=3
2026-02-10 09:55:42 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.3, predicted=45.4 | base=1, PD=+3, constrained=False
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:55:42 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:55:42 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 09:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713772.711, '714315.3026255991']}]
2026-02-10 09:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 714315 bytes/s ‚Üí 178.6 req/s
2026-02-10 09:56:12 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 178.6 req/s | Replicas: 2
2026-02-10 09:56:12 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (178.6 > 30)
2026-02-10 09:56:12 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:56:12 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:56:12 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:56:12 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_179rps)
2026-02-10 09:56:12 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713772.999, '819866.0288208262']}]
2026-02-10 09:56:12 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 819866 bytes/s ‚Üí 205.0 req/s
2026-02-10 09:56:12 | INFO     | __main__:schedule_service:143 | Current traffic: 205.0 req/s
2026-02-10 09:56:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.734, capacity=20, latency=79ms
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.733, capacity=20, latency=79ms
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.730, capacity=20, latency=115ms
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:56:12 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:56:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.734)
2026-02-10 09:56:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.733)
2026-02-10 09:56:12 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.730)
2026-02-10 09:56:12 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 116ms (collection=116ms, winner_det=0ms)
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.734)
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.733)
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.730)
2026-02-10 09:56:12 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:56:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.2 req/s, derivative=0.0067, predicted=51.8 req/s (+300s)
2026-02-10 09:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.012, P=-0.02, D=-0.04, output=-0.07, delta=0
2026-02-10 09:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=51.2, predicted=51.8 | base=1, PD=+0, constrained=True
2026-02-10 09:56:13 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:56:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.2 req/s, derivative=0.0067, predicted=51.8 req/s (+300s)
2026-02-10 09:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.012, P=-0.02, D=0.01, output=-0.02, delta=0
2026-02-10 09:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=51.2, predicted=51.8 | base=1, PD=+0, constrained=True
2026-02-10 09:56:13 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:56:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=102.5 req/s, derivative=0.1759, predicted=118.3 req/s (+300s)
2026-02-10 09:56:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.134, P=-0.27, D=-451.42, output=-3.00, delta=-3
2026-02-10 09:56:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=102.5, predicted=118.3 | base=3, PD=-3, constrained=True
2026-02-10 09:56:13 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:56:13 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:56:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 09:56:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713802.98, '928154.0696910882']}]
2026-02-10 09:56:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 928154 bytes/s ‚Üí 232.0 req/s
2026-02-10 09:56:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 232.0 req/s | Replicas: 2
2026-02-10 09:56:42 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (232.0 > 30)
2026-02-10 09:56:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 09:56:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:56:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:56:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_232rps)
2026-02-10 09:56:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713803.254, '929506.6056990814']}]
2026-02-10 09:56:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 929507 bytes/s ‚Üí 232.4 req/s
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:143 | Current traffic: 232.4 req/s
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.799, capacity=20, latency=86ms
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.762, capacity=20, latency=85ms
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.782, capacity=20, latency=111ms
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:56:43 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.799)
2026-02-10 09:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.782)
2026-02-10 09:56:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.762)
2026-02-10 09:56:43 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 114ms (collection=114ms, winner_det=0ms)
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.799)
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.782)
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.762)
2026-02-10 09:56:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:56:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=93.0 req/s, derivative=0.0175, predicted=94.5 req/s (+300s)
2026-02-10 09:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.017, P=-0.03, D=0.58, output=0.55, delta=1
2026-02-10 09:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=93.0, predicted=94.5 | base=2, PD=+1, constrained=False
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:56:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:56:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=93.0 req/s, derivative=0.0175, predicted=94.5 req/s (+300s)
2026-02-10 09:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.017, P=-0.03, D=0.01, output=-0.03, delta=0
2026-02-10 09:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=93.0, predicted=94.5 | base=2, PD=+0, constrained=False
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:56:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.5 req/s, derivative=-0.1360, predicted=17.9 req/s (+300s)
2026-02-10 09:56:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.594, P=3.19, D=5918.56, output=3.00, delta=3
2026-02-10 09:56:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=46.5, predicted=17.9 | base=1, PD=+3, constrained=False
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:56:43 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:56:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-10 09:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713833.25, '925731.9678330157']}]
2026-02-10 09:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 925732 bytes/s ‚Üí 231.4 req/s
2026-02-10 09:57:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 231.4 req/s | Replicas: 3
2026-02-10 09:57:13 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (231.4 > 30)
2026-02-10 09:57:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:57:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_231rps)
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713833.524, '924866.4551324851']}]
2026-02-10 09:57:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 924866 bytes/s ‚Üí 231.2 req/s
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:143 | Current traffic: 231.2 req/s
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.764, capacity=20, latency=92ms
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.729, capacity=20, latency=93ms
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.709, capacity=20, latency=93ms
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:57:13 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.764)
2026-02-10 09:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.729)
2026-02-10 09:57:13 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.709)
2026-02-10 09:57:13 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.764)
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.729)
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.709)
2026-02-10 09:57:13 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:57:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=92.5 req/s, derivative=0.1573, predicted=106.6 req/s (+300s)
2026-02-10 09:57:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=-8.59, output=-3.00, delta=-3
2026-02-10 09:57:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=92.5, predicted=106.6 | base=2, PD=-3, constrained=True
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:57:13 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:57:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=92.5 req/s, derivative=0.1572, predicted=106.6 req/s (+300s)
2026-02-10 09:57:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=0.06, output=-0.21, delta=0
2026-02-10 09:57:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=92.5, predicted=106.6 | base=2, PD=+0, constrained=False
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:57:13 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.2 req/s, derivative=0.0045, predicted=46.6 req/s (+300s)
2026-02-10 09:57:13 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.009, P=-0.02, D=387.18, output=3.00, delta=3
2026-02-10 09:57:13 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=46.2, predicted=46.6 | base=1, PD=+3, constrained=False
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:57:13 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-10 09:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713863.516, '893011.0041736718']}]
2026-02-10 09:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 893011 bytes/s ‚Üí 223.3 req/s
2026-02-10 09:57:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.3 req/s | Replicas: 2
2026-02-10 09:57:43 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.3 > 30)
2026-02-10 09:57:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:57:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713863.789, '893742.9875271107']}]
2026-02-10 09:57:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 893743 bytes/s ‚Üí 223.4 req/s
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:143 | Current traffic: 223.4 req/s
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.748, capacity=20, latency=86ms
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.730, capacity=20, latency=86ms
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=85ms
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:57:43 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:57:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.748)
2026-02-10 09:57:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.730)
2026-02-10 09:57:43 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:57:43 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.748)
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.730)
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:57:43 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:57:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.4 req/s, derivative=0.1469, predicted=102.6 req/s (+300s)
2026-02-10 09:57:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.129, P=-0.26, D=-0.60, output=-0.86, delta=-1
2026-02-10 09:57:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.4, predicted=102.6 | base=2, PD=-1, constrained=True
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:57:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.4 req/s, derivative=0.1469, predicted=102.6 req/s (+300s)
2026-02-10 09:57:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.129, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 09:57:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.4, predicted=102.6 | base=2, PD=+0, constrained=False
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:57:43 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.7 req/s, derivative=-0.0007, predicted=44.5 req/s (+300s)
2026-02-10 09:57:43 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.004, P=0.01, D=472.20, output=3.00, delta=3
2026-02-10 09:57:43 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.7, predicted=44.5 | base=1, PD=+3, constrained=False
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:57:43 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-10 09:58:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713893.782, '749474.4065951059']}]
2026-02-10 09:58:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 749474 bytes/s ‚Üí 187.4 req/s
2026-02-10 09:58:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.4 req/s | Replicas: 2
2026-02-10 09:58:13 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.4 > 30)
2026-02-10 09:58:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:58:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:58:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:58:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_187rps)
2026-02-10 09:58:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:58:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713894.076, '747147.9643779241']}]
2026-02-10 09:58:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 747148 bytes/s ‚Üí 186.8 req/s
2026-02-10 09:58:13 | INFO     | __main__:schedule_service:143 | Current traffic: 186.8 req/s
2026-02-10 09:58:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 09:58:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 09:58:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.771, capacity=20, latency=92ms
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.753, capacity=20, latency=94ms
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.733, capacity=20, latency=92ms
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:58:14 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 09:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.771)
2026-02-10 09:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.753)
2026-02-10 09:58:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.733)
2026-02-10 09:58:14 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.771)
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.753)
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.733)
2026-02-10 09:58:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 09:58:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.7 req/s, derivative=0.0046, predicted=47.1 req/s (+300s)
2026-02-10 09:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.009, P=-0.02, D=-0.06, output=-0.08, delta=0
2026-02-10 09:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.7, predicted=47.1 | base=1, PD=+0, constrained=True
2026-02-10 09:58:14 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:58:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.7 req/s, derivative=0.0046, predicted=47.1 req/s (+300s)
2026-02-10 09:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.009, P=-0.02, D=0.00, output=-0.01, delta=0
2026-02-10 09:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.7, predicted=47.1 | base=1, PD=+0, constrained=True
2026-02-10 09:58:14 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:58:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=93.4 req/s, derivative=0.1589, predicted=107.7 req/s (+300s)
2026-02-10 09:58:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=-439.29, output=-3.00, delta=-3
2026-02-10 09:58:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=93.4, predicted=107.7 | base=2, PD=-3, constrained=True
2026-02-10 09:58:14 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 09:58:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 09:58:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-10 09:58:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713924.052, '902236.1660134227']}]
2026-02-10 09:58:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 902236 bytes/s ‚Üí 225.6 req/s
2026-02-10 09:58:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 225.6 req/s | Replicas: 2
2026-02-10 09:58:43 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (225.6 > 30)
2026-02-10 09:58:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 09:58:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:58:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:58:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 09:58:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713924.325, '902234.8702357218']}]
2026-02-10 09:58:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 902235 bytes/s ‚Üí 225.6 req/s
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:143 | Current traffic: 225.6 req/s
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=89ms
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=89ms
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=106ms
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:58:44 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 09:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.783)
2026-02-10 09:58:44 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 09:58:44 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=108ms, winner_det=2ms)
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.783)
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 09:58:44 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:58:44 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.2 req/s, derivative=-0.0041, predicted=89.4 req/s (+300s)
2026-02-10 09:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.010, P=0.02, D=0.71, output=0.73, delta=1
2026-02-10 09:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=90.2, predicted=89.4 | base=2, PD=+1, constrained=False
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 09:58:44 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 09:58:44 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.2 req/s, derivative=-0.0041, predicted=89.4 req/s (+300s)
2026-02-10 09:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.010, P=0.02, D=-0.00, output=0.01, delta=0
2026-02-10 09:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.2, predicted=89.4 | base=2, PD=+0, constrained=False
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:58:44 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=-0.1531, predicted=13.0 req/s (+300s)
2026-02-10 09:58:44 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.479, P=4.96, D=8123.10, output=3.00, delta=3
2026-02-10 09:58:44 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.1, predicted=13.0 | base=1, PD=+3, constrained=False
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 09:58:44 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 09:58:44 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-10 09:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713954.327, '895958.1932331152']}]
2026-02-10 09:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 895958 bytes/s ‚Üí 224.0 req/s
2026-02-10 09:59:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.0 req/s | Replicas: 3
2026-02-10 09:59:14 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.0 > 30)
2026-02-10 09:59:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:59:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_224rps)
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713954.61, '895949.7883424415']}]
2026-02-10 09:59:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 895950 bytes/s ‚Üí 224.0 req/s
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:143 | Current traffic: 224.0 req/s
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.710, capacity=20, latency=83ms
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=85ms
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.730, capacity=20, latency=84ms
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:59:14 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:59:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 09:59:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.730)
2026-02-10 09:59:14 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.710)
2026-02-10 09:59:14 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.730)
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.710)
2026-02-10 09:59:14 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:59:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.6 req/s, derivative=0.0028, predicted=89.8 req/s (+300s)
2026-02-10 09:59:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.003, P=-0.01, D=-12.36, output=-3.00, delta=-3
2026-02-10 09:59:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=89.6, predicted=89.8 | base=2, PD=-3, constrained=True
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 09:59:14 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 09:59:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.6 req/s, derivative=0.0028, predicted=89.8 req/s (+300s)
2026-02-10 09:59:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.003, P=-0.01, D=0.00, output=-0.00, delta=0
2026-02-10 09:59:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.6, predicted=89.8 | base=2, PD=+0, constrained=False
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:59:14 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.8 req/s, derivative=-0.1452, predicted=14.3 req/s (+300s)
2026-02-10 09:59:14 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.132, P=4.26, D=7492.24, output=3.00, delta=3
2026-02-10 09:59:14 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.8, predicted=14.3 | base=1, PD=+3, constrained=False
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:59:14 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-10 09:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713985.638, '916968.0803360551']}]
2026-02-10 09:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 916968 bytes/s ‚Üí 229.2 req/s
2026-02-10 09:59:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 229.2 req/s | Replicas: 2
2026-02-10 09:59:45 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (229.2 > 30)
2026-02-10 09:59:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 09:59:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_229rps)
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 09:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770713985.914, '916968.0409633245']}]
2026-02-10 09:59:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 916968 bytes/s ‚Üí 229.2 req/s
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:143 | Current traffic: 229.2 req/s
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.747, capacity=20, latency=86ms
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=86ms
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.729, capacity=20, latency=109ms
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 09:59:45 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 09:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.747)
2026-02-10 09:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.729)
2026-02-10 09:59:45 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 09:59:45 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 112ms (collection=112ms, winner_det=0ms)
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.747)
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.729)
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 09:59:45 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 09:59:45 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.7 req/s, derivative=0.0233, predicted=93.8 req/s (+300s)
2026-02-10 09:59:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.022, P=-0.04, D=-10.36, output=-3.00, delta=-3
2026-02-10 09:59:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.7, predicted=93.8 | base=2, PD=-3, constrained=True
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:59:45 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.7 req/s, derivative=0.0233, predicted=93.8 req/s (+300s)
2026-02-10 09:59:45 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.022, P=-0.04, D=0.01, output=-0.03, delta=0
2026-02-10 09:59:45 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.7, predicted=93.8 | base=2, PD=+0, constrained=False
2026-02-10 09:59:45 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 09:59:46 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.8 req/s, derivative=-0.1277, predicted=19.0 req/s (+300s)
2026-02-10 09:59:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.408, P=2.82, D=3487.45, output=3.00, delta=3
2026-02-10 09:59:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.8, predicted=19.0 | base=1, PD=+3, constrained=False
2026-02-10 09:59:46 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 09:59:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-10 10:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714015.912, '760988.3599329803']}]
2026-02-10 10:00:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 760988 bytes/s ‚Üí 190.2 req/s
2026-02-10 10:00:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 190.2 req/s | Replicas: 2
2026-02-10 10:00:15 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (190.2 > 30)
2026-02-10 10:00:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:00:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:00:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:00:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_190rps)
2026-02-10 10:00:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:00:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714016.197, '745843.81412798']}]
2026-02-10 10:00:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 745844 bytes/s ‚Üí 186.5 req/s
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:143 | Current traffic: 186.5 req/s
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.753, capacity=20, latency=113ms
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.733, capacity=20, latency=112ms
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.771, capacity=20, latency=117ms
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:00:16 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:00:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.771)
2026-02-10 10:00:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.753)
2026-02-10 10:00:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.733)
2026-02-10 10:00:16 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 119ms (collection=119ms, winner_det=0ms)
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.771)
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.753)
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.733)
2026-02-10 10:00:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:00:16 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.6 req/s, derivative=-0.1663, predicted=11.7 req/s (+300s)
2026-02-10 10:00:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.985, P=5.97, D=7.83, output=3.00, delta=3
2026-02-10 10:00:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=46.6, predicted=11.7 | base=1, PD=+3, constrained=False
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:00:16 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 10:00:16 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.6 req/s, derivative=-0.1662, predicted=11.7 req/s (+300s)
2026-02-10 10:00:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.981, P=5.96, D=-5.87, output=0.09, delta=0
2026-02-10 10:00:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.6, predicted=11.7 | base=1, PD=+0, constrained=True
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:00:16 | INFO     | src.level2.predictor:predict:166 | Prediction: current=93.2 req/s, derivative=-0.0127, predicted=90.6 req/s (+300s)
2026-02-10 10:00:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.030, P=0.06, D=-9250.60, output=-3.00, delta=-3
2026-02-10 10:00:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=93.2, predicted=90.6 | base=2, PD=-3, constrained=True
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:00:16 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:00:16 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-10 10:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714046.185, '883208.7494097522']}]
2026-02-10 10:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 883209 bytes/s ‚Üí 220.8 req/s
2026-02-10 10:00:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 220.8 req/s | Replicas: 4
2026-02-10 10:00:46 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (220.8 > 30)
2026-02-10 10:00:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:00:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_221rps)
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714046.524, '882991.4376926008']}]
2026-02-10 10:00:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 882991 bytes/s ‚Üí 220.7 req/s
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:143 | Current traffic: 220.7 req/s
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.714, capacity=20, latency=86ms
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.694, capacity=20, latency=86ms
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=89ms
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:00:46 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 10:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.714)
2026-02-10 10:00:46 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.694)
2026-02-10 10:00:46 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.714)
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.694)
2026-02-10 10:00:46 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:00:46 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.3 req/s, derivative=0.1417, predicted=101.0 req/s (+300s)
2026-02-10 10:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=-0.77, output=-1.03, delta=-1
2026-02-10 10:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=88.3, predicted=101.0 | base=2, PD=-1, constrained=True
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:00:46 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:00:46 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.3 req/s, derivative=0.1416, predicted=101.0 req/s (+300s)
2026-02-10 10:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.05, output=-0.20, delta=0
2026-02-10 10:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=88.3, predicted=101.0 | base=2, PD=+0, constrained=False
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:00:46 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=-0.0037, predicted=43.4 req/s (+300s)
2026-02-10 10:00:46 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.018, P=0.04, D=389.89, output=3.00, delta=3
2026-02-10 10:00:46 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.1, predicted=43.4 | base=1, PD=+3, constrained=False
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:00:46 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:00:46 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-10 10:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714076.522, '874448.6667661183']}]
2026-02-10 10:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 874449 bytes/s ‚Üí 218.6 req/s
2026-02-10 10:01:16 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 218.6 req/s | Replicas: 2
2026-02-10 10:01:16 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (218.6 > 30)
2026-02-10 10:01:16 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:01:16 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_219rps)
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714076.824, '874406.7944540944']}]
2026-02-10 10:01:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 874407 bytes/s ‚Üí 218.6 req/s
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:143 | Current traffic: 218.6 req/s
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=96ms
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=95ms
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=111ms
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:01:16 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 10:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.764)
2026-02-10 10:01:16 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.748)
2026-02-10 10:01:16 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 194ms (collection=192ms, winner_det=2ms)
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.764)
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.748)
2026-02-10 10:01:16 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:01:16 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.4 req/s, derivative=-0.0495, predicted=77.0 req/s (+300s)
2026-02-10 10:01:16 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.135, P=0.27, D=0.58, output=0.85, delta=1
2026-02-10 10:01:16 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=87.4, predicted=77.0 | base=2, PD=+1, constrained=False
2026-02-10 10:01:16 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 10:01:16 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 10:01:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.4 req/s, derivative=-0.0495, predicted=77.0 req/s (+300s)
2026-02-10 10:01:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.135, P=0.27, D=-0.08, output=0.19, delta=0
2026-02-10 10:01:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=87.4, predicted=77.0 | base=2, PD=+0, constrained=False
2026-02-10 10:01:17 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:01:17 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:01:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.7 req/s, derivative=-0.1933, predicted=3.1 req/s (+300s)
2026-02-10 10:01:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=12.988, P=25.98, D=21173.63, output=3.00, delta=3
2026-02-10 10:01:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.7, predicted=3.1 | base=1, PD=+3, constrained=False
2026-02-10 10:01:17 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:01:17 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:01:17 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.72s
2026-02-10 10:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714106.801, '666343.6862275513']}]
2026-02-10 10:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 666344 bytes/s ‚Üí 166.6 req/s
2026-02-10 10:01:46 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 166.6 req/s | Replicas: 3
2026-02-10 10:01:46 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (166.6 > 30)
2026-02-10 10:01:46 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:01:46 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:01:46 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:01:46 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_167rps)
2026-02-10 10:01:46 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714107.079, '662523.4298802201']}]
2026-02-10 10:01:46 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 662523 bytes/s ‚Üí 165.6 req/s
2026-02-10 10:01:46 | INFO     | __main__:schedule_service:143 | Current traffic: 165.6 req/s
2026-02-10 10:01:46 | INFO     | __main__:schedule_service:151 | Total replicas needed: 3
2026-02-10 10:01:46 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 3 replicas
2026-02-10 10:01:46 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.774, capacity=20, latency=87ms
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.685, capacity=20, latency=88ms
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.705, capacity=20, latency=103ms
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:01:47 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 3 replicas among 3 clusters
2026-02-10 10:01:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=33.3%, score=0.774)
2026-02-10 10:01:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=33.3%, score=0.705)
2026-02-10 10:01:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=33.3%, score=0.685)
2026-02-10 10:01:47 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 3 replicas across 3 clusters
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=104ms, winner_det=1ms)
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 3 replicas across 3 clusters:
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=33.33%, score=0.774)
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=33.33%, score=0.705)
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=33.33%, score=0.685)
2026-02-10 10:01:47 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-10 10:01:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.2 req/s, derivative=0.0288, predicted=57.8 req/s (+300s)
2026-02-10 10:01:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.045, P=-0.09, D=-65.20, output=-3.00, delta=-3
2026-02-10 10:01:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=55.2, predicted=57.8 | base=1, PD=-3, constrained=True
2026-02-10 10:01:47 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 10:01:47 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:01:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.2 req/s, derivative=0.0288, predicted=57.8 req/s (+300s)
2026-02-10 10:01:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.045, P=-0.09, D=0.02, output=-0.07, delta=0
2026-02-10 10:01:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=55.2, predicted=57.8 | base=1, PD=+0, constrained=True
2026-02-10 10:01:47 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:01:47 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:01:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=55.2 req/s, derivative=0.0287, predicted=57.8 req/s (+300s)
2026-02-10 10:01:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.045, P=-0.09, D=0.02, output=-0.07, delta=0
2026-02-10 10:01:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=55.2, predicted=57.8 | base=1, PD=+0, constrained=True
2026-02-10 10:01:47 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:01:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 10:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714137.101, '901115.5887602348']}]
2026-02-10 10:02:16 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 901116 bytes/s ‚Üí 225.3 req/s
2026-02-10 10:02:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 225.3 req/s | Replicas: 2
2026-02-10 10:02:17 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (225.3 > 30)
2026-02-10 10:02:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:02:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_225rps)
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:02:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714137.377, '901091.6319655783']}]
2026-02-10 10:02:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 901092 bytes/s ‚Üí 225.3 req/s
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:143 | Current traffic: 225.3 req/s
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=86ms
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.730, capacity=20, latency=86ms
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.748, capacity=20, latency=86ms
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:02:17 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:02:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.763)
2026-02-10 10:02:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.748)
2026-02-10 10:02:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.730)
2026-02-10 10:02:17 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.763)
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.748)
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.730)
2026-02-10 10:02:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:02:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.1 req/s, derivative=0.1444, predicted=103.1 req/s (+300s)
2026-02-10 10:02:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=-0.40, output=-0.66, delta=-1
2026-02-10 10:02:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.1, predicted=103.1 | base=2, PD=-1, constrained=True
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:02:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.1 req/s, derivative=0.1444, predicted=103.1 req/s (+300s)
2026-02-10 10:02:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.06, output=-0.20, delta=0
2026-02-10 10:02:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.1, predicted=103.1 | base=2, PD=+0, constrained=False
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:02:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=-0.0039, predicted=44.2 req/s (+300s)
2026-02-10 10:02:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.019, P=0.04, D=536.18, output=3.00, delta=3
2026-02-10 10:02:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.1, predicted=44.2 | base=1, PD=+3, constrained=False
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:02:17 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:02:17 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-10 10:02:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714167.376, '696130.6261314508']}]
2026-02-10 10:02:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 696131 bytes/s ‚Üí 174.0 req/s
2026-02-10 10:02:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 174.0 req/s | Replicas: 2
2026-02-10 10:02:47 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (174.0 > 30)
2026-02-10 10:02:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:02:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_174rps)
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:02:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714167.638, '692293.481270863']}]
2026-02-10 10:02:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 692293 bytes/s ‚Üí 173.1 req/s
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:143 | Current traffic: 173.1 req/s
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.755, capacity=20, latency=85ms
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.735, capacity=20, latency=84ms
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.808, capacity=20, latency=105ms
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:02:47 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:02:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.808)
2026-02-10 10:02:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.755)
2026-02-10 10:02:47 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.735)
2026-02-10 10:02:47 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.808)
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.755)
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.735)
2026-02-10 10:02:47 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:02:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=-0.0047, predicted=42.3 req/s (+300s)
2026-02-10 10:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.023, P=0.05, D=0.02, output=0.07, delta=0
2026-02-10 10:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=43.3, predicted=42.3 | base=1, PD=+0, constrained=True
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:02:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=-0.0047, predicted=42.3 req/s (+300s)
2026-02-10 10:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.023, P=0.05, D=-0.01, output=0.03, delta=0
2026-02-10 10:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=43.3, predicted=42.3 | base=1, PD=+0, constrained=True
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:02:47 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:02:47 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=0.1377, predicted=98.9 req/s (+300s)
2026-02-10 10:02:47 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.125, P=-0.25, D=-264.34, output=-3.00, delta=-3
2026-02-10 10:02:47 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.5, predicted=98.9 | base=2, PD=-3, constrained=True
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:02:47 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-10 10:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714197.665, '922103.3334622477']}]
2026-02-10 10:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 922103 bytes/s ‚Üí 230.5 req/s
2026-02-10 10:03:17 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 230.5 req/s | Replicas: 2
2026-02-10 10:03:17 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (230.5 > 30)
2026-02-10 10:03:17 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:03:17 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_231rps)
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714197.942, '922103.3334622477']}]
2026-02-10 10:03:17 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 922103 bytes/s ‚Üí 230.5 req/s
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:143 | Current traffic: 230.5 req/s
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.764, capacity=20, latency=86ms
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=86ms
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.762, capacity=20, latency=85ms
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:03:17 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.764)
2026-02-10 10:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.762)
2026-02-10 10:03:17 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.747)
2026-02-10 10:03:17 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.764)
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.762)
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.747)
2026-02-10 10:03:17 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:03:17 | INFO     | src.level2.predictor:predict:166 | Prediction: current=92.2 req/s, derivative=-0.0039, predicted=91.4 req/s (+300s)
2026-02-10 10:03:17 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.009, P=0.02, D=0.67, output=0.69, delta=1
2026-02-10 10:03:17 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=92.2, predicted=91.4 | base=2, PD=+1, constrained=False
2026-02-10 10:03:17 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 10:03:17 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 10:03:18 | INFO     | src.level2.predictor:predict:166 | Prediction: current=92.2 req/s, derivative=-0.0039, predicted=91.4 req/s (+300s)
2026-02-10 10:03:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.009, P=0.02, D=-0.00, output=0.01, delta=0
2026-02-10 10:03:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=92.2, predicted=91.4 | base=2, PD=+0, constrained=False
2026-02-10 10:03:18 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:03:18 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.1 req/s, derivative=-0.1556, predicted=13.4 req/s (+300s)
2026-02-10 10:03:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.434, P=4.87, D=9160.57, output=3.00, delta=3
2026-02-10 10:03:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=46.1, predicted=13.4 | base=1, PD=+3, constrained=False
2026-02-10 10:03:18 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:03:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:03:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 10:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714227.947, '845198.1409184448']}]
2026-02-10 10:03:47 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 845198 bytes/s ‚Üí 211.3 req/s
2026-02-10 10:03:47 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 211.3 req/s | Replicas: 3
2026-02-10 10:03:47 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (211.3 > 30)
2026-02-10 10:03:47 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:03:47 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:03:47 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:03:47 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_211rps)
2026-02-10 10:03:47 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:03:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714228.227, '845193.2380884228']}]
2026-02-10 10:03:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 845193 bytes/s ‚Üí 211.3 req/s
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:143 | Current traffic: 211.3 req/s
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.802, capacity=20, latency=86ms
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.732, capacity=20, latency=85ms
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.712, capacity=20, latency=85ms
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:03:48 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:03:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.802)
2026-02-10 10:03:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.732)
2026-02-10 10:03:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.712)
2026-02-10 10:03:48 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.802)
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.732)
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.712)
2026-02-10 10:03:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:03:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.5 req/s, derivative=0.1297, predicted=96.2 req/s (+300s)
2026-02-10 10:03:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.121, P=-0.24, D=-12.71, output=-3.00, delta=-3
2026-02-10 10:03:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=84.5, predicted=96.2 | base=2, PD=-3, constrained=True
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 10:03:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:03:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.5 req/s, derivative=0.1297, predicted=96.2 req/s (+300s)
2026-02-10 10:03:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.121, P=-0.24, D=0.05, output=-0.19, delta=0
2026-02-10 10:03:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=84.5, predicted=96.2 | base=2, PD=+0, constrained=False
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:03:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:03:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.3 req/s, derivative=-0.0094, predicted=40.3 req/s (+300s)
2026-02-10 10:03:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.049, P=0.10, D=307.83, output=3.00, delta=3
2026-02-10 10:03:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=42.3, predicted=40.3 | base=1, PD=+3, constrained=False
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:03:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:03:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.59s
2026-02-10 10:04:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714258.227, '889767.9788367448']}]
2026-02-10 10:04:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 889768 bytes/s ‚Üí 222.4 req/s
2026-02-10 10:04:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 222.4 req/s | Replicas: 2
2026-02-10 10:04:18 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (222.4 > 30)
2026-02-10 10:04:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:04:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_222rps)
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:04:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714258.507, '889714.0756758985']}]
2026-02-10 10:04:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 889714 bytes/s ‚Üí 222.4 req/s
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:143 | Current traffic: 222.4 req/s
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.730, capacity=20, latency=83ms
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=85ms
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.748, capacity=20, latency=110ms
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:04:18 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:04:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.763)
2026-02-10 10:04:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.748)
2026-02-10 10:04:18 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.730)
2026-02-10 10:04:18 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=111ms, winner_det=0ms)
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.763)
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.748)
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.730)
2026-02-10 10:04:18 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:04:18 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.0 req/s, derivative=0.1454, predicted=102.1 req/s (+300s)
2026-02-10 10:04:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=-0.88, output=-1.14, delta=-1
2026-02-10 10:04:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=89.0, predicted=102.1 | base=2, PD=-1, constrained=True
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:04:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:04:18 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.0 req/s, derivative=0.1454, predicted=102.1 req/s (+300s)
2026-02-10 10:04:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 10:04:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.0, predicted=102.1 | base=2, PD=+0, constrained=False
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:04:18 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.5 req/s, derivative=-0.0010, predicted=44.3 req/s (+300s)
2026-02-10 10:04:18 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.005, P=0.01, D=446.75, output=3.00, delta=3
2026-02-10 10:04:18 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.5, predicted=44.3 | base=1, PD=+3, constrained=False
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:04:18 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:04:18 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 10:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714288.502, '864804.1051125546']}]
2026-02-10 10:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 864804 bytes/s ‚Üí 216.2 req/s
2026-02-10 10:04:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 216.2 req/s | Replicas: 2
2026-02-10 10:04:48 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (216.2 > 30)
2026-02-10 10:04:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:04:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_216rps)
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714288.799, '864752.3710569122']}]
2026-02-10 10:04:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 864752 bytes/s ‚Üí 216.2 req/s
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:143 | Current traffic: 216.2 req/s
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=86ms
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.694, capacity=20, latency=85ms
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.714, capacity=20, latency=86ms
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:04:48 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 10:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.714)
2026-02-10 10:04:48 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.694)
2026-02-10 10:04:48 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=88ms, winner_det=1ms)
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.714)
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.694)
2026-02-10 10:04:48 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:04:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=0.1342, predicted=98.6 req/s (+300s)
2026-02-10 10:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.123, P=-0.25, D=-0.63, output=-0.88, delta=-1
2026-02-10 10:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.5, predicted=98.6 | base=2, PD=-1, constrained=True
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:04:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=0.1342, predicted=98.6 req/s (+300s)
2026-02-10 10:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.123, P=-0.25, D=0.05, output=-0.19, delta=0
2026-02-10 10:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=86.5, predicted=98.6 | base=2, PD=+0, constrained=False
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:04:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:04:48 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.2 req/s, derivative=-0.0086, predicted=41.4 req/s (+300s)
2026-02-10 10:04:48 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.044, P=0.09, D=275.17, output=3.00, delta=3
2026-02-10 10:04:48 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.2, predicted=41.4 | base=1, PD=+3, constrained=False
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:04:48 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:04:48 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714318.811, '858149.9952976914']}]
2026-02-10 10:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 858150 bytes/s ‚Üí 214.5 req/s
2026-02-10 10:05:18 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 214.5 req/s | Replicas: 2
2026-02-10 10:05:18 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (214.5 > 30)
2026-02-10 10:05:18 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:05:18 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:05:18 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:05:18 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_215rps)
2026-02-10 10:05:18 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714319.082, '858336.3573978149']}]
2026-02-10 10:05:18 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 858336 bytes/s ‚Üí 214.6 req/s
2026-02-10 10:05:18 | INFO     | __main__:schedule_service:143 | Current traffic: 214.6 req/s
2026-02-10 10:05:18 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:05:18 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:05:18 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=98ms
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=97ms
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.749, capacity=20, latency=98ms
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:05:19 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:05:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 10:05:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.764)
2026-02-10 10:05:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.749)
2026-02-10 10:05:19 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.764)
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.749)
2026-02-10 10:05:19 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:05:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=85.8 req/s, derivative=-0.0244, predicted=80.7 req/s (+300s)
2026-02-10 10:05:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.064, P=0.13, D=0.10, output=0.23, delta=0
2026-02-10 10:05:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=85.8, predicted=80.7 | base=2, PD=+0, constrained=False
2026-02-10 10:05:19 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:05:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=85.8 req/s, derivative=-0.0244, predicted=80.7 req/s (+300s)
2026-02-10 10:05:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.064, P=0.13, D=-0.03, output=0.09, delta=0
2026-02-10 10:05:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=85.8, predicted=80.7 | base=2, PD=+0, constrained=False
2026-02-10 10:05:19 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:05:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:05:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.9 req/s, derivative=-0.1661, predicted=8.0 req/s (+300s)
2026-02-10 10:05:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=4.347, P=8.69, D=7537.56, output=3.00, delta=3
2026-02-10 10:05:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=42.9, predicted=8.0 | base=1, PD=+3, constrained=False
2026-02-10 10:05:19 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:05:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:05:19 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714349.089, '749751.0698707462']}]
2026-02-10 10:05:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 749751 bytes/s ‚Üí 187.4 req/s
2026-02-10 10:05:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.4 req/s | Replicas: 2
2026-02-10 10:05:48 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.4 > 30)
2026-02-10 10:05:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:05:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:05:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:05:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_187rps)
2026-02-10 10:05:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:05:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714349.381, '753852.8057642453']}]
2026-02-10 10:05:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 753853 bytes/s ‚Üí 188.5 req/s
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:143 | Current traffic: 188.5 req/s
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.698, capacity=20, latency=84ms
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.718, capacity=20, latency=85ms
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.770, capacity=20, latency=89ms
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:05:49 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:05:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.770)
2026-02-10 10:05:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.718)
2026-02-10 10:05:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.698)
2026-02-10 10:05:49 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 92ms (collection=91ms, winner_det=1ms)
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.770)
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.718)
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.698)
2026-02-10 10:05:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:05:49 | INFO     | src.level2.predictor:predict:166 | Prediction: current=47.1 req/s, derivative=0.0098, predicted=48.0 req/s (+300s)
2026-02-10 10:05:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.018, P=-0.04, D=-21.71, output=-3.00, delta=-3
2026-02-10 10:05:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=47.1, predicted=48.0 | base=1, PD=-3, constrained=True
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:05:49 | INFO     | src.level2.predictor:predict:166 | Prediction: current=47.1 req/s, derivative=0.0098, predicted=48.0 req/s (+300s)
2026-02-10 10:05:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.018, P=-0.04, D=0.01, output=-0.03, delta=0
2026-02-10 10:05:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=47.1, predicted=48.0 | base=1, PD=+0, constrained=True
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:05:49 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:05:49 | INFO     | src.level2.predictor:predict:166 | Prediction: current=94.2 req/s, derivative=0.1654, predicted=109.1 req/s (+300s)
2026-02-10 10:05:49 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.136, P=-0.27, D=-209.33, output=-3.00, delta=-3
2026-02-10 10:05:49 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=94.2, predicted=109.1 | base=3, PD=-3, constrained=True
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:05:49 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:06:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714379.359, '848894.8713555061']}]
2026-02-10 10:06:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 848895 bytes/s ‚Üí 212.2 req/s
2026-02-10 10:06:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 212.2 req/s | Replicas: 2
2026-02-10 10:06:19 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (212.2 > 30)
2026-02-10 10:06:19 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:06:19 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_212rps)
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:06:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714379.649, '848843.33630627']}]
2026-02-10 10:06:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 848843 bytes/s ‚Üí 212.2 req/s
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:143 | Current traffic: 212.2 req/s
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.767, capacity=20, latency=85ms
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.749, capacity=20, latency=85ms
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.764, capacity=20, latency=84ms
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:06:19 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:06:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.767)
2026-02-10 10:06:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.764)
2026-02-10 10:06:19 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.749)
2026-02-10 10:06:19 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 87ms (collection=87ms, winner_det=0ms)
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.767)
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.764)
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.749)
2026-02-10 10:06:19 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:06:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.9 req/s, derivative=0.1361, predicted=97.1 req/s (+300s)
2026-02-10 10:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.05, output=-0.20, delta=0
2026-02-10 10:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.9, predicted=97.1 | base=2, PD=+0, constrained=False
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:06:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.9 req/s, derivative=0.1360, predicted=97.1 req/s (+300s)
2026-02-10 10:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.05, output=-0.20, delta=0
2026-02-10 10:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.9, predicted=97.1 | base=2, PD=+0, constrained=False
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:06:19 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.4 req/s, derivative=-0.0042, predicted=41.6 req/s (+300s)
2026-02-10 10:06:19 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.021, P=0.04, D=519.47, output=3.00, delta=3
2026-02-10 10:06:19 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=42.4, predicted=41.6 | base=1, PD=+3, constrained=False
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:06:19 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:06:19 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-10 10:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714409.66, '608329.5854501752']}]
2026-02-10 10:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 608330 bytes/s ‚Üí 152.1 req/s
2026-02-10 10:06:49 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 152.1 req/s | Replicas: 2
2026-02-10 10:06:49 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (152.1 > 30)
2026-02-10 10:06:49 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:06:49 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:06:49 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:06:49 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_152rps)
2026-02-10 10:06:49 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714409.991, '724692.6856408103']}]
2026-02-10 10:06:49 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 724693 bytes/s ‚Üí 181.2 req/s
2026-02-10 10:06:49 | INFO     | __main__:schedule_service:143 | Current traffic: 181.2 req/s
2026-02-10 10:06:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.807, capacity=20, latency=89ms
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.754, capacity=20, latency=88ms
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.734, capacity=20, latency=119ms
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:06:49 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:06:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.807)
2026-02-10 10:06:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.754)
2026-02-10 10:06:49 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.734)
2026-02-10 10:06:49 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 124ms (collection=123ms, winner_det=1ms)
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.807)
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.754)
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.734)
2026-02-10 10:06:49 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:06:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.3 req/s, derivative=-0.0328, predicted=38.4 req/s (+300s)
2026-02-10 10:06:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.179, P=0.36, D=0.78, output=1.14, delta=1
2026-02-10 10:06:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.3, predicted=38.4 | base=1, PD=+1, constrained=False
2026-02-10 10:06:50 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:06:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.3 req/s, derivative=-0.0327, predicted=38.4 req/s (+300s)
2026-02-10 10:06:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.179, P=0.36, D=-0.10, output=0.25, delta=0
2026-02-10 10:06:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=45.3, predicted=38.4 | base=1, PD=+0, constrained=True
2026-02-10 10:06:50 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:06:50 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:06:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.6 req/s, derivative=0.1168, predicted=101.1 req/s (+300s)
2026-02-10 10:06:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.104, P=-0.21, D=-519.39, output=-3.00, delta=-3
2026-02-10 10:06:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.6, predicted=101.1 | base=2, PD=-3, constrained=True
2026-02-10 10:06:50 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:06:50 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-10 10:07:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714439.936, '750380.4682333734']}]
2026-02-10 10:07:19 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 750380 bytes/s ‚Üí 187.6 req/s
2026-02-10 10:07:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.6 req/s | Replicas: 2
2026-02-10 10:07:19 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.6 > 30)
2026-02-10 10:07:19 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:07:19 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:07:19 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:07:19 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_188rps)
2026-02-10 10:07:19 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:07:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714440.224, '746010.0784341389']}]
2026-02-10 10:07:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 746010 bytes/s ‚Üí 186.5 req/s
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:143 | Current traffic: 186.5 req/s
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.771, capacity=20, latency=85ms
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.753, capacity=20, latency=86ms
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.768, capacity=20, latency=99ms
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:07:20 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:07:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.771)
2026-02-10 10:07:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=25.0%, score=0.768)
2026-02-10 10:07:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=50.0%, score=0.753)
2026-02-10 10:07:20 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=102ms, winner_det=1ms)
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.771)
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=25.00%, score=0.768)
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=50.00%, score=0.753)
2026-02-10 10:07:20 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:07:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.6 req/s, derivative=0.0052, predicted=47.1 req/s (+300s)
2026-02-10 10:07:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.010, P=-0.02, D=0.47, output=0.45, delta=0
2026-02-10 10:07:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.6, predicted=47.1 | base=1, PD=+0, constrained=True
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:07:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=46.6 req/s, derivative=0.0052, predicted=47.1 req/s (+300s)
2026-02-10 10:07:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.010, P=-0.02, D=0.00, output=-0.01, delta=0
2026-02-10 10:07:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=46.6, predicted=47.1 | base=1, PD=+0, constrained=True
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:07:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=93.3 req/s, derivative=0.1591, predicted=107.6 req/s (+300s)
2026-02-10 10:07:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=-399.13, output=-3.00, delta=-3
2026-02-10 10:07:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=93.3, predicted=107.6 | base=2, PD=-3, constrained=True
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:07:20 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-10 10:07:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714470.21, '835667.6648328723']}]
2026-02-10 10:07:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 835668 bytes/s ‚Üí 208.9 req/s
2026-02-10 10:07:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 208.9 req/s | Replicas: 2
2026-02-10 10:07:50 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (208.9 > 30)
2026-02-10 10:07:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:07:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_209rps)
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:07:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714470.487, '706256.6936363059']}]
2026-02-10 10:07:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 706257 bytes/s ‚Üí 176.6 req/s
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:143 | Current traffic: 176.6 req/s
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.808, capacity=20, latency=79ms
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.770, capacity=20, latency=79ms
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.790, capacity=20, latency=79ms
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:07:50 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:07:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.808)
2026-02-10 10:07:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.790)
2026-02-10 10:07:50 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.770)
2026-02-10 10:07:50 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 95ms (collection=79ms, winner_det=16ms)
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.808)
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.790)
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.770)
2026-02-10 10:07:50 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:07:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=-0.1401, predicted=14.7 req/s (+300s)
2026-02-10 10:07:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.997, P=3.99, D=10.60, output=3.00, delta=3
2026-02-10 10:07:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.1, predicted=14.7 | base=1, PD=+3, constrained=False
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:07:50 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 10:07:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=-0.1400, predicted=14.7 req/s (+300s)
2026-02-10 10:07:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.995, P=3.99, D=-2.96, output=1.03, delta=1
2026-02-10 10:07:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.1, predicted=14.7 | base=1, PD=+1, constrained=False
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:07:50 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.3 req/s, derivative=0.0058, predicted=88.8 req/s (+300s)
2026-02-10 10:07:50 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.006, P=-0.01, D=-8270.57, output=-3.00, delta=-3
2026-02-10 10:07:50 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=88.3, predicted=88.8 | base=2, PD=-3, constrained=True
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:07:50 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-10 10:08:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714500.503, '739473.8853063502']}]
2026-02-10 10:08:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 739474 bytes/s ‚Üí 184.9 req/s
2026-02-10 10:08:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 184.9 req/s | Replicas: 4
2026-02-10 10:08:20 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (184.9 > 30)
2026-02-10 10:08:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:08:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_185rps)
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:08:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714500.802, '735009.4701013946']}]
2026-02-10 10:08:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 735009 bytes/s ‚Üí 183.8 req/s
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:143 | Current traffic: 183.8 req/s
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.806, capacity=20, latency=89ms
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.753, capacity=20, latency=88ms
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.733, capacity=20, latency=97ms
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:08:20 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:08:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.806)
2026-02-10 10:08:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.753)
2026-02-10 10:08:20 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.733)
2026-02-10 10:08:20 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=100ms, winner_det=0ms)
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.806)
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.753)
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.733)
2026-02-10 10:08:20 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:08:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.9 req/s, derivative=-0.0006, predicted=45.8 req/s (+300s)
2026-02-10 10:08:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.003, P=0.01, D=0.04, output=0.05, delta=0
2026-02-10 10:08:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=45.9, predicted=45.8 | base=1, PD=+0, constrained=True
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:08:20 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:08:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.9 req/s, derivative=-0.0006, predicted=45.8 req/s (+300s)
2026-02-10 10:08:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.003, P=0.01, D=-0.00, output=0.00, delta=0
2026-02-10 10:08:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.9, predicted=45.8 | base=1, PD=+0, constrained=True
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:08:20 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.9 req/s, derivative=0.1511, predicted=105.5 req/s (+300s)
2026-02-10 10:08:20 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.129, P=-0.26, D=-460.64, output=-3.00, delta=-3
2026-02-10 10:08:20 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.9, predicted=105.5 | base=2, PD=-3, constrained=True
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:08:20 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-10 10:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714530.799, '907965.2747929936']}]
2026-02-10 10:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 907965 bytes/s ‚Üí 227.0 req/s
2026-02-10 10:08:50 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 227.0 req/s | Replicas: 2
2026-02-10 10:08:50 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (227.0 > 30)
2026-02-10 10:08:50 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:08:50 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:08:50 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:08:50 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_227rps)
2026-02-10 10:08:50 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714531.076, '907971.0741048472']}]
2026-02-10 10:08:50 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 907971 bytes/s ‚Üí 227.0 req/s
2026-02-10 10:08:50 | INFO     | __main__:schedule_service:143 | Current traffic: 227.0 req/s
2026-02-10 10:08:50 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:08:50 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:08:50 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.762, capacity=20, latency=86ms
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.782, capacity=20, latency=86ms
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=97ms
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:08:51 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:08:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.782)
2026-02-10 10:08:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 10:08:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.762)
2026-02-10 10:08:51 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=99ms, winner_det=1ms)
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.782)
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.762)
2026-02-10 10:08:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:08:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.8 req/s, derivative=0.1604, predicted=105.2 req/s (+300s)
2026-02-10 10:08:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.137, P=-0.27, D=-0.04, output=-0.32, delta=0
2026-02-10 10:08:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.8, predicted=105.2 | base=2, PD=+0, constrained=False
2026-02-10 10:08:51 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:08:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.8 req/s, derivative=0.1603, predicted=105.2 req/s (+300s)
2026-02-10 10:08:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.137, P=-0.27, D=0.06, output=-0.22, delta=0
2026-02-10 10:08:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.8, predicted=105.2 | base=2, PD=+0, constrained=False
2026-02-10 10:08:51 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:08:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.4 req/s, derivative=0.0104, predicted=46.3 req/s (+300s)
2026-02-10 10:08:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.04, D=358.23, output=3.00, delta=3
2026-02-10 10:08:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.4, predicted=46.3 | base=1, PD=+3, constrained=False
2026-02-10 10:08:51 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:08:51 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:08:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 10:09:20 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714561.074, '902386.2882258951']}]
2026-02-10 10:09:20 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 902386 bytes/s ‚Üí 225.6 req/s
2026-02-10 10:09:20 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 225.6 req/s | Replicas: 2
2026-02-10 10:09:20 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (225.6 > 30)
2026-02-10 10:09:20 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:09:20 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:09:20 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:09:20 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_226rps)
2026-02-10 10:09:20 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714561.345, '902394.252882479']}]
2026-02-10 10:09:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 902394 bytes/s ‚Üí 225.6 req/s
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:143 | Current traffic: 225.6 req/s
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.763, capacity=20, latency=85ms
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.783, capacity=20, latency=86ms
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=111ms
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:09:21 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:09:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 10:09:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.783)
2026-02-10 10:09:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.763)
2026-02-10 10:09:21 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 113ms (collection=112ms, winner_det=1ms)
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.783)
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.763)
2026-02-10 10:09:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:09:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.2 req/s, derivative=0.1512, predicted=103.8 req/s (+300s)
2026-02-10 10:09:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=-0.55, output=-0.81, delta=-1
2026-02-10 10:09:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.2, predicted=103.8 | base=2, PD=-1, constrained=True
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:09:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=90.2 req/s, derivative=0.1511, predicted=103.8 req/s (+300s)
2026-02-10 10:09:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.131, P=-0.26, D=0.06, output=-0.21, delta=0
2026-02-10 10:09:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=90.2, predicted=103.8 | base=2, PD=+0, constrained=False
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:09:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.1 req/s, derivative=0.0021, predicted=45.3 req/s (+300s)
2026-02-10 10:09:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.004, P=-0.01, D=453.34, output=3.00, delta=3
2026-02-10 10:09:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=45.1, predicted=45.3 | base=1, PD=+3, constrained=False
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 10:09:21 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-10 10:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714591.344, '893347.7121278855']}]
2026-02-10 10:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 893348 bytes/s ‚Üí 223.3 req/s
2026-02-10 10:09:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 223.3 req/s | Replicas: 2
2026-02-10 10:09:51 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (223.3 > 30)
2026-02-10 10:09:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:09:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714591.608, '893397.8589646738']}]
2026-02-10 10:09:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 893398 bytes/s ‚Üí 223.3 req/s
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:143 | Current traffic: 223.3 req/s
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.765, capacity=20, latency=93ms
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=92ms
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=93ms
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:09:51 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:09:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.765)
2026-02-10 10:09:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-10 10:09:51 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 10:09:51 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=94ms, winner_det=0ms)
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.765)
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 10:09:51 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:09:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.3 req/s, derivative=0.1523, predicted=103.0 req/s (+300s)
2026-02-10 10:09:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=-0.64, output=-0.91, delta=-1
2026-02-10 10:09:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.3, predicted=103.0 | base=2, PD=-1, constrained=True
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:09:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.3 req/s, derivative=0.1523, predicted=103.0 req/s (+300s)
2026-02-10 10:09:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.133, P=-0.27, D=0.06, output=-0.21, delta=0
2026-02-10 10:09:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.3, predicted=103.0 | base=2, PD=+0, constrained=False
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:09:51 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.7 req/s, derivative=0.0047, predicted=45.1 req/s (+300s)
2026-02-10 10:09:51 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.009, P=-0.02, D=212.90, output=3.00, delta=3
2026-02-10 10:09:51 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.7, predicted=45.1 | base=1, PD=+3, constrained=False
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 10:09:51 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-10 10:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714621.63, '675469.6464861796']}]
2026-02-10 10:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 675470 bytes/s ‚Üí 168.9 req/s
2026-02-10 10:10:21 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 168.9 req/s | Replicas: 2
2026-02-10 10:10:21 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (168.9 > 30)
2026-02-10 10:10:21 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 10:10:21 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_169rps)
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714621.901, '671590.6830032541']}]
2026-02-10 10:10:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 671591 bytes/s ‚Üí 167.9 req/s
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:143 | Current traffic: 167.9 req/s
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.774, capacity=20, latency=89ms
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.736, capacity=20, latency=88ms
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.756, capacity=20, latency=111ms
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:10:21 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:10:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.774)
2026-02-10 10:10:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.756)
2026-02-10 10:10:21 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.736)
2026-02-10 10:10:21 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 114ms (collection=114ms, winner_det=0ms)
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.774)
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.756)
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.736)
2026-02-10 10:10:21 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:10:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.0 req/s, derivative=-0.0031, predicted=41.3 req/s (+300s)
2026-02-10 10:10:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=0.13, output=0.16, delta=0
2026-02-10 10:10:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.0, predicted=41.3 | base=1, PD=+0, constrained=True
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:10:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.0 req/s, derivative=-0.0031, predicted=41.3 req/s (+300s)
2026-02-10 10:10:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-10 10:10:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.0, predicted=41.3 | base=1, PD=+0, constrained=True
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:10:21 | INFO     | src.level2.predictor:predict:166 | Prediction: current=83.9 req/s, derivative=0.1355, predicted=96.1 req/s (+300s)
2026-02-10 10:10:21 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.127, P=-0.25, D=-496.17, output=-3.00, delta=-3
2026-02-10 10:10:21 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=83.9, predicted=96.1 | base=2, PD=-3, constrained=True
2026-02-10 10:10:21 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:10:22 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:10:22 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-10 10:10:51 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714651.901, '873373.2347510634']}]
2026-02-10 10:10:51 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 873373 bytes/s ‚Üí 218.3 req/s
2026-02-10 10:10:51 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 218.3 req/s | Replicas: 2
2026-02-10 10:10:51 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (218.3 > 30)
2026-02-10 10:10:51 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:10:51 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:10:51 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:10:51 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_218rps)
2026-02-10 10:10:51 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714652.187, '873325.5235808579']}]
2026-02-10 10:10:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 873326 bytes/s ‚Üí 218.3 req/s
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:143 | Current traffic: 218.3 req/s
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=89ms
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=90ms
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=92ms
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:10:52 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:10:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 10:10:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-10 10:10:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-10 10:10:52 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-10 10:10:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:10:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.3 req/s, derivative=-0.0228, predicted=82.5 req/s (+300s)
2026-02-10 10:10:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.058, P=0.12, D=0.92, output=1.03, delta=1
2026-02-10 10:10:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=87.3, predicted=82.5 | base=2, PD=+1, constrained=False
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-10 10:10:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-10 10:10:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.3 req/s, derivative=-0.0228, predicted=82.5 req/s (+300s)
2026-02-10 10:10:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.058, P=0.12, D=-0.03, output=0.09, delta=0
2026-02-10 10:10:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.3, predicted=82.5 | base=2, PD=+0, constrained=False
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:10:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.7 req/s, derivative=-0.1670, predicted=8.6 req/s (+300s)
2026-02-10 10:10:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=4.081, P=8.16, D=13283.67, output=3.00, delta=3
2026-02-10 10:10:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.7, predicted=8.6 | base=1, PD=+3, constrained=False
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:10:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:10:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714682.192, '595794.2001417913']}]
2026-02-10 10:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 595794 bytes/s ‚Üí 148.9 req/s
2026-02-10 10:11:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 148.9 req/s | Replicas: 3
2026-02-10 10:11:22 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (148.9 > 30)
2026-02-10 10:11:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:11:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_149rps)
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714682.493, '728510.7709465063']}]
2026-02-10 10:11:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 728511 bytes/s ‚Üí 182.1 req/s
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:143 | Current traffic: 182.1 req/s
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.754, capacity=20, latency=83ms
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.771, capacity=20, latency=85ms
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.751, capacity=20, latency=83ms
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:11:22 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:11:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.771)
2026-02-10 10:11:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.754)
2026-02-10 10:11:22 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.751)
2026-02-10 10:11:22 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.771)
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.754)
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.751)
2026-02-10 10:11:22 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:11:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.5 req/s, derivative=0.0102, predicted=46.5 req/s (+300s)
2026-02-10 10:11:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.04, D=-20.39, output=-3.00, delta=-3
2026-02-10 10:11:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.5, predicted=46.5 | base=1, PD=-3, constrained=True
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:11:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.5 req/s, derivative=0.0102, predicted=46.5 req/s (+300s)
2026-02-10 10:11:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.04, D=0.01, output=-0.03, delta=0
2026-02-10 10:11:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=45.5, predicted=46.5 | base=1, PD=+0, constrained=True
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 2 (Œî=-1)
2026-02-10 10:11:22 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:11:22 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.1 req/s, derivative=0.1605, predicted=105.5 req/s (+300s)
2026-02-10 10:11:22 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.137, P=-0.27, D=-206.98, output=-3.00, delta=-3
2026-02-10 10:11:22 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=91.1, predicted=105.5 | base=2, PD=-3, constrained=True
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:11:22 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:11:22 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714712.485, '712240.0345366776']}]
2026-02-10 10:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 712240 bytes/s ‚Üí 178.1 req/s
2026-02-10 10:11:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 178.1 req/s | Replicas: 2
2026-02-10 10:11:52 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (178.1 > 30)
2026-02-10 10:11:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:11:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_178rps)
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714712.807, '794713.2253442404']}]
2026-02-10 10:11:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 794713 bytes/s ‚Üí 198.7 req/s
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:143 | Current traffic: 198.7 req/s
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.804, capacity=20, latency=89ms
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.734, capacity=20, latency=92ms
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.731, capacity=20, latency=91ms
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:11:52 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:11:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.804)
2026-02-10 10:11:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.734)
2026-02-10 10:11:52 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.731)
2026-02-10 10:11:52 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=95ms, winner_det=1ms)
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.804)
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.734)
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.731)
2026-02-10 10:11:52 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:11:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=49.7 req/s, derivative=-0.1352, predicted=21.3 req/s (+300s)
2026-02-10 10:11:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.334, P=2.67, D=7.31, output=3.00, delta=3
2026-02-10 10:11:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=49.7, predicted=21.3 | base=1, PD=+3, constrained=False
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:11:52 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-10 10:11:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=49.7 req/s, derivative=-0.1352, predicted=21.3 req/s (+300s)
2026-02-10 10:11:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.333, P=2.67, D=-1.56, output=1.10, delta=1
2026-02-10 10:11:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=49.7, predicted=21.3 | base=1, PD=+1, constrained=False
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:11:52 | INFO     | src.level2.predictor:predict:166 | Prediction: current=99.3 req/s, derivative=0.0289, predicted=101.9 req/s (+300s)
2026-02-10 10:11:52 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.026, P=-0.05, D=-4523.64, output=-3.00, delta=-3
2026-02-10 10:11:52 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=99.3, predicted=101.9 | base=2, PD=-3, constrained=True
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:11:52 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 10:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714742.8, '914860.8242025226']}]
2026-02-10 10:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 914861 bytes/s ‚Üí 228.7 req/s
2026-02-10 10:12:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 228.7 req/s | Replicas: 4
2026-02-10 10:12:22 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (228.7 > 30)
2026-02-10 10:12:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:12:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:12:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:12:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_229rps)
2026-02-10 10:12:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714743.099, '914542.2712935967']}]
2026-02-10 10:12:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 914542 bytes/s ‚Üí 228.6 req/s
2026-02-10 10:12:22 | INFO     | __main__:schedule_service:143 | Current traffic: 228.6 req/s
2026-02-10 10:12:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:12:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:12:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=94ms
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=96ms
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.764, capacity=20, latency=97ms
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:12:23 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:12:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.764)
2026-02-10 10:12:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 10:12:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 10:12:23 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 99ms (collection=98ms, winner_det=1ms)
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.764)
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 10:12:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:12:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.5 req/s, derivative=-0.0059, predicted=90.2 req/s (+300s)
2026-02-10 10:12:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=0.20, output=0.22, delta=0
2026-02-10 10:12:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=91.5, predicted=90.2 | base=2, PD=+0, constrained=False
2026-02-10 10:12:23 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:12:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-10 10:12:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=91.5 req/s, derivative=-0.0059, predicted=90.2 req/s (+300s)
2026-02-10 10:12:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-10 10:12:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=91.5, predicted=90.2 | base=2, PD=+0, constrained=False
2026-02-10 10:12:23 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:12:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.7 req/s, derivative=-0.1569, predicted=12.8 req/s (+300s)
2026-02-10 10:12:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.578, P=5.16, D=8466.84, output=3.00, delta=3
2026-02-10 10:12:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=45.7, predicted=12.8 | base=1, PD=+3, constrained=False
2026-02-10 10:12:23 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:12:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:12:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-10 10:12:52 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714773.073, '700530.1992036494']}]
2026-02-10 10:12:52 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 700530 bytes/s ‚Üí 175.1 req/s
2026-02-10 10:12:52 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 175.1 req/s | Replicas: 2
2026-02-10 10:12:52 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (175.1 > 30)
2026-02-10 10:12:52 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:12:52 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:12:52 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:12:52 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_175rps)
2026-02-10 10:12:52 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:12:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714773.35, '706201.5661922254']}]
2026-02-10 10:12:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 706202 bytes/s ‚Üí 176.6 req/s
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:143 | Current traffic: 176.6 req/s
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 4
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 4 replicas
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.770, capacity=20, latency=86ms
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.772, capacity=20, latency=87ms
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.790, capacity=20, latency=100ms
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:12:53 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 4 replicas among 3 clusters
2026-02-10 10:12:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=25.0%, score=0.790)
2026-02-10 10:12:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=25.0%, score=0.772)
2026-02-10 10:12:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=50.0%, score=0.770)
2026-02-10 10:12:53 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 4 replicas across 3 clusters
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=103ms, winner_det=1ms)
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 4 replicas across 3 clusters:
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=25.00%, score=0.790)
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=25.00%, score=0.772)
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=50.00%, score=0.770)
2026-02-10 10:12:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.889
2026-02-10 10:12:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=-0.1458, predicted=13.5 req/s (+300s)
2026-02-10 10:12:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.266, P=4.53, D=-1.56, output=2.97, delta=3
2026-02-10 10:12:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.1, predicted=13.5 | base=1, PD=+3, constrained=False
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:12:53 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:12:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.1 req/s, derivative=-0.1458, predicted=13.5 req/s (+300s)
2026-02-10 10:12:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.264, P=4.53, D=-3.66, output=0.86, delta=1
2026-02-10 10:12:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=44.1, predicted=13.5 | base=1, PD=+1, constrained=False
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:12:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=88.3 req/s, derivative=-0.0000, predicted=88.3 req/s (+300s)
2026-02-10 10:12:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-8381.60, output=-3.00, delta=-3
2026-02-10 10:12:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=88.3, predicted=88.3 | base=2, PD=-3, constrained=True
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:12:53 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:12:53 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-10 10:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714803.347, '865506.6230877903']}]
2026-02-10 10:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 865507 bytes/s ‚Üí 216.4 req/s
2026-02-10 10:13:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 216.4 req/s | Replicas: 2
2026-02-10 10:13:23 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (216.4 > 30)
2026-02-10 10:13:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 10:13:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_216rps)
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714803.646, '865078.0764169224']}]
2026-02-10 10:13:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 865078 bytes/s ‚Üí 216.3 req/s
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:143 | Current traffic: 216.3 req/s
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.801, capacity=20, latency=85ms
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=84ms
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.749, capacity=20, latency=93ms
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:13:23 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:13:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.801)
2026-02-10 10:13:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.749)
2026-02-10 10:13:23 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.728)
2026-02-10 10:13:23 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 96ms (collection=96ms, winner_det=0ms)
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.801)
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.749)
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.728)
2026-02-10 10:13:23 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:13:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=-0.0177, predicted=82.8 req/s (+300s)
2026-02-10 10:13:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.045, P=0.09, D=0.22, output=0.31, delta=0
2026-02-10 10:13:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=86.5, predicted=82.8 | base=2, PD=+0, constrained=False
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:13:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=86.5 req/s, derivative=-0.0177, predicted=82.8 req/s (+300s)
2026-02-10 10:13:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.045, P=0.09, D=-0.02, output=0.07, delta=0
2026-02-10 10:13:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=86.5, predicted=82.8 | base=2, PD=+0, constrained=False
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:13:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:13:23 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=-0.1606, predicted=9.5 req/s (+300s)
2026-02-10 10:13:23 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=3.535, P=7.07, D=6550.73, output=3.00, delta=3
2026-02-10 10:13:23 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.3, predicted=9.5 | base=1, PD=+3, constrained=False
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:13:23 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:13:23 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-10 10:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714833.625, '891332.3736794252']}]
2026-02-10 10:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 891332 bytes/s ‚Üí 222.8 req/s
2026-02-10 10:13:53 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 222.8 req/s | Replicas: 2
2026-02-10 10:13:53 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (222.8 > 30)
2026-02-10 10:13:53 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:13:53 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_223rps)
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714833.893, '894538.8993432586']}]
2026-02-10 10:13:53 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 894539 bytes/s ‚Üí 223.6 req/s
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:143 | Current traffic: 223.6 req/s
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.731, capacity=20, latency=85ms
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.748, capacity=20, latency=86ms
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=85ms
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:13:53 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:13:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.748)
2026-02-10 10:13:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.731)
2026-02-10 10:13:53 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 10:13:53 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=86ms, winner_det=2ms)
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.748)
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.731)
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 10:13:53 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:13:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.5 req/s, derivative=0.1455, predicted=102.6 req/s (+300s)
2026-02-10 10:13:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=-18.25, output=-3.00, delta=-3
2026-02-10 10:13:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.5, predicted=102.6 | base=2, PD=-3, constrained=True
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:13:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.5 req/s, derivative=0.1455, predicted=102.6 req/s (+300s)
2026-02-10 10:13:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.128, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 10:13:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.5, predicted=102.6 | base=2, PD=+0, constrained=False
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:13:53 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.7 req/s, derivative=-0.0022, predicted=44.3 req/s (+300s)
2026-02-10 10:13:53 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.011, P=0.02, D=463.96, output=3.00, delta=3
2026-02-10 10:13:53 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=44.7, predicted=44.3 | base=1, PD=+3, constrained=False
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-10 10:13:53 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-10 10:14:23 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714863.891, '878131.4506201077']}]
2026-02-10 10:14:23 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 878131 bytes/s ‚Üí 219.5 req/s
2026-02-10 10:14:23 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 219.5 req/s | Replicas: 2
2026-02-10 10:14:23 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (219.5 > 30)
2026-02-10 10:14:23 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:14:23 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:14:23 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:14:23 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_220rps)
2026-02-10 10:14:23 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:14:24 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714864.165, '878096.3144983775']}]
2026-02-10 10:14:24 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 878096 bytes/s ‚Üí 219.5 req/s
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:143 | Current traffic: 219.5 req/s
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.766, capacity=20, latency=85ms
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.714, capacity=20, latency=85ms
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.728, capacity=20, latency=83ms
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:14:24 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:14:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.766)
2026-02-10 10:14:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=40.0%, score=0.728)
2026-02-10 10:14:24 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=20.0%, score=0.714)
2026-02-10 10:14:24 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 85ms (collection=85ms, winner_det=0ms)
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.766)
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=40.00%, score=0.728)
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=20.00%, score=0.714)
2026-02-10 10:14:24 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:14:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.8 req/s, derivative=0.1410, predicted=100.5 req/s (+300s)
2026-02-10 10:14:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=-0.68, output=-0.93, delta=-1
2026-02-10 10:14:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=87.8, predicted=100.5 | base=2, PD=-1, constrained=True
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:14:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=87.8 req/s, derivative=0.1410, predicted=100.5 req/s (+300s)
2026-02-10 10:14:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.126, P=-0.25, D=0.05, output=-0.20, delta=0
2026-02-10 10:14:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=87.8, predicted=100.5 | base=2, PD=+0, constrained=False
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:14:24 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 2 replicas
2026-02-10 10:14:24 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.9 req/s, derivative=-0.0040, predicted=43.1 req/s (+300s)
2026-02-10 10:14:24 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.020, P=0.04, D=263.18, output=3.00, delta=3
2026-02-10 10:14:24 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=43.9, predicted=43.1 | base=1, PD=+3, constrained=False
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:14:24 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-10 10:14:24 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-10 10:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714894.163, '898445.1845188396']}]
2026-02-10 10:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898445 bytes/s ‚Üí 224.6 req/s
2026-02-10 10:14:54 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 224.6 req/s | Replicas: 2
2026-02-10 10:14:54 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (224.6 > 30)
2026-02-10 10:14:54 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 10:14:54 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_225rps)
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 10:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770714894.449, '898447.9070100265']}]
2026-02-10 10:14:54 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 898448 bytes/s ‚Üí 224.6 req/s
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:143 | Current traffic: 224.6 req/s
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:151 | Total replicas needed: 5
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 5 replicas
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.800, capacity=20, latency=84ms
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.727, capacity=20, latency=84ms
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.747, capacity=20, latency=84ms
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-10 10:14:54 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 5 replicas among 3 clusters
2026-02-10 10:14:54 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=40.0%, score=0.800)
2026-02-10 10:14:54 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster2 (quota=40.0%, score=0.747)
2026-02-10 10:14:54 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster3 (quota=20.0%, score=0.727)
2026-02-10 10:14:54 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 5 replicas across 3 clusters
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 5 replicas across 3 clusters:
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=40.00%, score=0.800)
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=2, quota=40.00%, score=0.747)
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=1, quota=20.00%, score=0.727)
2026-02-10 10:14:54 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.926
2026-02-10 10:14:54 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1493, predicted=103.3 req/s (+300s)
2026-02-10 10:14:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.130, P=-0.26, D=-0.74, output=-1.00, delta=-1
2026-02-10 10:14:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=89.8, predicted=103.3 | base=2, PD=-1, constrained=True
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-10 10:14:54 | INFO     | src.level2.predictor:predict:166 | Prediction: current=89.8 req/s, derivative=0.1492, predicted=103.3 req/s (+300s)
2026-02-10 10:14:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.130, P=-0.26, D=0.06, output=-0.20, delta=0
2026-02-10 10:14:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=89.8, predicted=103.3 | base=2, PD=+0, constrained=False
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 2 (Œî=-2)
2026-02-10 10:14:54 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-10 10:14:54 | INFO     | src.level2.predictor:predict:166 | Prediction: current=44.9 req/s, derivative=0.0008, predicted=45.0 req/s (+300s)
2026-02-10 10:14:54 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.002, P=-0.00, D=225.56, output=3.00, delta=3
2026-02-10 10:14:54 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=44.9, predicted=45.0 | base=1, PD=+3, constrained=False
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:199 | cluster3: 2 ‚Üí 4 (Œî=+2)
2026-02-10 10:14:54 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-10 10:14:54 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-10 10:15:03 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 10:15:13 | INFO     | __main__:run:430 | Stopped
2026-02-10 21:37:55 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 21:37:55 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:37:55 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:37:55 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:37:55 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:37:55 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 21:37:57 | ERROR    | src.metrics.prometheus_client:_test_connection:39 | Prometheus connection failed: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /-/healthy (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:37:57 | WARNING  | src.metrics.prometheus_client:__init__:31 | Prometheus not reachable at http://192.168.1.245:30090
2026-02-10 21:37:57 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 21:37:57 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 21:37:57 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 21:37:57 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:37:57 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:37:57 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 21:37:57 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:37:57 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:37:57 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 21:37:57 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:37:57 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:37:57 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 21:37:57 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:37:57 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:37:57 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:37:57 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:37:57 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:37:57 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:37:59 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 21:37:59 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 21:37:59 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 21:37:59 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 21:37:59 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 21:37:59 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 21:37:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 21:37:59 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 21:37:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 21:37:59 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 21:37:59 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 21:37:59 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 21:37:59 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 21:37:59 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 21:37:59 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 21:37:59 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 21:37:59 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 21:37:59 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 21:38:01 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:03 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:05 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:05 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:38:05 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:38:05 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:38:06 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-10 21:38:06 | INFO     | __main__:periodic_check_thread:268 |   Fallback: 1 replica ‚Üí assume HIGH load (50.0 req/s)
2026-02-10 21:38:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 50.0 req/s | Replicas: 1
2026-02-10 21:38:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (50.0 > 30)
2026-02-10 21:38:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:38:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 21:38:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:38:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_50rps)
2026-02-10 21:38:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:38:08 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:10 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:12 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:12 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:38:12 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:38:12 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:38:12 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-10 21:38:12 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-10 21:38:12 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:38:12 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:38:12 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:38:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:38:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:38:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:38:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:38:15 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:38:15 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:38:38 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:40 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:42 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:38:42 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:38:42 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:38:42 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-10 21:38:42 | INFO     | __main__:periodic_check_thread:268 |   Fallback: 1 replica ‚Üí assume HIGH load (50.0 req/s)
2026-02-10 21:38:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 50.0 req/s | Replicas: 1
2026-02-10 21:38:42 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (50.0 > 30)
2026-02-10 21:38:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:38:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 21:38:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:38:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_50rps)
2026-02-10 21:38:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:38:45 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:47 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:49 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:49 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:38:49 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:38:49 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:38:49 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-10 21:38:49 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-10 21:38:49 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:38:49 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:38:49 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:38:51 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:51 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:51 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:38:51 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:38:51 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:38:51 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:38:51 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:38:51 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:38:51 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:39:15 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:17 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:19 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:19 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:39:19 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:39:19 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:39:19 | WARNING  | __main__:periodic_check_thread:263 | No Prometheus metrics for frontend, using fallback estimation
2026-02-10 21:39:19 | INFO     | __main__:periodic_check_thread:268 |   Fallback: 1 replica ‚Üí assume HIGH load (50.0 req/s)
2026-02-10 21:39:19 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 50.0 req/s | Replicas: 1
2026-02-10 21:39:19 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (50.0 > 30)
2026-02-10 21:39:19 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:39:19 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-10 21:39:19 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:39:19 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_50rps)
2026-02-10 21:39:19 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:39:21 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:24 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:26 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28container_network_receive_bytes_total%7B%0A++++++++++++namespace%3D%22online-boutique%22%2C%0A++++++++++++pod%3D~%22frontend.%2A%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30090): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:26 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: None
2026-02-10 21:39:26 | WARNING  | src.metrics.prometheus_client:get_request_rate:217 | Network query returned empty: None
2026-02-10 21:39:26 | WARNING  | src.metrics.prometheus_client:get_request_rate:221 | No metrics found for frontend
2026-02-10 21:39:26 | WARNING  | __main__:schedule_service:139 | No metrics for frontend, using default 100 req/s
2026-02-10 21:39:26 | INFO     | __main__:schedule_service:143 | Current traffic: 100.0 req/s
2026-02-10 21:39:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:39:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:39:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:39:28 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:28 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:28 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:39:28 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:39:28 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:39:28 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:39:28 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:39:28 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:39:28 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:39:31 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 21:39:41 | INFO     | __main__:run:430 | Stopped
2026-02-10 21:53:11 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 21:53:11 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:53:11 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:53:11 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:53:11 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:53:11 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 21:53:11 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 21:53:11 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 21:53:11 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 21:53:11 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:53:11 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:53:11 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 21:53:11 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:53:11 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:53:11 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 21:53:11 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:53:11 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:53:11 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 21:53:11 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:53:11 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:53:11 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:53:11 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:53:11 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:53:11 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:53:12 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 21:53:12 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 21:53:12 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 21:53:12 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 21:53:12 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 21:53:12 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 21:53:12 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 21:53:12 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 21:53:12 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 21:53:12 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 21:53:12 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 21:53:12 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 21:53:12 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 21:53:12 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 21:53:12 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 21:53:12 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 21:53:12 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 21:53:12 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 21:53:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756793.341, '10735.930428188904']}]
2026-02-10 21:53:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10736 bytes/s ‚Üí 2.7 req/s
2026-02-10 21:53:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 1
2026-02-10 21:53:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-10 21:53:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:53:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:53:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:53:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-10 21:53:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:53:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756793.804, '10735.930428188904']}]
2026-02-10 21:53:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10736 bytes/s ‚Üí 2.7 req/s
2026-02-10 21:53:13 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-10 21:53:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:53:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:53:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:53:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:53:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:15 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:53:15 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:53:15 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:53:15 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:53:15 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:53:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756823.784, '6294.474205866451']}]
2026-02-10 21:53:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 6294 bytes/s ‚Üí 1.6 req/s
2026-02-10 21:53:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 1.6 req/s | Replicas: 1
2026-02-10 21:53:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (1.6 < 10)
2026-02-10 21:53:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:53:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:53:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:53:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 21:53:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:53:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756824.097, '6247.139372690817']}]
2026-02-10 21:53:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 6247 bytes/s ‚Üí 1.6 req/s
2026-02-10 21:53:43 | INFO     | __main__:schedule_service:143 | Current traffic: 1.6 req/s
2026-02-10 21:53:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:53:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:53:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:53:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:53:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:53:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:53:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:53:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:53:46 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:53:46 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:54:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756854.124, '7461.424211182858']}]
2026-02-10 21:54:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 7461 bytes/s ‚Üí 1.9 req/s
2026-02-10 21:54:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 1.9 req/s | Replicas: 1
2026-02-10 21:54:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (1.9 < 10)
2026-02-10 21:54:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 21:54:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:54:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:54:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 21:54:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:54:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756854.442, '10014.479517476264']}]
2026-02-10 21:54:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10014 bytes/s ‚Üí 2.5 req/s
2026-02-10 21:54:14 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-10 21:54:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:54:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:54:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:54:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:54:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:54:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:54:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:54:16 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:54:16 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:54:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756884.453, '10979.073367612096']}]
2026-02-10 21:54:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10979 bytes/s ‚Üí 2.7 req/s
2026-02-10 21:54:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 1
2026-02-10 21:54:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-10 21:54:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-10 21:54:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:54:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:54:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-10 21:54:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:54:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756884.77, '10979.073367612096']}]
2026-02-10 21:54:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10979 bytes/s ‚Üí 2.7 req/s
2026-02-10 21:54:44 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-10 21:54:44 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:54:44 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:54:44 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:54:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:46 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:54:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:54:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:54:46 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:54:46 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:54:46 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:54:46 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:55:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756914.765, '9281.03753826325']}]
2026-02-10 21:55:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9281 bytes/s ‚Üí 2.3 req/s
2026-02-10 21:55:14 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.3 req/s | Replicas: 1
2026-02-10 21:55:14 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.3 < 10)
2026-02-10 21:55:14 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:55:14 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:55:14 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:55:14 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 21:55:14 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:55:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756915.073, '9281.03753826325']}]
2026-02-10 21:55:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9281 bytes/s ‚Üí 2.3 req/s
2026-02-10 21:55:14 | INFO     | __main__:schedule_service:143 | Current traffic: 2.3 req/s
2026-02-10 21:55:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:55:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:55:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:55:17 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:17 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:17 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:17 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:55:17 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:55:17 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:55:17 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:55:17 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:55:17 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:55:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756945.074, '8821.422496078023']}]
2026-02-10 21:55:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8821 bytes/s ‚Üí 2.2 req/s
2026-02-10 21:55:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.2 req/s | Replicas: 1
2026-02-10 21:55:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.2 < 10)
2026-02-10 21:55:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-10 21:55:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:55:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:55:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 21:55:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:55:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756945.39, '8821.422496078025']}]
2026-02-10 21:55:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8821 bytes/s ‚Üí 2.2 req/s
2026-02-10 21:55:45 | INFO     | __main__:schedule_service:143 | Current traffic: 2.2 req/s
2026-02-10 21:55:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:55:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:55:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:55:47 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:47 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:47 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:55:47 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:55:47 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=8080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=8080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:55:47 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:55:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:55:47 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:55:47 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:56:02 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 21:56:11 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 21:56:11 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:56:12 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:56:12 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 21:56:12 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 21:56:12 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 21:56:12 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 21:56:12 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 21:56:12 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 21:56:12 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:56:12 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:56:12 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 21:56:12 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:56:12 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:56:12 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 21:56:12 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:56:12 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:56:12 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 21:56:12 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:56:12 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:56:12 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:56:12 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 21:56:12 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 21:56:12 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 21:56:13 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 21:56:13 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 21:56:13 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 21:56:13 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 21:56:13 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 21:56:13 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 21:56:13 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 21:56:13 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 21:56:13 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 21:56:13 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 21:56:13 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 21:56:13 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 21:56:13 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 21:56:13 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 21:56:13 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 21:56:13 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 21:56:13 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 21:56:13 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 21:56:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756973.985, '7940.377820048308']}]
2026-02-10 21:56:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 7940 bytes/s ‚Üí 2.0 req/s
2026-02-10 21:56:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 1
2026-02-10 21:56:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-10 21:56:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 21:56:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 21:56:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 21:56:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 21:56:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 21:56:14 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770756974.422, '7869.806014492753']}]
2026-02-10 21:56:14 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 7870 bytes/s ‚Üí 2.0 req/s
2026-02-10 21:56:14 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-10 21:56:14 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 21:56:14 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 21:56:14 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 21:56:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:56:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:56:16 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-10 21:56:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 21:56:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 21:56:16 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 21:56:16 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 21:56:16 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 21:56:16 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 21:56:38 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 22:06:41 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 22:06:41 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:06:41 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:06:41 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:06:41 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:06:41 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 22:06:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 22:06:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 22:06:41 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 22:06:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:06:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:06:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 22:06:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:06:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:06:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 22:06:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:06:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:06:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 22:06:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:06:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:06:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:06:41 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:06:41 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:06:41 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:06:42 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 22:06:42 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 22:06:42 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 22:06:42 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 22:06:42 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 22:06:42 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 22:06:42 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 22:06:42 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 22:06:42 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 22:06:42 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 22:06:42 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 22:06:42 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 22:06:42 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 22:06:42 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 22:06:42 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 22:06:42 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 22:06:42 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 22:06:42 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 22:06:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757603.432, '10775.48099085329']}]
2026-02-10 22:06:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10775 bytes/s ‚Üí 2.7 req/s
2026-02-10 22:06:43 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 1
2026-02-10 22:06:43 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-10 22:06:43 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:06:43 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:06:43 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:06:43 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-10 22:06:43 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:06:43 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757603.844, '10775.48099085329']}]
2026-02-10 22:06:43 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10775 bytes/s ‚Üí 2.7 req/s
2026-02-10 22:06:43 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-10 22:06:43 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:06:43 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:06:43 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster1 (>5s)
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:06:48 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:06:48 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:06:48 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:06:48 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757633.847, '9666.82437311686']}]
2026-02-10 22:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9667 bytes/s ‚Üí 2.4 req/s
2026-02-10 22:07:13 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.4 req/s | Replicas: 1
2026-02-10 22:07:13 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.4 < 10)
2026-02-10 22:07:13 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:07:13 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:07:13 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:07:13 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 22:07:13 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757634.2, '8371.335645669575']}]
2026-02-10 22:07:13 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8371 bytes/s ‚Üí 2.1 req/s
2026-02-10 22:07:13 | INFO     | __main__:schedule_service:143 | Current traffic: 2.1 req/s
2026-02-10 22:07:13 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:07:13 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:07:13 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:07:14 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster1 (>5s)
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:07:18 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:07:18 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:07:18 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:07:18 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:08:42 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 22:08:42 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:08:42 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:08:42 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:08:42 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:08:42 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 22:08:43 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 22:08:43 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 22:08:43 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 22:08:43 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:08:43 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:08:43 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 22:08:43 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:08:43 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:08:43 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 22:08:43 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:08:43 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:08:43 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 22:08:43 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:08:43 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:08:43 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:08:43 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:08:43 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:08:43 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:08:44 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 22:08:44 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 22:08:44 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 22:08:44 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 22:08:44 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 22:08:44 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 22:08:44 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 22:08:44 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 22:08:44 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 22:08:44 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 22:08:44 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 22:08:44 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 22:08:44 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 22:08:44 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 22:08:44 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 22:08:44 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 22:08:44 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 22:08:44 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 22:08:44 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757724.923, '9209.720839296027']}]
2026-02-10 22:08:44 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9210 bytes/s ‚Üí 2.3 req/s
2026-02-10 22:08:44 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.3 req/s | Replicas: 1
2026-02-10 22:08:44 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.3 < 10)
2026-02-10 22:08:44 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:08:44 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:08:44 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:08:44 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 22:08:44 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:08:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757725.332, '9283.611787719783']}]
2026-02-10 22:08:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9284 bytes/s ‚Üí 2.3 req/s
2026-02-10 22:08:45 | INFO     | __main__:schedule_service:143 | Current traffic: 2.3 req/s
2026-02-10 22:08:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:08:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:08:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster1 (>5s)
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:08:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:08:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:08:50 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:08:50 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:09:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757755.37, '9930.425675170196']}]
2026-02-10 22:09:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9930 bytes/s ‚Üí 2.5 req/s
2026-02-10 22:09:15 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-10 22:09:15 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-10 22:09:15 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:09:15 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:09:15 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:09:15 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 22:09:15 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:09:15 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757755.694, '9930.425675170196']}]
2026-02-10 22:09:15 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9930 bytes/s ‚Üí 2.5 req/s
2026-02-10 22:09:15 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-10 22:09:15 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:09:15 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:09:15 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster1 (>5s)
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:09:20 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:09:20 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:09:20 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:09:20 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:09:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757785.699, '10184.13653627978']}]
2026-02-10 22:09:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10184 bytes/s ‚Üí 2.5 req/s
2026-02-10 22:09:45 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-10 22:09:45 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-10 22:09:45 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:09:45 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:09:45 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:09:45 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-10 22:09:45 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:09:45 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770757786.005, '10184.13653627978']}]
2026-02-10 22:09:45 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10184 bytes/s ‚Üí 2.5 req/s
2026-02-10 22:09:45 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-10 22:09:45 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:09:45 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:09:45 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster1 (>5s)
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:09:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:09:50 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:09:50 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:09:50 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:09:54 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 22:10:04 | INFO     | __main__:run:430 | Stopped
2026-02-10 22:23:56 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-10 22:23:56 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:23:56 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:23:56 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-10 22:23:56 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-10 22:23:56 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-10 22:23:56 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-10 22:23:56 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-10 22:23:56 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-10 22:23:56 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:23:56 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:23:56 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-10 22:23:56 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:23:56 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:23:56 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-10 22:23:56 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:23:56 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:23:56 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-10 22:23:56 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:23:56 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:23:56 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:23:56 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-10 22:23:56 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-10 22:23:56 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-10 22:23:58 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-10 22:23:58 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-10 22:23:58 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-10 22:23:58 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-10 22:23:58 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-10 22:23:58 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-10 22:23:58 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-10 22:23:58 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-10 22:23:58 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-10 22:23:58 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-10 22:23:58 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-10 22:23:58 | INFO     | __main__:run:415 | 
======================================================================
2026-02-10 22:23:58 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-10 22:23:58 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-10 22:23:58 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-10 22:23:58 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-10 22:23:58 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-10 22:23:58 | INFO     | __main__:run:420 | ======================================================================

2026-02-10 22:23:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770758638.686, '8135.177421615362']}]
2026-02-10 22:23:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8135 bytes/s ‚Üí 2.0 req/s
2026-02-10 22:23:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 1
2026-02-10 22:23:58 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-10 22:23:58 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-10 22:23:58 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-10 22:23:58 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-10 22:23:58 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-10 22:23:58 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-10 22:23:58 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770758639.108, '8063.191116827239']}]
2026-02-10 22:23:58 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8063 bytes/s ‚Üí 2.0 req/s
2026-02-10 22:23:58 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-10 22:23:58 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-10 22:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-10 22:23:58 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-10 22:23:58 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-10 22:23:58 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-10 22:24:03 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-10 22:24:03 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-10 22:24:03 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-10 22:24:03 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-10 22:24:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-10 22:24:03 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-10 22:24:03 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-10 22:24:26 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-10 22:24:31 | INFO     | __main__:run:430 | Stopped
2026-02-11 00:20:08 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 00:20:08 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:20:08 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:20:08 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:20:08 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:20:08 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 00:20:13 | ERROR    | src.metrics.prometheus_client:_test_connection:39 | Prometheus connection failed: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /-/healthy (Caused by ConnectTimeoutError(<HTTPConnection(host='192.168.1.245', port=30090) at 0x176884d2ae0>, 'Connection to 192.168.1.245 timed out. (connect timeout=5)'))
2026-02-11 00:20:13 | WARNING  | src.metrics.prometheus_client:__init__:31 | Prometheus not reachable at http://192.168.1.245:30090
2026-02-11 00:20:13 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 00:20:13 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 00:20:13 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 00:20:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:20:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:20:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 00:20:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:20:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:20:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 00:20:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:20:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:20:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 00:20:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:20:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:20:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:20:13 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:20:13 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:20:13 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:20:14 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 00:20:14 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 00:20:14 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 00:20:14 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 00:20:14 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 00:20:14 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 00:20:14 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 00:20:14 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 00:20:14 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 00:20:14 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 00:20:14 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 00:20:14 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 00:20:14 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 00:20:14 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 00:20:14 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 00:20:14 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 00:20:14 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 00:20:14 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 00:20:24 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by ConnectTimeoutError(<HTTPConnection(host='192.168.1.245', port=30090) at 0x17688736900>, 'Connection to 192.168.1.245 timed out. (connect timeout=10)'))
2026-02-11 00:20:34 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=sum%28rate%28http_requests_total%7Bservice%3D%22frontend%22%2Cnamespace%3D%22online-boutique%22%7D%5B1m%5D%29%29 (Caused by ConnectTimeoutError(<HTTPConnection(host='192.168.1.245', port=30090) at 0x176887408f0>, 'Connection to 192.168.1.245 timed out. (connect timeout=10)'))
2026-02-11 00:20:41 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765642.346, '6507.6608634226695']}]
2026-02-11 00:20:41 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 6508 bytes/s ‚Üí 1.6 req/s
2026-02-11 00:20:42 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 1.6 req/s | Replicas: 1
2026-02-11 00:20:42 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (1.6 < 10)
2026-02-11 00:20:42 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:20:42 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:20:42 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:20:42 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:20:42 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:20:42 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765642.784, '6447.151149466748']}]
2026-02-11 00:20:42 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 6447 bytes/s ‚Üí 1.6 req/s
2026-02-11 00:20:42 | INFO     | __main__:schedule_service:143 | Current traffic: 1.6 req/s
2026-02-11 00:20:42 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:20:42 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:20:42 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:20:42 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:20:42 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:20:47 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:20:47 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:20:47 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:20:47 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:20:47 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:20:47 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:20:47 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:20:54 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-11 00:21:11 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 00:21:11 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:21:11 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:21:11 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:21:11 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:21:11 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 00:21:16 | ERROR    | src.metrics.prometheus_client:_test_connection:39 | Prometheus connection failed: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /-/healthy (Caused by ConnectTimeoutError(<HTTPConnection(host='192.168.1.245', port=30090) at 0x2931776aae0>, 'Connection to 192.168.1.245 timed out. (connect timeout=5)'))
2026-02-11 00:21:16 | WARNING  | src.metrics.prometheus_client:__init__:31 | Prometheus not reachable at http://192.168.1.245:30090
2026-02-11 00:21:16 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 00:21:16 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 00:21:16 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 00:21:16 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:21:16 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:21:16 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 00:21:16 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:21:16 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:21:16 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 00:21:16 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:21:16 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:21:16 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 00:21:16 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:21:16 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:21:16 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:21:16 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:21:16 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:21:16 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:21:17 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 00:21:17 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 00:21:17 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 00:21:17 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 00:21:17 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 00:21:17 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 00:21:17 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 00:21:17 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 00:21:17 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 00:21:17 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 00:21:17 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 00:21:17 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 00:21:17 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 00:21:17 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 00:21:17 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 00:21:17 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 00:21:17 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 00:21:17 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 00:21:27 | ERROR    | src.metrics.prometheus_client:query:73 | Prometheus query exception: HTTPConnectionPool(host='192.168.1.245', port=30090): Max retries exceeded with url: /api/v1/query?query=%0A++++++++sum%28rate%28istio_requests_total%7B%0A++++++++++++destination_service_name%3D%22frontend%22%2C%0A++++++++++++destination_service_namespace%3D%22online-boutique%22%0A++++++++%7D%5B1m%5D%29%29%0A++++++++ (Caused by ConnectTimeoutError(<HTTPConnection(host='192.168.1.245', port=30090) at 0x29339e39df0>, 'Connection to 192.168.1.245 timed out. (connect timeout=10)'))
2026-02-11 00:21:30 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765691.13, '8176.671814157294']}]
2026-02-11 00:21:30 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8177 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:21:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 1
2026-02-11 00:21:30 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-11 00:21:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:21:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:21:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:21:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:21:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:21:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765691.542, '8105.30370646429']}]
2026-02-11 00:21:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8105 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:21:31 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-11 00:21:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:21:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:21:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:21:31 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:21:31 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:21:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:21:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:21:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:21:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:21:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:21:36 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:21:36 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:22:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765721.551, '10220.978826151559']}]
2026-02-11 00:22:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10221 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:22:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.6 req/s | Replicas: 1
2026-02-11 00:22:01 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.6 < 10)
2026-02-11 00:22:01 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:22:01 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:22:01 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:22:01 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:22:01 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:22:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765721.864, '10220.978826151562']}]
2026-02-11 00:22:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10221 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:22:01 | INFO     | __main__:schedule_service:143 | Current traffic: 2.6 req/s
2026-02-11 00:22:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:22:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:22:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:22:01 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:22:01 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:22:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:22:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:22:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:22:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:22:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:22:06 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:22:06 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:22:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765751.887, '11425.477104253194']}]
2026-02-11 00:22:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 11425 bytes/s ‚Üí 2.9 req/s
2026-02-11 00:22:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.9 req/s | Replicas: 1
2026-02-11 00:22:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.9 < 10)
2026-02-11 00:22:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:22:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:22:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:22:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:22:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:22:31 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765752.203, '11425.477104253194']}]
2026-02-11 00:22:31 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 11425 bytes/s ‚Üí 2.9 req/s
2026-02-11 00:22:31 | INFO     | __main__:schedule_service:143 | Current traffic: 2.9 req/s
2026-02-11 00:22:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:22:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:22:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:22:31 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:22:31 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:22:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:22:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:22:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:22:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:22:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:22:36 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:22:36 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:23:01 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765782.211, '9435.463905924718']}]
2026-02-11 00:23:01 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9435 bytes/s ‚Üí 2.4 req/s
2026-02-11 00:23:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.4 req/s | Replicas: 1
2026-02-11 00:23:01 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.4 < 10)
2026-02-11 00:23:01 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:23:01 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:23:01 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:23:01 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:23:01 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:23:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765782.525, '9435.463905924718']}]
2026-02-11 00:23:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9435 bytes/s ‚Üí 2.4 req/s
2026-02-11 00:23:02 | INFO     | __main__:schedule_service:143 | Current traffic: 2.4 req/s
2026-02-11 00:23:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:23:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:23:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:23:02 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:23:02 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:23:07 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:23:07 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:23:07 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:23:07 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:23:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:23:07 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:23:07 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:23:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765812.532, '13469.575597650239']}]
2026-02-11 00:23:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 13470 bytes/s ‚Üí 3.4 req/s
2026-02-11 00:23:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.4 req/s | Replicas: 1
2026-02-11 00:23:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.4 < 10)
2026-02-11 00:23:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:23:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:23:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:23:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:23:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:23:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765812.847, '13469.575597650239']}]
2026-02-11 00:23:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 13470 bytes/s ‚Üí 3.4 req/s
2026-02-11 00:23:32 | INFO     | __main__:schedule_service:143 | Current traffic: 3.4 req/s
2026-02-11 00:23:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:23:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:23:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:23:32 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:23:32 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:23:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:23:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:23:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:23:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:23:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:23:37 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:23:37 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:24:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765842.84, '9834.161511930693']}]
2026-02-11 00:24:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9834 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:24:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-11 00:24:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:24:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:24:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:24:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:24:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:24:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:24:02 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765843.158, '9768.562616114576']}]
2026-02-11 00:24:02 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9769 bytes/s ‚Üí 2.4 req/s
2026-02-11 00:24:02 | INFO     | __main__:schedule_service:143 | Current traffic: 2.4 req/s
2026-02-11 00:24:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:24:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:24:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:24:02 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:24:02 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:24:07 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:24:07 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:24:07 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:24:07 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:24:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:24:07 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:24:07 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:24:32 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765873.157, '10058.472296933835']}]
2026-02-11 00:24:32 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10058 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:24:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-11 00:24:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:24:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:24:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:24:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:24:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:24:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:24:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765873.482, '10058.472296933835']}]
2026-02-11 00:24:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10058 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:24:33 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-11 00:24:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:24:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:24:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:24:33 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:24:33 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:24:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:24:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:24:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:24:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:24:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:24:38 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:24:38 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:25:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765903.468, '9876.685576118292']}]
2026-02-11 00:25:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9877 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:25:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-11 00:25:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:25:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:25:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:25:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:25:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:25:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:25:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765903.78, '9876.685576118292']}]
2026-02-11 00:25:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9877 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:25:03 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-11 00:25:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:25:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:25:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:25:03 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:25:03 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:25:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:25:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:25:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:25:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:25:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:25:08 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:25:08 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:25:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765933.781, '9857.839885296069']}]
2026-02-11 00:25:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9858 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:25:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-11 00:25:33 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:25:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:25:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:25:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:25:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:25:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:25:33 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765934.128, '9857.839885296069']}]
2026-02-11 00:25:33 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9858 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:25:33 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-11 00:25:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:25:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:25:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:25:33 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:25:33 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:25:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:25:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:25:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:25:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:25:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:25:38 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:25:38 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:26:03 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765964.108, '8653.54881960572']}]
2026-02-11 00:26:03 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 8654 bytes/s ‚Üí 2.2 req/s
2026-02-11 00:26:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.2 req/s | Replicas: 1
2026-02-11 00:26:03 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.2 < 10)
2026-02-11 00:26:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:26:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:26:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:26:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:26:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:26:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765964.431, '11172.15057145853']}]
2026-02-11 00:26:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 11172 bytes/s ‚Üí 2.8 req/s
2026-02-11 00:26:04 | INFO     | __main__:schedule_service:143 | Current traffic: 2.8 req/s
2026-02-11 00:26:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:26:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:26:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:26:06 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:26:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:26:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:26:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:26:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:26:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:26:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:26:09 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:26:09 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:26:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765994.436, '11591.580780272014']}]
2026-02-11 00:26:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 11592 bytes/s ‚Üí 2.9 req/s
2026-02-11 00:26:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.9 req/s | Replicas: 1
2026-02-11 00:26:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.9 < 10)
2026-02-11 00:26:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:26:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:26:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:26:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:26:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:26:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770765994.741, '11591.580780272014']}]
2026-02-11 00:26:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 11592 bytes/s ‚Üí 2.9 req/s
2026-02-11 00:26:34 | INFO     | __main__:schedule_service:143 | Current traffic: 2.9 req/s
2026-02-11 00:26:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:26:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:26:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:26:36 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:26:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:26:39 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:26:39 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:26:39 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:26:39 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:26:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:26:39 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:26:39 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:27:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766024.767, '10123.197267923484']}]
2026-02-11 00:27:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10123 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:27:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 1
2026-02-11 00:27:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:27:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:27:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:27:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:27:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:27:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:27:04 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766025.097, '10123.197267923484']}]
2026-02-11 00:27:04 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 10123 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:27:04 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-11 00:27:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:27:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:27:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:27:06 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:27:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:27:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:27:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:27:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:27:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:27:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:27:09 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:27:09 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:27:34 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766055.087, '9700.133546423802']}]
2026-02-11 00:27:34 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9700 bytes/s ‚Üí 2.4 req/s
2026-02-11 00:27:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.4 req/s | Replicas: 1
2026-02-11 00:27:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.4 < 10)
2026-02-11 00:27:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:27:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:27:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:27:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:27:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:27:35 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766055.399, '9700.133546423802']}]
2026-02-11 00:27:35 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9700 bytes/s ‚Üí 2.4 req/s
2026-02-11 00:27:35 | INFO     | __main__:schedule_service:143 | Current traffic: 2.4 req/s
2026-02-11 00:27:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:27:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:27:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:27:37 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-11 00:27:37 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:27:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:27:40 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:27:40 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:27:40 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:27:40 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:27:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:27:40 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:27:40 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:27:46 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 00:27:46 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:27:46 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:27:46 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:27:46 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:27:46 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 00:27:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 00:27:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 00:27:46 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 00:27:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:27:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:27:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 00:27:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:27:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:27:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 00:27:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:27:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:27:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 00:27:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:27:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:27:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:27:46 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:27:46 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:27:46 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:27:47 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 00:27:47 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 00:27:47 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 00:27:47 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 00:27:47 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 00:27:47 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 00:27:47 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 00:27:47 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 00:27:47 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 00:27:47 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 00:27:47 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 00:27:47 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 00:27:47 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 00:27:47 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 00:27:47 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 00:27:47 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 00:27:47 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 00:27:47 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 00:27:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766068.505, '7556.090272515301']}]
2026-02-11 00:27:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 7556 bytes/s ‚Üí 1.9 req/s
2026-02-11 00:27:48 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 1.9 req/s | Replicas: 1
2026-02-11 00:27:48 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (1.9 < 10)
2026-02-11 00:27:48 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:27:48 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:27:48 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:27:48 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:27:48 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:27:48 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766068.944, '7484.348127368115']}]
2026-02-11 00:27:48 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 7484 bytes/s ‚Üí 1.9 req/s
2026-02-11 00:27:48 | INFO     | __main__:schedule_service:143 | Current traffic: 1.9 req/s
2026-02-11 00:27:48 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:27:48 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:27:48 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:27:50 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: HTTPConnectionPool(host='192.168.1.245', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.245', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:27:50 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:27:53 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:27:53 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:27:53 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:27:53 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:27:53 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:27:53 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:27:53 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:28:00 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-11 00:28:10 | INFO     | __main__:run:430 | Stopped
2026-02-11 00:29:20 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 00:29:20 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:29:20 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:29:20 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:29:20 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:29:20 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 00:29:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 00:29:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 00:29:20 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 00:29:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:29:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:29:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 00:29:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:29:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:29:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 00:29:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:29:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:29:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 00:29:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:29:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:29:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:29:20 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:29:20 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:29:20 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:29:21 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 00:29:21 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 00:29:21 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 00:29:21 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 00:29:21 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 00:29:21 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 00:29:21 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 00:29:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 00:29:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 00:29:21 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 00:29:21 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 00:29:21 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 00:29:21 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 00:29:21 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 00:29:21 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 00:29:21 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 00:29:21 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 00:29:21 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 00:29:21 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766162.353, '9362.021473827']}]
2026-02-11 00:29:21 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9362 bytes/s ‚Üí 2.3 req/s
2026-02-11 00:29:22 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.3 req/s | Replicas: 1
2026-02-11 00:29:22 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.3 < 10)
2026-02-11 00:29:22 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:29:22 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:29:22 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:29:22 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:29:22 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:29:22 | INFO     | src.metrics.prometheus_client:get_request_rate:206 | Network query result: [{'metric': {}, 'value': [1770766162.8, '9268.284874720714']}]
2026-02-11 00:29:22 | INFO     | src.metrics.prometheus_client:get_request_rate:214 | ‚úÖ Traffic from network: 9268 bytes/s ‚Üí 2.3 req/s
2026-02-11 00:29:22 | INFO     | __main__:schedule_service:143 | Current traffic: 2.3 req/s
2026-02-11 00:29:22 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:29:22 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:29:22 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:29:22 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster1: 500 Server Error: INTERNAL SERVER ERROR for url: http://192.168.1.245:30080/estimate
2026-02-11 00:29:22 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster1
2026-02-11 00:29:27 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:29:27 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:29:27 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:29:27 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:29:27 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 0/3 bids
2026-02-11 00:29:27 | ERROR    | src.level1.dmos_scheduler:schedule_service:206 | No bids received from any cluster!
2026-02-11 00:29:27 | ERROR    | __main__:schedule_service:160 | ‚ùå Scheduling failed
2026-02-11 00:29:30 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-11 00:29:40 | INFO     | __main__:run:430 | Stopped
2026-02-11 00:33:28 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 00:33:28 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:33:28 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:33:28 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 00:33:28 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 00:33:28 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 00:33:28 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 00:33:28 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 00:33:28 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 00:33:28 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:33:28 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:33:28 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=50 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 00:33:28 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:33:28 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:33:28 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 00:33:28 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:33:28 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:33:28 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 00:33:28 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:33:28 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:33:28 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:33:28 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 00:33:28 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 00:33:28 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 00:33:29 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 00:33:29 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 00:33:29 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 00:33:29 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 00:33:29 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 00:33:29 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 00:33:29 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 00:33:29 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 00:33:29 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 00:33:29 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 00:33:29 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 00:33:29 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 00:33:29 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 00:33:29 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 00:33:29 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 00:33:29 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 00:33:29 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 00:33:29 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 00:33:29 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 8081 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:33:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 1
2026-02-11 00:33:30 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-11 00:33:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:33:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:33:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:33:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:33:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:33:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 8014 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:33:30 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-11 00:33:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:33:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:33:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:33:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.338, capacity=20, latency=96ms
2026-02-11 00:33:35 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:33:35 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:33:35 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:33:35 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:33:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:33:35 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:33:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.338)
2026-02-11 00:33:35 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:33:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5020ms (collection=5018ms, winner_det=2ms)
2026-02-11 00:33:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:33:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.338)
2026-02-11 00:33:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:33:35 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-11 00:33:35 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-11 00:33:35 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 00:33:35 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=2.0, predicted=2.0 | base=1, PD=+0, constrained=True
2026-02-11 00:33:35 | INFO     | __main__:schedule_service:199 | cluster1: 1 ‚Üí 2 (Œî=+1)
2026-02-11 00:33:35 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-11 00:33:35 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.39s
2026-02-11 00:34:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 7867 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:34:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 2
2026-02-11 00:34:00 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-11 00:34:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:34:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:34:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:34:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:34:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:34:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 7817 bytes/s ‚Üí 2.0 req/s
2026-02-11 00:34:00 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-11 00:34:00 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:34:00 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:34:00 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:34:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.338, capacity=20, latency=98ms
2026-02-11 00:34:05 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:34:05 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:34:05 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:34:05 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:34:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:34:05 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:34:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.338)
2026-02-11 00:34:05 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5011ms (collection=5011ms, winner_det=0ms)
2026-02-11 00:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.338)
2026-02-11 00:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:34:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.0 req/s, derivative=-0.0016, predicted=1.6 req/s (+300s)
2026-02-11 00:34:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.211, P=0.42, D=1.05, output=1.47, delta=1
2026-02-11 00:34:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.0, predicted=1.6 | base=1, PD=+1, constrained=False
2026-02-11 00:34:05 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:34:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:34:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12351 bytes/s ‚Üí 3.1 req/s
2026-02-11 00:34:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.1 req/s | Replicas: 2
2026-02-11 00:34:30 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.1 < 10)
2026-02-11 00:34:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:34:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:34:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:34:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:34:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:34:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12351 bytes/s ‚Üí 3.1 req/s
2026-02-11 00:34:30 | INFO     | __main__:schedule_service:143 | Current traffic: 3.1 req/s
2026-02-11 00:34:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:34:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:34:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:34:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=119ms
2026-02-11 00:34:35 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:34:35 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:34:35 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:34:35 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:34:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:34:35 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:34:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:34:35 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5007ms (collection=5007ms, winner_det=0ms)
2026-02-11 00:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:34:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=3.1 req/s, derivative=0.0179, predicted=4.7 req/s (+300s)
2026-02-11 00:34:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.343, P=-0.69, D=-2.74, output=-3.00, delta=-3
2026-02-11 00:34:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=3.1, predicted=4.7 | base=1, PD=-3, constrained=True
2026-02-11 00:34:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:34:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.34s
2026-02-11 00:35:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10458 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:35:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.6 req/s | Replicas: 2
2026-02-11 00:35:00 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.6 < 10)
2026-02-11 00:35:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:35:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:35:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:35:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:35:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:35:01 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10458 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:35:01 | INFO     | __main__:schedule_service:143 | Current traffic: 2.6 req/s
2026-02-11 00:35:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:35:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:35:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:35:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=100ms
2026-02-11 00:35:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:35:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:35:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:35:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:35:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:35:06 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:35:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:35:06 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5014ms (collection=5013ms, winner_det=1ms)
2026-02-11 00:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:35:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.6 req/s, derivative=0.0067, predicted=3.2 req/s (+300s)
2026-02-11 00:35:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.188, P=-0.38, D=0.77, output=0.39, delta=0
2026-02-11 00:35:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.6, predicted=3.2 | base=1, PD=+0, constrained=True
2026-02-11 00:35:06 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:35:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.33s
2026-02-11 00:35:31 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10624 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:35:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 2
2026-02-11 00:35:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-11 00:35:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:35:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:35:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:35:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:35:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:35:31 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10624 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:35:31 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-11 00:35:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:35:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:35:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:35:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=110ms
2026-02-11 00:35:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:35:36 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:35:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:35:36 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:35:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:35:36 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:35:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:35:36 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5009ms (collection=5008ms, winner_det=1ms)
2026-02-11 00:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:35:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.7 req/s, derivative=0.0054, predicted=3.1 req/s (+300s)
2026-02-11 00:35:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.154, P=-0.31, D=0.17, output=-0.14, delta=0
2026-02-11 00:35:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.7, predicted=3.1 | base=1, PD=+0, constrained=True
2026-02-11 00:35:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:35:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.34s
2026-02-11 00:36:01 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9296 bytes/s ‚Üí 2.3 req/s
2026-02-11 00:36:01 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.3 req/s | Replicas: 2
2026-02-11 00:36:01 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.3 < 10)
2026-02-11 00:36:01 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:36:01 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:36:01 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:36:01 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:36:01 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:36:01 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9296 bytes/s ‚Üí 2.3 req/s
2026-02-11 00:36:01 | INFO     | __main__:schedule_service:143 | Current traffic: 2.3 req/s
2026-02-11 00:36:01 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:36:01 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:36:01 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:36:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=98ms
2026-02-11 00:36:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:36:06 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:36:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:36:06 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:36:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:36:06 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:36:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:36:06 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:36:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5010ms (collection=5010ms, winner_det=0ms)
2026-02-11 00:36:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:36:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:36:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:36:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.3 req/s, derivative=0.0021, predicted=2.5 req/s (+300s)
2026-02-11 00:36:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.076, P=-0.15, D=0.39, output=0.24, delta=0
2026-02-11 00:36:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.3, predicted=2.5 | base=1, PD=+0, constrained=True
2026-02-11 00:36:06 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:36:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:36:31 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10596 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:36:31 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.6 req/s | Replicas: 2
2026-02-11 00:36:31 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.6 < 10)
2026-02-11 00:36:31 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:36:31 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:36:31 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:36:31 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:36:31 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:36:32 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10596 bytes/s ‚Üí 2.6 req/s
2026-02-11 00:36:32 | INFO     | __main__:schedule_service:143 | Current traffic: 2.6 req/s
2026-02-11 00:36:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:36:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:36:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:36:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=94ms
2026-02-11 00:36:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:36:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:36:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:36:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:36:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:36:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:36:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:36:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5009ms (collection=5009ms, winner_det=0ms)
2026-02-11 00:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:36:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.6 req/s, derivative=0.0035, predicted=3.0 req/s (+300s)
2026-02-11 00:36:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.108, P=-0.22, D=-0.16, output=-0.37, delta=0
2026-02-11 00:36:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.6, predicted=3.0 | base=1, PD=+0, constrained=True
2026-02-11 00:36:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:36:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:37:02 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 8655 bytes/s ‚Üí 2.2 req/s
2026-02-11 00:37:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.2 req/s | Replicas: 2
2026-02-11 00:37:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.2 < 10)
2026-02-11 00:37:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:37:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:37:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:37:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:37:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:37:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 8518 bytes/s ‚Üí 2.1 req/s
2026-02-11 00:37:03 | INFO     | __main__:schedule_service:143 | Current traffic: 2.1 req/s
2026-02-11 00:37:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:37:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:37:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:37:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=98ms
2026-02-11 00:37:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:37:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:37:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:37:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:37:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:37:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:37:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:37:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:37:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5015ms (collection=5014ms, winner_det=1ms)
2026-02-11 00:37:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:37:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:37:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:37:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.1 req/s, derivative=0.0006, predicted=2.2 req/s (+300s)
2026-02-11 00:37:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.024, P=-0.05, D=0.40, output=0.36, delta=0
2026-02-11 00:37:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.1, predicted=2.2 | base=1, PD=+0, constrained=True
2026-02-11 00:37:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:37:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.84s
2026-02-11 00:37:32 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11148 bytes/s ‚Üí 2.8 req/s
2026-02-11 00:37:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.8 req/s | Replicas: 2
2026-02-11 00:37:32 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.8 < 10)
2026-02-11 00:37:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:37:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:37:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:37:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:37:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:37:32 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11929 bytes/s ‚Üí 3.0 req/s
2026-02-11 00:37:32 | INFO     | __main__:schedule_service:143 | Current traffic: 3.0 req/s
2026-02-11 00:37:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:37:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:37:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:37:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=100ms
2026-02-11 00:37:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:37:37 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:37:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:37:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:37:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:37:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:37:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:37:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5017ms (collection=5016ms, winner_det=1ms)
2026-02-11 00:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:37:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=3.0 req/s, derivative=0.0040, predicted=3.3 req/s (+300s)
2026-02-11 00:37:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.109, P=-0.22, D=-0.42, output=-0.64, delta=-1
2026-02-11 00:37:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=3.0, predicted=3.3 | base=1, PD=-1, constrained=True
2026-02-11 00:37:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:37:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.35s
2026-02-11 00:38:02 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10954 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:38:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 2
2026-02-11 00:38:02 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-11 00:38:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:38:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:38:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:38:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:38:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:38:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10954 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:38:03 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-11 00:38:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:38:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:38:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:38:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=99ms
2026-02-11 00:38:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:38:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:38:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:38:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:38:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:38:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:38:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:38:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:38:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5012ms (collection=5011ms, winner_det=1ms)
2026-02-11 00:38:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:38:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:38:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:38:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.7 req/s, derivative=0.0027, predicted=3.0 req/s (+300s)
2026-02-11 00:38:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.081, P=-0.16, D=0.13, output=-0.03, delta=0
2026-02-11 00:38:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.7, predicted=3.0 | base=1, PD=+0, constrained=True
2026-02-11 00:38:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:38:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:38:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 37400 bytes/s ‚Üí 9.4 req/s
2026-02-11 00:38:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 9.4 req/s | Replicas: 2
2026-02-11 00:38:33 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (9.4 < 10)
2026-02-11 00:38:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:38:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:38:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:38:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_9rps)
2026-02-11 00:38:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:38:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 37347 bytes/s ‚Üí 9.3 req/s
2026-02-11 00:38:33 | INFO     | __main__:schedule_service:143 | Current traffic: 9.3 req/s
2026-02-11 00:38:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:38:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:38:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:38:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.331, capacity=20, latency=118ms
2026-02-11 00:38:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:38:38 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:38:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:38:38 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:38:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:38:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:38:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.331)
2026-02-11 00:38:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5006ms (collection=5004ms, winner_det=2ms)
2026-02-11 00:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.331)
2026-02-11 00:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:38:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=9.3 req/s, derivative=0.0242, predicted=11.5 req/s (+300s)
2026-02-11 00:38:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.189, P=-0.38, D=-0.53, output=-0.91, delta=-1
2026-02-11 00:38:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=9.3, predicted=11.5 | base=1, PD=-1, constrained=True
2026-02-11 00:38:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:38:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 339759 bytes/s ‚Üí 84.9 req/s
2026-02-11 00:39:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 84.9 req/s | Replicas: 2
2026-02-11 00:39:03 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (84.9 > 30)
2026-02-11 00:39:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:39:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:39:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:39:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_85rps)
2026-02-11 00:39:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:39:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 339759 bytes/s ‚Üí 84.9 req/s
2026-02-11 00:39:03 | INFO     | __main__:schedule_service:143 | Current traffic: 84.9 req/s
2026-02-11 00:39:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:39:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:39:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:39:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.314, capacity=20, latency=99ms
2026-02-11 00:39:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:39:08 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:39:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:39:08 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:39:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:39:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:39:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.314)
2026-02-11 00:39:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5010ms (collection=5010ms, winner_det=0ms)
2026-02-11 00:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.314)
2026-02-11 00:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:39:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=84.9 req/s, derivative=0.2737, predicted=109.6 req/s (+300s)
2026-02-11 00:39:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=-0.18, output=-0.63, delta=-1
2026-02-11 00:39:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=84.9, predicted=109.6 | base=3, PD=-1, constrained=False
2026-02-11 00:39:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:39:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.32s
2026-02-11 00:39:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 58924 bytes/s ‚Üí 14.7 req/s
2026-02-11 00:39:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 14.7 req/s | Replicas: 2
2026-02-11 00:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10922 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:40:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 2
2026-02-11 00:40:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-11 00:40:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:40:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:40:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:40:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:40:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:40:04 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10922 bytes/s ‚Üí 2.7 req/s
2026-02-11 00:40:04 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-11 00:40:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:40:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:40:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:40:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=98ms
2026-02-11 00:40:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:40:09 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:40:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:40:09 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:40:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:40:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:40:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:40:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5011ms (collection=5011ms, winner_det=0ms)
2026-02-11 00:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:40:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.7 req/s, derivative=0.0004, predicted=2.8 req/s (+300s)
2026-02-11 00:40:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.012, P=-0.02, D=0.53, output=0.50, delta=1
2026-02-11 00:40:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.7, predicted=2.8 | base=1, PD=+1, constrained=False
2026-02-11 00:40:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:40:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.34s
2026-02-11 00:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9875 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:40:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.5 req/s | Replicas: 2
2026-02-11 00:40:34 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.5 < 10)
2026-02-11 00:40:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:40:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:40:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:40:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 00:40:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:40:34 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9875 bytes/s ‚Üí 2.5 req/s
2026-02-11 00:40:34 | INFO     | __main__:schedule_service:143 | Current traffic: 2.5 req/s
2026-02-11 00:40:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:40:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:40:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:40:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=103ms
2026-02-11 00:40:39 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster2 (>5s)
2026-02-11 00:40:39 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:40:39 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:40:39 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:40:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:40:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:40:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:40:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5016ms (collection=5015ms, winner_det=1ms)
2026-02-11 00:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:40:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.5 req/s, derivative=-0.0006, predicted=2.3 req/s (+300s)
2026-02-11 00:40:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.055, P=0.11, D=0.34, output=0.45, delta=0
2026-02-11 00:40:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.5, predicted=2.3 | base=1, PD=+0, constrained=True
2026-02-11 00:40:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:40:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.35s
2026-02-11 00:41:04 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11243 bytes/s ‚Üí 2.8 req/s
2026-02-11 00:41:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.8 req/s | Replicas: 2
2026-02-11 00:41:04 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.8 < 10)
2026-02-11 00:41:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:41:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:41:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:41:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:41:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:41:05 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11243 bytes/s ‚Üí 2.8 req/s
2026-02-11 00:41:05 | INFO     | __main__:schedule_service:143 | Current traffic: 2.8 req/s
2026-02-11 00:41:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:41:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:41:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:41:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=96ms
2026-02-11 00:41:07 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster2: HTTPConnectionPool(host='192.168.1.246', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.246', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:41:07 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster2
2026-02-11 00:41:10 | WARNING  | src.level1.dmos_scheduler:_query_estimator:118 | Timeout querying cluster3 (>5s)
2026-02-11 00:41:10 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:41:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 1/3 bids
2026-02-11 00:41:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 1 clusters
2026-02-11 00:41:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster1 (quota=100.0%, score=0.332)
2026-02-11 00:41:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 1 clusters
2026-02-11 00:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 5015ms (collection=5015ms, winner_det=0ms)
2026-02-11 00:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 1 clusters:
2026-02-11 00:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=2, quota=100.00%, score=0.332)
2026-02-11 00:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:41:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=2.8 req/s, derivative=0.0016, predicted=3.0 req/s (+300s)
2026-02-11 00:41:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.049, P=-0.10, D=-0.52, output=-0.61, delta=-1
2026-02-11 00:41:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=2.8, predicted=3.0 | base=1, PD=-1, constrained=True
2026-02-11 00:41:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:41:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 5.33s
2026-02-11 00:41:35 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12560 bytes/s ‚Üí 3.1 req/s
2026-02-11 00:41:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.1 req/s | Replicas: 2
2026-02-11 00:41:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.1 < 10)
2026-02-11 00:41:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:41:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:41:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:41:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:41:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:41:35 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12560 bytes/s ‚Üí 3.1 req/s
2026-02-11 00:41:35 | INFO     | __main__:schedule_service:143 | Current traffic: 3.1 req/s
2026-02-11 00:41:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:41:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:41:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:41:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=97ms
2026-02-11 00:41:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=97ms
2026-02-11 00:41:37 | ERROR    | src.level1.dmos_scheduler:_query_estimator:121 | Error querying cluster3: HTTPConnectionPool(host='192.168.1.247', port=30080): Max retries exceeded with url: /estimate (Caused by NewConnectionError("HTTPConnection(host='192.168.1.247', port=30080): Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione"))
2026-02-11 00:41:37 | WARNING  | src.level1.dmos_scheduler:collect_scores:172 | No response from cluster3
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 2/3 bids
2026-02-11 00:41:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 2 clusters
2026-02-11 00:41:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 00:41:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 00:41:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 2246ms (collection=2246ms, winner_det=0ms)
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 00:41:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:41:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.6 req/s, derivative=-0.0036, predicted=0.8 req/s (+300s)
2026-02-11 00:41:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.925, P=1.85, D=5.30, output=3.00, delta=3
2026-02-11 00:41:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=1.6, predicted=0.8 | base=1, PD=+3, constrained=False
2026-02-11 00:41:37 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-11 00:41:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 00:41:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.6 req/s, derivative=-0.0036, predicted=0.8 req/s (+300s)
2026-02-11 00:41:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.923, P=1.85, D=-0.89, output=0.96, delta=1
2026-02-11 00:41:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 2 (Œî=+1) | traffic: current=1.6, predicted=0.8 | base=1, PD=+1, constrained=False
2026-02-11 00:41:37 | INFO     | __main__:schedule_service:199 | cluster2: 1 ‚Üí 2 (Œî=+1)
2026-02-11 00:41:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-11 00:41:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 2.84s
2026-02-11 00:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 13136 bytes/s ‚Üí 3.3 req/s
2026-02-11 00:42:05 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.3 req/s | Replicas: 4
2026-02-11 00:42:05 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.3 < 10)
2026-02-11 00:42:05 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:42:05 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:42:05 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 13141 bytes/s ‚Üí 3.3 req/s
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:143 | Current traffic: 3.3 req/s
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.314, capacity=20, latency=98ms
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.321, capacity=19, latency=112ms
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.283, capacity=19, latency=112ms
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:42:05 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:42:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.321)
2026-02-11 00:42:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.314)
2026-02-11 00:42:05 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 117ms (collection=116ms, winner_det=1ms)
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.321)
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.314)
2026-02-11 00:42:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:42:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.6 req/s, derivative=-0.0016, predicted=1.3 req/s (+300s)
2026-02-11 00:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.264, P=0.53, D=-3.54, output=-3.00, delta=-3
2026-02-11 00:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=1.6, predicted=1.3 | base=1, PD=-3, constrained=True
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-11 00:42:05 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-11 00:42:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.6 req/s, derivative=-0.0016, predicted=1.3 req/s (+300s)
2026-02-11 00:42:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.264, P=0.53, D=-0.17, output=0.36, delta=0
2026-02-11 00:42:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.6, predicted=1.3 | base=1, PD=+0, constrained=True
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:42:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-11 00:42:35 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12148 bytes/s ‚Üí 3.0 req/s
2026-02-11 00:42:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.0 req/s | Replicas: 2
2026-02-11 00:42:35 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.0 < 10)
2026-02-11 00:42:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:42:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 00:42:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:42:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 00:42:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:42:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12148 bytes/s ‚Üí 3.0 req/s
2026-02-11 00:42:36 | INFO     | __main__:schedule_service:143 | Current traffic: 3.0 req/s
2026-02-11 00:42:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=97ms
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.294, capacity=20, latency=100ms
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.303, capacity=19, latency=101ms
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:42:36 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:42:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 00:42:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.303)
2026-02-11 00:42:36 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=105ms, winner_det=0ms)
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.303)
2026-02-11 00:42:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:42:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.0049, predicted=0.5 req/s (+300s)
2026-02-11 00:42:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.112, P=4.22, D=9.17, output=3.00, delta=3
2026-02-11 00:42:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=1.5, predicted=0.5 | base=1, PD=+3, constrained=False
2026-02-11 00:42:36 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-11 00:42:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 00:42:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.0049, predicted=0.5 req/s (+300s)
2026-02-11 00:42:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=2.110, P=4.22, D=-3.30, output=0.92, delta=1
2026-02-11 00:42:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.5 | base=1, PD=+1, constrained=False
2026-02-11 00:42:36 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:42:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-11 00:43:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 76174 bytes/s ‚Üí 19.0 req/s
2026-02-11 00:43:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 19.0 req/s | Replicas: 4
2026-02-11 00:43:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 342930 bytes/s ‚Üí 85.7 req/s
2026-02-11 00:43:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 85.7 req/s | Replicas: 4
2026-02-11 00:43:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (85.7 > 30)
2026-02-11 00:43:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:43:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_86rps)
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:43:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 342005 bytes/s ‚Üí 85.5 req/s
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:143 | Current traffic: 85.5 req/s
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.302, capacity=19, latency=100ms
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.285, capacity=19, latency=101ms
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.265, capacity=19, latency=99ms
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:43:36 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:43:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.302)
2026-02-11 00:43:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.285)
2026-02-11 00:43:36 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=101ms, winner_det=2ms)
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.302)
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.285)
2026-02-11 00:43:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:43:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.8 req/s, derivative=0.1120, predicted=52.8 req/s (+300s)
2026-02-11 00:43:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.191, P=-0.38, D=-5.70, output=-3.00, delta=-3
2026-02-11 00:43:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=42.8, predicted=52.8 | base=1, PD=-3, constrained=True
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-11 00:43:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-11 00:43:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=42.8 req/s, derivative=0.1120, predicted=52.8 req/s (+300s)
2026-02-11 00:43:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.191, P=-0.38, D=0.08, output=-0.30, delta=0
2026-02-11 00:43:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=42.8, predicted=52.8 | base=1, PD=+0, constrained=True
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:43:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-11 00:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 425619 bytes/s ‚Üí 106.4 req/s
2026-02-11 00:44:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 106.4 req/s | Replicas: 2
2026-02-11 00:44:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (106.4 > 30)
2026-02-11 00:44:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:44:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:44:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:44:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_106rps)
2026-02-11 00:44:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:44:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 427005 bytes/s ‚Üí 106.8 req/s
2026-02-11 00:44:06 | INFO     | __main__:schedule_service:143 | Current traffic: 106.8 req/s
2026-02-11 00:44:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:44:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:44:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.272, capacity=20, latency=95ms
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.309, capacity=20, latency=96ms
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.280, capacity=19, latency=99ms
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:44:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:44:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.309)
2026-02-11 00:44:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.280)
2026-02-11 00:44:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.309)
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.280)
2026-02-11 00:44:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:44:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.4 req/s, derivative=-0.1058, predicted=31.2 req/s (+300s)
2026-02-11 00:44:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.713, P=1.43, D=4.48, output=3.00, delta=3
2026-02-11 00:44:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=53.4, predicted=31.2 | base=1, PD=+3, constrained=False
2026-02-11 00:44:07 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 4 (Œî=+2)
2026-02-11 00:44:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 00:44:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.4 req/s, derivative=-0.1058, predicted=31.2 req/s (+300s)
2026-02-11 00:44:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.713, P=1.43, D=-0.61, output=0.81, delta=1
2026-02-11 00:44:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=53.4, predicted=31.2 | base=1, PD=+1, constrained=False
2026-02-11 00:44:07 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:44:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-11 00:44:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 347565 bytes/s ‚Üí 86.9 req/s
2026-02-11 00:44:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 86.9 req/s | Replicas: 4
2026-02-11 00:44:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (86.9 > 30)
2026-02-11 00:44:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:44:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_87rps)
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:44:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 346203 bytes/s ‚Üí 86.6 req/s
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:143 | Current traffic: 86.6 req/s
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.296, capacity=20, latency=104ms
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.302, capacity=19, latency=104ms
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.264, capacity=19, latency=127ms
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:44:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:44:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.302)
2026-02-11 00:44:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.296)
2026-02-11 00:44:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 132ms (collection=132ms, winner_det=0ms)
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.302)
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.296)
2026-02-11 00:44:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:44:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=-0.1268, predicted=16.7 req/s (+300s)
2026-02-11 00:44:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.599, P=3.20, D=4.40, output=3.00, delta=3
2026-02-11 00:44:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=43.3, predicted=16.7 | base=1, PD=+3, constrained=False
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 4 (Œî=+0)
2026-02-11 00:44:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=43.3 req/s, derivative=-0.1268, predicted=16.7 req/s (+300s)
2026-02-11 00:44:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.598, P=3.20, D=-1.90, output=1.30, delta=1
2026-02-11 00:44:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=43.3, predicted=16.7 | base=1, PD=+1, constrained=False
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:44:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-11 00:45:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 499591 bytes/s ‚Üí 124.9 req/s
2026-02-11 00:45:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 124.9 req/s | Replicas: 4
2026-02-11 00:45:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (124.9 > 30)
2026-02-11 00:45:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:45:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_125rps)
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:45:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 499591 bytes/s ‚Üí 124.9 req/s
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:143 | Current traffic: 124.9 req/s
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.277, capacity=19, latency=99ms
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.257, capacity=19, latency=99ms
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.295, capacity=19, latency=110ms
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:45:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:45:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.295)
2026-02-11 00:45:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.277)
2026-02-11 00:45:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 111ms (collection=110ms, winner_det=1ms)
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.295)
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.277)
2026-02-11 00:45:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:45:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.4 req/s, derivative=0.2002, predicted=80.5 req/s (+300s)
2026-02-11 00:45:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=-9.04, output=-3.00, delta=-3
2026-02-11 00:45:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 2 (Œî=-2) | traffic: current=62.4, predicted=80.5 | base=2, PD=-3, constrained=True
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 2 (Œî=-2)
2026-02-11 00:45:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-11 00:45:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.4 req/s, derivative=0.2001, predicted=80.5 req/s (+300s)
2026-02-11 00:45:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 00:45:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=62.4, predicted=80.5 | base=2, PD=+0, constrained=False
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:45:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.54s
2026-02-11 00:45:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 437717 bytes/s ‚Üí 109.4 req/s
2026-02-11 00:45:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 109.4 req/s | Replicas: 2
2026-02-11 00:45:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (109.4 > 30)
2026-02-11 00:45:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:45:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:45:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:45:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_109rps)
2026-02-11 00:45:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:45:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 436487 bytes/s ‚Üí 109.1 req/s
2026-02-11 00:45:37 | INFO     | __main__:schedule_service:143 | Current traffic: 109.1 req/s
2026-02-11 00:45:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:45:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:45:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.271, capacity=20, latency=98ms
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.280, capacity=19, latency=98ms
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.309, capacity=20, latency=109ms
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:45:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:45:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.309)
2026-02-11 00:45:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.280)
2026-02-11 00:45:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=110ms, winner_det=0ms)
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.309)
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.280)
2026-02-11 00:45:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:45:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.6 req/s, derivative=0.1746, predicted=70.3 req/s (+300s)
2026-02-11 00:45:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.00, output=-0.45, delta=0
2026-02-11 00:45:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=54.6, predicted=70.3 | base=2, PD=+0, constrained=False
2026-02-11 00:45:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:45:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.6 req/s, derivative=0.1746, predicted=70.3 req/s (+300s)
2026-02-11 00:45:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 00:45:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=54.6, predicted=70.3 | base=2, PD=+0, constrained=False
2026-02-11 00:45:38 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:45:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:46:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 433661 bytes/s ‚Üí 108.4 req/s
2026-02-11 00:46:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 108.4 req/s | Replicas: 2
2026-02-11 00:46:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (108.4 > 30)
2026-02-11 00:46:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:46:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_108rps)
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:46:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 433661 bytes/s ‚Üí 108.4 req/s
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:143 | Current traffic: 108.4 req/s
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.309, capacity=20, latency=99ms
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.271, capacity=20, latency=104ms
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.292, capacity=20, latency=105ms
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:46:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:46:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.309)
2026-02-11 00:46:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.292)
2026-02-11 00:46:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=106ms, winner_det=1ms)
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.309)
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.292)
2026-02-11 00:46:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:46:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.2 req/s, derivative=0.1723, predicted=69.7 req/s (+300s)
2026-02-11 00:46:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.222, P=-0.44, D=0.01, output=-0.44, delta=0
2026-02-11 00:46:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=54.2, predicted=69.7 | base=2, PD=+0, constrained=False
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:46:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.2 req/s, derivative=0.1723, predicted=69.7 req/s (+300s)
2026-02-11 00:46:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.222, P=-0.44, D=0.09, output=-0.36, delta=0
2026-02-11 00:46:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=54.2, predicted=69.7 | base=2, PD=+0, constrained=False
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:46:08 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-11 00:46:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 463222 bytes/s ‚Üí 115.8 req/s
2026-02-11 00:46:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 115.8 req/s | Replicas: 2
2026-02-11 00:46:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (115.8 > 30)
2026-02-11 00:46:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:46:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_116rps)
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:46:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 463222 bytes/s ‚Üí 115.8 req/s
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:143 | Current traffic: 115.8 req/s
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.308, capacity=20, latency=104ms
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.270, capacity=20, latency=103ms
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.290, capacity=20, latency=105ms
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:46:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:46:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.308)
2026-02-11 00:46:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.290)
2026-02-11 00:46:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 107ms (collection=106ms, winner_det=1ms)
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.308)
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.290)
2026-02-11 00:46:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:46:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=57.9 req/s, derivative=0.1872, predicted=74.8 req/s (+300s)
2026-02-11 00:46:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=-0.02, output=-0.47, delta=0
2026-02-11 00:46:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=57.9, predicted=74.8 | base=2, PD=+0, constrained=False
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:46:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=57.9 req/s, derivative=0.1872, predicted=74.8 req/s (+300s)
2026-02-11 00:46:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 00:46:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=57.9, predicted=74.8 | base=2, PD=+0, constrained=False
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:46:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.47s
2026-02-11 00:47:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 475496 bytes/s ‚Üí 118.9 req/s
2026-02-11 00:47:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 118.9 req/s | Replicas: 2
2026-02-11 00:47:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (118.9 > 30)
2026-02-11 00:47:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:47:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:47:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:47:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_119rps)
2026-02-11 00:47:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:47:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 475496 bytes/s ‚Üí 118.9 req/s
2026-02-11 00:47:08 | INFO     | __main__:schedule_service:143 | Current traffic: 118.9 req/s
2026-02-11 00:47:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:47:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:47:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.307, capacity=20, latency=100ms
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.270, capacity=20, latency=98ms
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.290, capacity=20, latency=100ms
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:47:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:47:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.307)
2026-02-11 00:47:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.290)
2026-02-11 00:47:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=101ms, winner_det=1ms)
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.307)
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.290)
2026-02-11 00:47:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:47:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=59.4 req/s, derivative=0.1907, predicted=76.6 req/s (+300s)
2026-02-11 00:47:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.01, output=-0.44, delta=0
2026-02-11 00:47:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=59.4, predicted=76.6 | base=2, PD=+0, constrained=False
2026-02-11 00:47:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:47:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=59.4 req/s, derivative=0.1906, predicted=76.6 req/s (+300s)
2026-02-11 00:47:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 00:47:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=59.4, predicted=76.6 | base=2, PD=+0, constrained=False
2026-02-11 00:47:09 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:47:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:47:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 467244 bytes/s ‚Üí 116.8 req/s
2026-02-11 00:47:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 116.8 req/s | Replicas: 2
2026-02-11 00:47:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (116.8 > 30)
2026-02-11 00:47:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:47:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:47:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:47:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_117rps)
2026-02-11 00:47:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:47:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 467244 bytes/s ‚Üí 116.8 req/s
2026-02-11 00:47:39 | INFO     | __main__:schedule_service:143 | Current traffic: 116.8 req/s
2026-02-11 00:47:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.308, capacity=20, latency=100ms
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.270, capacity=20, latency=100ms
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.290, capacity=20, latency=100ms
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:47:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:47:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.308)
2026-02-11 00:47:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.290)
2026-02-11 00:47:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=102ms, winner_det=1ms)
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.308)
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.290)
2026-02-11 00:47:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:47:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=58.4 req/s, derivative=0.1877, predicted=75.3 req/s (+300s)
2026-02-11 00:47:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=-0.00, output=-0.45, delta=0
2026-02-11 00:47:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=58.4, predicted=75.3 | base=2, PD=+0, constrained=False
2026-02-11 00:47:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:47:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=58.4 req/s, derivative=0.1876, predicted=75.3 req/s (+300s)
2026-02-11 00:47:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 00:47:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=58.4, predicted=75.3 | base=2, PD=+0, constrained=False
2026-02-11 00:47:39 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:47:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:48:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 366646 bytes/s ‚Üí 91.7 req/s
2026-02-11 00:48:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 91.7 req/s | Replicas: 2
2026-02-11 00:48:09 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (91.7 > 30)
2026-02-11 00:48:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:48:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_92rps)
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:48:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 364069 bytes/s ‚Üí 91.0 req/s
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:143 | Current traffic: 91.0 req/s
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.312, capacity=20, latency=99ms
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.275, capacity=20, latency=98ms
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.295, capacity=20, latency=98ms
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:48:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:48:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.312)
2026-02-11 00:48:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.295)
2026-02-11 00:48:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 103ms (collection=101ms, winner_det=2ms)
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.312)
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.295)
2026-02-11 00:48:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:48:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.5 req/s, derivative=0.0101, predicted=46.4 req/s (+300s)
2026-02-11 00:48:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.04, D=1.01, output=0.98, delta=1
2026-02-11 00:48:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.5, predicted=46.4 | base=1, PD=+1, constrained=False
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:48:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=45.5 req/s, derivative=0.0101, predicted=46.4 req/s (+300s)
2026-02-11 00:48:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.020, P=-0.04, D=0.01, output=-0.03, delta=0
2026-02-11 00:48:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=45.5, predicted=46.4 | base=1, PD=+0, constrained=True
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:48:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:48:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 410825 bytes/s ‚Üí 102.7 req/s
2026-02-11 00:48:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 102.7 req/s | Replicas: 2
2026-02-11 00:48:39 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (102.7 > 30)
2026-02-11 00:48:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 00:48:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:48:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:48:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_103rps)
2026-02-11 00:48:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:48:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 409386 bytes/s ‚Üí 102.3 req/s
2026-02-11 00:48:39 | INFO     | __main__:schedule_service:143 | Current traffic: 102.3 req/s
2026-02-11 00:48:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.310, capacity=20, latency=96ms
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.293, capacity=20, latency=101ms
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.273, capacity=20, latency=100ms
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:48:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:48:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.310)
2026-02-11 00:48:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.293)
2026-02-11 00:48:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=103ms, winner_det=1ms)
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.310)
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.293)
2026-02-11 00:48:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:48:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.2 req/s, derivative=0.0278, predicted=53.7 req/s (+300s)
2026-02-11 00:48:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.047, P=-0.09, D=-0.13, output=-0.23, delta=0
2026-02-11 00:48:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=51.2, predicted=53.7 | base=1, PD=+0, constrained=True
2026-02-11 00:48:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:48:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.2 req/s, derivative=0.0278, predicted=53.7 req/s (+300s)
2026-02-11 00:48:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.047, P=-0.09, D=0.02, output=-0.07, delta=0
2026-02-11 00:48:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=51.2, predicted=53.7 | base=1, PD=+0, constrained=True
2026-02-11 00:48:40 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:48:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:49:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 492820 bytes/s ‚Üí 123.2 req/s
2026-02-11 00:49:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 123.2 req/s | Replicas: 2
2026-02-11 00:49:09 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (123.2 > 30)
2026-02-11 00:49:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 00:49:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:49:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:49:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_123rps)
2026-02-11 00:49:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:49:10 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 492820 bytes/s ‚Üí 123.2 req/s
2026-02-11 00:49:10 | INFO     | __main__:schedule_service:143 | Current traffic: 123.2 req/s
2026-02-11 00:49:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.306, capacity=20, latency=106ms
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.289, capacity=20, latency=106ms
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.269, capacity=20, latency=112ms
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:49:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:49:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.306)
2026-02-11 00:49:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.289)
2026-02-11 00:49:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 116ms (collection=115ms, winner_det=1ms)
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.306)
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.289)
2026-02-11 00:49:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:49:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=61.6 req/s, derivative=0.0271, predicted=64.0 req/s (+300s)
2026-02-11 00:49:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.038, P=-0.08, D=0.04, output=-0.03, delta=0
2026-02-11 00:49:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=61.6, predicted=64.0 | base=1, PD=+0, constrained=True
2026-02-11 00:49:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:49:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=61.6 req/s, derivative=0.0271, predicted=64.0 req/s (+300s)
2026-02-11 00:49:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.038, P=-0.08, D=0.02, output=-0.06, delta=0
2026-02-11 00:49:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=61.6, predicted=64.0 | base=1, PD=+0, constrained=True
2026-02-11 00:49:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:49:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:49:40 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 481384 bytes/s ‚Üí 120.3 req/s
2026-02-11 00:49:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 120.3 req/s | Replicas: 2
2026-02-11 00:49:40 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (120.3 > 30)
2026-02-11 00:49:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 00:49:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_120rps)
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 00:49:40 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 481384 bytes/s ‚Üí 120.3 req/s
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:143 | Current traffic: 120.3 req/s
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.269, capacity=20, latency=96ms
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.289, capacity=20, latency=109ms
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.307, capacity=20, latency=109ms
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 00:49:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 00:49:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.307)
2026-02-11 00:49:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.289)
2026-02-11 00:49:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 112ms (collection=110ms, winner_det=1ms)
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.307)
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.289)
2026-02-11 00:49:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 00:49:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=60.2 req/s, derivative=0.0557, predicted=65.2 req/s (+300s)
2026-02-11 00:49:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.077, P=-0.15, D=-0.19, output=-0.35, delta=0
2026-02-11 00:49:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=60.2, predicted=65.2 | base=1, PD=+0, constrained=True
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:49:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=60.2 req/s, derivative=0.0557, predicted=65.2 req/s (+300s)
2026-02-11 00:49:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.077, P=-0.15, D=0.04, output=-0.12, delta=0
2026-02-11 00:49:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=60.2, predicted=65.2 | base=1, PD=+0, constrained=True
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 00:49:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.49s
2026-02-11 00:50:00 | INFO     | __main__:run:426 | 

Shutdown requested
2026-02-11 08:20:53 | INFO     | __main__:__init__:80 | Initializing DMOS Orchestrator...
2026-02-11 08:20:53 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 08:20:53 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 08:20:53 | INFO     | src.utils.config_loader:__init__:140 | Loading configuration from: config
2026-02-11 08:20:53 | INFO     | src.utils.config_loader:__init__:152 | Loaded 3 clusters, 5 services
2026-02-11 08:20:53 | INFO     | src.level1.dmos_scheduler:__init__:54 | DMOS Scheduler initialized with 3 clusters
2026-02-11 08:20:54 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster1
2026-02-11 08:20:54 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster2
2026-02-11 08:20:54 | INFO     | src.k8s.client:__init__:42 | ‚úÖ Initialized K8s client for cluster3
2026-02-11 08:20:54 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 08:20:54 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 08:20:54 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=15 req/s, replicas=[2, 20], safety=15.0%, max_delta=3
2026-02-11 08:20:54 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 08:20:54 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 08:20:54 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=100 req/s, replicas=[1, 15], safety=15.0%, max_delta=3
2026-02-11 08:20:54 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 08:20:54 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 08:20:54 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=80 req/s, replicas=[1, 12], safety=15.0%, max_delta=3
2026-02-11 08:20:54 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 08:20:54 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 08:20:54 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=30 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 08:20:54 | INFO     | src.level2.predictor:__init__:55 | Traffic predictor initialized: window=300s, horizon=300s
2026-02-11 08:20:54 | INFO     | src.level2.pd_controller:__init__:58 | PD Controller initialized: Kp=2.0, Kd=150.0, output=[-3.0, 3.0]
2026-02-11 08:20:54 | INFO     | src.level2.scaler:__init__:75 | Replica scaler initialized: capacity=60 req/s, replicas=[1, 10], safety=15.0%, max_delta=3
2026-02-11 08:20:55 | INFO     | __main__:__init__:117 | üìä Metrics server started on :9090/metrics
2026-02-11 08:20:55 | INFO     | __main__:__init__:118 | ‚úÖ Orchestrator initialized (3 workers)
2026-02-11 08:20:55 | INFO     | __main__:run:401 | ‚úÖ Webhook server started
2026-02-11 08:20:55 | INFO     | __main__:periodic_check_thread:236 | üîÑ Starting periodic traffic checker (30s interval)...
2026-02-11 08:20:55 | INFO     | __main__:run:407 | ‚úÖ Periodic traffic checker started
2026-02-11 08:20:55 | INFO     | __main__:periodic_check_thread:237 |    High threshold: 30 req/s
2026-02-11 08:20:55 | INFO     | __main__:periodic_check_thread:238 |    Low threshold: 10 req/s
2026-02-11 08:20:55 | INFO     | __main__:worker_thread:382 | üë∑ Worker 0 started
2026-02-11 08:20:55 | INFO     | __main__:worker_thread:382 | üë∑ Worker 1 started
2026-02-11 08:20:55 | INFO     | __main__:worker_thread:382 | üë∑ Worker 2 started
2026-02-11 08:20:55 | INFO     | __main__:run:413 | ‚úÖ 3 workers started
2026-02-11 08:20:55 | INFO     | __main__:run:415 | 
======================================================================
2026-02-11 08:20:55 | INFO     | __main__:run:416 | DMOS Orchestrator Running (Event-Driven + Polling)
2026-02-11 08:20:55 | INFO     | __main__:run:417 | Webhook: http://localhost:8081/webhook/alert
2026-02-11 08:20:55 | INFO     | __main__:run:418 | Metrics: http://localhost:9090/metrics
2026-02-11 08:20:55 | INFO     | __main__:webhook_server:378 | üåê Starting webhook server on :8081...
2026-02-11 08:20:55 | INFO     | __main__:run:419 | Polling: Every 30s
2026-02-11 08:20:55 | INFO     | __main__:run:420 | ======================================================================

2026-02-11 08:20:55 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11256 bytes/s ‚Üí 2.8 req/s
2026-02-11 08:20:55 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.8 req/s | Replicas: 2
2026-02-11 08:20:55 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.8 < 10)
2026-02-11 08:20:55 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:20:55 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:20:55 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:20:55 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:20:55 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:20:56 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11256 bytes/s ‚Üí 2.8 req/s
2026-02-11 08:20:56 | INFO     | __main__:schedule_service:143 | Current traffic: 2.8 req/s
2026-02-11 08:20:56 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=86ms
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=103ms
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=103ms
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:20:56 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:20:56 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:20:56 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:20:56 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=106ms, winner_det=1ms)
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:20:56 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:20:56 | WARNING  | src.level2.predictor:_compute_derivative:89 | Insufficient history for derivative
2026-02-11 08:20:56 | WARNING  | src.level2.predictor:predict:140 | No derivative, using current rate as prediction
2026-02-11 08:20:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:20:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.4, predicted=1.4 | base=1, PD=+0, constrained=True
2026-02-11 08:20:56 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:20:56 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.4 req/s, derivative=0.0000, predicted=1.4 req/s (+300s)
2026-02-11 08:20:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:20:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.4, predicted=1.4 | base=1, PD=+0, constrained=True
2026-02-11 08:20:56 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:20:56 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.59s
2026-02-11 08:21:26 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9784 bytes/s ‚Üí 2.4 req/s
2026-02-11 08:21:26 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.4 req/s | Replicas: 2
2026-02-11 08:21:26 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.4 < 10)
2026-02-11 08:21:26 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:21:26 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:21:26 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9784 bytes/s ‚Üí 2.4 req/s
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:143 | Current traffic: 2.4 req/s
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=84ms
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=85ms
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=83ms
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:21:26 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:21:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:21:26 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:21:26 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=87ms, winner_det=2ms)
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:21:26 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:21:26 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.2 req/s, derivative=-0.0061, predicted=0.0 req/s (+300s)
2026-02-11 08:21:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:21:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:21:26 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.2 req/s, derivative=-0.0061, predicted=0.0 req/s (+300s)
2026-02-11 08:21:26 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:21:26 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:21:26 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-11 08:21:56 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10746 bytes/s ‚Üí 2.7 req/s
2026-02-11 08:21:56 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.7 req/s | Replicas: 2
2026-02-11 08:21:56 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.7 < 10)
2026-02-11 08:21:56 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:21:56 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:21:56 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10745 bytes/s ‚Üí 2.7 req/s
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:143 | Current traffic: 2.7 req/s
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=84ms
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=84ms
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=94ms
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:21:56 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:21:56 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:21:56 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:21:56 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=97ms, winner_det=0ms)
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:21:56 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:21:56 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.0011, predicted=1.1 req/s (+300s)
2026-02-11 08:21:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.198, P=0.40, D=0.98, output=1.37, delta=1
2026-02-11 08:21:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.3, predicted=1.1 | base=1, PD=+1, constrained=False
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:21:56 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.0011, predicted=1.1 req/s (+300s)
2026-02-11 08:21:56 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.197, P=0.39, D=-0.59, output=-0.19, delta=0
2026-02-11 08:21:56 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.3, predicted=1.1 | base=1, PD=+0, constrained=True
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:21:56 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-11 08:22:26 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 112064 bytes/s ‚Üí 28.0 req/s
2026-02-11 08:22:26 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 28.0 req/s | Replicas: 2
2026-02-11 08:22:56 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 470041 bytes/s ‚Üí 117.5 req/s
2026-02-11 08:22:57 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 117.5 req/s | Replicas: 2
2026-02-11 08:22:57 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (117.5 > 30)
2026-02-11 08:22:57 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:22:57 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_118rps)
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:22:57 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 470041 bytes/s ‚Üí 117.5 req/s
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:143 | Current traffic: 117.5 req/s
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:151 | Total replicas needed: 9
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 9 replicas
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.290, capacity=20, latency=94ms
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.307, capacity=20, latency=106ms
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.270, capacity=20, latency=106ms
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:22:57 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 9 replicas among 3 clusters
2026-02-11 08:22:57 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster1 (quota=33.3%, score=0.307)
2026-02-11 08:22:57 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster2 (quota=33.3%, score=0.290)
2026-02-11 08:22:57 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster3 (quota=33.3%, score=0.270)
2026-02-11 08:22:57 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 9 replicas across 3 clusters
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=108ms, winner_det=1ms)
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 9 replicas across 3 clusters:
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=33.33%, score=0.307)
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=3, quota=33.33%, score=0.290)
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=3, quota=33.33%, score=0.270)
2026-02-11 08:22:57 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:22:57 | INFO     | src.level2.predictor:predict:166 | Prediction: current=39.2 req/s, derivative=0.3116, predicted=67.2 req/s (+300s)
2026-02-11 08:22:57 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.417, P=-0.83, D=-1.52, output=-2.36, delta=-2
2026-02-11 08:22:57 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 3 (Œî=+1) | traffic: current=39.2, predicted=67.2 | base=5, PD=-2, constrained=False
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 3 (Œî=+1)
2026-02-11 08:22:57 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-11 08:22:57 | INFO     | src.level2.predictor:predict:166 | Prediction: current=39.2 req/s, derivative=0.3114, predicted=67.2 req/s (+300s)
2026-02-11 08:22:57 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.417, P=-0.83, D=0.30, output=-0.53, delta=-1
2026-02-11 08:22:57 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 4 (Œî=+2) | traffic: current=39.2, predicted=67.2 | base=5, PD=-1, constrained=False
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 4 (Œî=+2)
2026-02-11 08:22:57 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-11 08:22:57 | INFO     | src.level2.predictor:predict:166 | Prediction: current=39.2 req/s, derivative=0.3109, predicted=67.1 req/s (+300s)
2026-02-11 08:22:57 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.417, P=-0.83, D=0.30, output=-0.53, delta=-1
2026-02-11 08:22:57 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 1 ‚Üí 4 (Œî=+3) | traffic: current=39.2, predicted=67.1 | base=5, PD=-1, constrained=False
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:199 | cluster3: 1 ‚Üí 4 (Œî=+3)
2026-02-11 08:22:57 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:22:57 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.74s
2026-02-11 08:23:27 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 663762 bytes/s ‚Üí 165.9 req/s
2026-02-11 08:23:27 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 165.9 req/s | Replicas: 3
2026-02-11 08:23:27 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (165.9 > 30)
2026-02-11 08:23:27 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:23:27 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_166rps)
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:23:27 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 661689 bytes/s ‚Üí 165.4 req/s
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:143 | Current traffic: 165.4 req/s
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.281, capacity=20, latency=94ms
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.299, capacity=20, latency=96ms
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.255, capacity=20, latency=98ms
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:23:27 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:23:27 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.299)
2026-02-11 08:23:27 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.281)
2026-02-11 08:23:27 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.255)
2026-02-11 08:23:27 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=100ms, winner_det=1ms)
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.299)
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.281)
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.255)
2026-02-11 08:23:27 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:23:27 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.6 req/s, derivative=0.4105, predicted=100.6 req/s (+300s)
2026-02-11 08:23:27 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.367, P=-0.73, D=0.25, output=-0.49, delta=0
2026-02-11 08:23:27 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 6 (Œî=+3) | traffic: current=63.6, predicted=100.6 | base=8, PD=+0, constrained=True
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 6 (Œî=+3)
2026-02-11 08:23:27 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 6 replicas
2026-02-11 08:23:27 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.9 req/s, derivative=0.3264, predicted=80.3 req/s (+300s)
2026-02-11 08:23:27 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.366, P=-0.73, D=2.13, output=1.40, delta=1
2026-02-11 08:23:27 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 7 (Œî=+3) | traffic: current=50.9, predicted=80.3 | base=6, PD=+1, constrained=False
2026-02-11 08:23:27 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 7 (Œî=+3)
2026-02-11 08:23:27 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:23:27 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.9 req/s, derivative=0.3262, predicted=80.3 req/s (+300s)
2026-02-11 08:23:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.366, P=-0.73, D=0.23, output=-0.50, delta=-1
2026-02-11 08:23:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=50.9, predicted=80.3 | base=6, PD=-1, constrained=False
2026-02-11 08:23:28 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:23:28 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:23:28 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.65s
2026-02-11 08:23:57 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 750099 bytes/s ‚Üí 187.5 req/s
2026-02-11 08:23:57 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.5 req/s | Replicas: 6
2026-02-11 08:23:57 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.5 > 30)
2026-02-11 08:23:57 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:23:57 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:23:57 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:23:57 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_188rps)
2026-02-11 08:23:57 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:23:57 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 750105 bytes/s ‚Üí 187.5 req/s
2026-02-11 08:23:57 | INFO     | __main__:schedule_service:143 | Current traffic: 187.5 req/s
2026-02-11 08:23:57 | INFO     | __main__:schedule_service:151 | Total replicas needed: 15
2026-02-11 08:23:57 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 15 replicas
2026-02-11 08:23:57 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.290, capacity=20, latency=91ms
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.236, capacity=17, latency=93ms
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.272, capacity=20, latency=110ms
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:23:58 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 15 replicas among 3 clusters
2026-02-11 08:23:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=33.3%, score=0.290)
2026-02-11 08:23:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=33.3%, score=0.272)
2026-02-11 08:23:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster3 (quota=33.3%, score=0.236)
2026-02-11 08:23:58 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 15 replicas across 3 clusters
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 113ms (collection=113ms, winner_det=0ms)
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 15 replicas across 3 clusters:
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=33.33%, score=0.290)
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=33.33%, score=0.272)
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=5, quota=33.33%, score=0.236)
2026-02-11 08:23:58 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:23:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.5 req/s, derivative=0.3360, predicted=92.7 req/s (+300s)
2026-02-11 08:23:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.326, P=-0.65, D=0.20, output=-0.45, delta=0
2026-02-11 08:23:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 7 (Œî=+1) | traffic: current=62.5, predicted=92.7 | base=7, PD=+0, constrained=False
2026-02-11 08:23:58 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 7 (Œî=+1)
2026-02-11 08:23:58 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 7 replicas
2026-02-11 08:23:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.5 req/s, derivative=0.3358, predicted=92.7 req/s (+300s)
2026-02-11 08:23:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.326, P=-0.65, D=0.18, output=-0.47, delta=0
2026-02-11 08:23:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=62.5, predicted=92.7 | base=7, PD=+0, constrained=False
2026-02-11 08:23:58 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:23:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.5 req/s, derivative=0.3357, predicted=92.7 req/s (+300s)
2026-02-11 08:23:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.326, P=-0.65, D=0.18, output=-0.47, delta=0
2026-02-11 08:23:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=62.5, predicted=92.7 | base=7, PD=+0, constrained=False
2026-02-11 08:23:58 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:23:58 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:23:58 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.64s
2026-02-11 08:24:27 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 650458 bytes/s ‚Üí 162.6 req/s
2026-02-11 08:24:27 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 162.6 req/s | Replicas: 7
2026-02-11 08:24:27 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (162.6 > 30)
2026-02-11 08:24:27 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:24:27 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:24:27 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:24:27 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_163rps)
2026-02-11 08:24:27 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:24:28 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 648611 bytes/s ‚Üí 162.2 req/s
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:143 | Current traffic: 162.2 req/s
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:151 | Total replicas needed: 12
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 12 replicas
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.273, capacity=16, latency=87ms
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.260, capacity=17, latency=86ms
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.235, capacity=16, latency=85ms
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:24:28 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 12 replicas among 3 clusters
2026-02-11 08:24:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=33.3%, score=0.273)
2026-02-11 08:24:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=33.3%, score=0.260)
2026-02-11 08:24:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=33.3%, score=0.235)
2026-02-11 08:24:28 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 12 replicas across 3 clusters
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 12 replicas across 3 clusters:
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=33.33%, score=0.273)
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=33.33%, score=0.260)
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=33.33%, score=0.235)
2026-02-11 08:24:28 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:24:28 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.1 req/s, derivative=0.2482, predicted=76.4 req/s (+300s)
2026-02-11 08:24:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.292, P=-0.58, D=0.17, output=-0.42, delta=0
2026-02-11 08:24:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=54.1, predicted=76.4 | base=6, PD=+0, constrained=False
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:199 | cluster1: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:24:28 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 6 replicas
2026-02-11 08:24:28 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.1 req/s, derivative=0.2481, predicted=76.4 req/s (+300s)
2026-02-11 08:24:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.292, P=-0.58, D=0.15, output=-0.44, delta=0
2026-02-11 08:24:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=54.1, predicted=76.4 | base=6, PD=+0, constrained=False
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:24:28 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 6 replicas
2026-02-11 08:24:28 | INFO     | src.level2.predictor:predict:166 | Prediction: current=54.1 req/s, derivative=0.2480, predicted=76.4 req/s (+300s)
2026-02-11 08:24:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.292, P=-0.58, D=0.15, output=-0.44, delta=0
2026-02-11 08:24:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=54.1, predicted=76.4 | base=6, PD=+0, constrained=False
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:24:28 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 6 replicas
2026-02-11 08:24:28 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.62s
2026-02-11 08:24:58 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 720864 bytes/s ‚Üí 180.2 req/s
2026-02-11 08:24:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 180.2 req/s | Replicas: 6
2026-02-11 08:24:58 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (180.2 > 30)
2026-02-11 08:24:58 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:24:58 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_180rps)
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:24:58 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 720864 bytes/s ‚Üí 180.2 req/s
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:143 | Current traffic: 180.2 req/s
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.275, capacity=17, latency=90ms
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.253, capacity=16, latency=90ms
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.237, capacity=17, latency=89ms
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:24:58 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:24:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.275)
2026-02-11 08:24:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.253)
2026-02-11 08:24:58 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.237)
2026-02-11 08:24:58 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=93ms, winner_det=0ms)
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.275)
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.253)
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.237)
2026-02-11 08:24:58 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:24:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.4 req/s, derivative=0.2597, predicted=87.7 req/s (+300s)
2026-02-11 08:24:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.266, P=-0.53, D=0.13, output=-0.40, delta=0
2026-02-11 08:24:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 7 (Œî=+1) | traffic: current=64.4, predicted=87.7 | base=7, PD=+0, constrained=False
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 7 (Œî=+1)
2026-02-11 08:24:58 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 7 replicas
2026-02-11 08:24:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.4 req/s, derivative=0.2596, predicted=87.7 req/s (+300s)
2026-02-11 08:24:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.266, P=-0.53, D=0.12, output=-0.41, delta=0
2026-02-11 08:24:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 7 (Œî=+1) | traffic: current=64.4, predicted=87.7 | base=7, PD=+0, constrained=False
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:199 | cluster2: 6 ‚Üí 7 (Œî=+1)
2026-02-11 08:24:58 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:24:58 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.5 req/s, derivative=0.2064, predicted=70.1 req/s (+300s)
2026-02-11 08:24:58 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.265, P=-0.53, D=1.89, output=1.36, delta=1
2026-02-11 08:24:58 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 6 (Œî=+0) | traffic: current=51.5, predicted=70.1 | base=5, PD=+1, constrained=False
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 6 (Œî=+0)
2026-02-11 08:24:58 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-11 08:25:28 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 666069 bytes/s ‚Üí 166.5 req/s
2026-02-11 08:25:28 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 166.5 req/s | Replicas: 7
2026-02-11 08:25:28 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (166.5 > 30)
2026-02-11 08:25:28 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:25:28 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_167rps)
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:25:28 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 664275 bytes/s ‚Üí 166.1 req/s
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:143 | Current traffic: 166.1 req/s
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.235, capacity=16, latency=86ms
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.260, capacity=17, latency=87ms
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.272, capacity=16, latency=99ms
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:25:28 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:25:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.272)
2026-02-11 08:25:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.260)
2026-02-11 08:25:28 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.235)
2026-02-11 08:25:28 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=101ms, winner_det=0ms)
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.272)
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.260)
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.235)
2026-02-11 08:25:28 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:25:28 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.9 req/s, derivative=0.2290, predicted=84.5 req/s (+300s)
2026-02-11 08:25:28 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.244, P=-0.49, D=0.11, output=-0.38, delta=0
2026-02-11 08:25:28 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=63.9, predicted=84.5 | base=6, PD=+0, constrained=False
2026-02-11 08:25:28 | INFO     | __main__:schedule_service:199 | cluster1: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:25:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 6 replicas
2026-02-11 08:25:29 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.1 req/s, derivative=0.1821, predicted=67.5 req/s (+300s)
2026-02-11 08:25:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.243, P=-0.49, D=1.85, output=1.36, delta=1
2026-02-11 08:25:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=51.1, predicted=67.5 | base=5, PD=+1, constrained=False
2026-02-11 08:25:29 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:25:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 6 replicas
2026-02-11 08:25:29 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.1 req/s, derivative=0.1821, predicted=67.5 req/s (+300s)
2026-02-11 08:25:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.243, P=-0.49, D=0.10, output=-0.38, delta=0
2026-02-11 08:25:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 5 (Œî=-1) | traffic: current=51.1, predicted=67.5 | base=5, PD=+0, constrained=False
2026-02-11 08:25:29 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 5 (Œî=-1)
2026-02-11 08:25:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:25:29 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.62s
2026-02-11 08:25:58 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 751354 bytes/s ‚Üí 187.8 req/s
2026-02-11 08:25:58 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.8 req/s | Replicas: 6
2026-02-11 08:25:58 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.8 > 30)
2026-02-11 08:25:58 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:25:58 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:25:58 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:25:58 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_188rps)
2026-02-11 08:25:58 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:25:59 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 751354 bytes/s ‚Üí 187.8 req/s
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:143 | Current traffic: 187.8 req/s
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:151 | Total replicas needed: 15
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 15 replicas
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.274, capacity=17, latency=94ms
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.236, capacity=17, latency=94ms
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.251, capacity=16, latency=94ms
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:25:59 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 15 replicas among 3 clusters
2026-02-11 08:25:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=33.3%, score=0.274)
2026-02-11 08:25:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=33.3%, score=0.251)
2026-02-11 08:25:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster3 (quota=33.3%, score=0.236)
2026-02-11 08:25:59 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 15 replicas across 3 clusters
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=96ms, winner_det=1ms)
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 15 replicas across 3 clusters:
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=33.33%, score=0.274)
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=33.33%, score=0.251)
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=5, quota=33.33%, score=0.236)
2026-02-11 08:25:59 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:25:59 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.6 req/s, derivative=0.2021, predicted=80.8 req/s (+300s)
2026-02-11 08:25:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 08:25:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 6 (Œî=+0) | traffic: current=62.6, predicted=80.8 | base=6, PD=+0, constrained=False
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 6 (Œî=+0)
2026-02-11 08:25:59 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.6 req/s, derivative=0.2021, predicted=80.8 req/s (+300s)
2026-02-11 08:25:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 08:25:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 6 (Œî=+0) | traffic: current=62.6, predicted=80.8 | base=6, PD=+0, constrained=False
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:199 | cluster2: 6 ‚Üí 6 (Œî=+0)
2026-02-11 08:25:59 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.6 req/s, derivative=0.2020, predicted=80.8 req/s (+300s)
2026-02-11 08:25:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 08:25:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 6 (Œî=+1) | traffic: current=62.6, predicted=80.8 | base=6, PD=+0, constrained=False
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 6 (Œî=+1)
2026-02-11 08:25:59 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 6 replicas
2026-02-11 08:25:59 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.52s
2026-02-11 08:26:29 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 677739 bytes/s ‚Üí 169.4 req/s
2026-02-11 08:26:29 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 169.4 req/s | Replicas: 6
2026-02-11 08:26:29 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (169.4 > 30)
2026-02-11 08:26:29 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:26:29 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_169rps)
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:26:29 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 679508 bytes/s ‚Üí 169.9 req/s
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:143 | Current traffic: 169.9 req/s
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.239, capacity=17, latency=108ms
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.259, capacity=17, latency=109ms
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.277, capacity=17, latency=109ms
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:26:29 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:26:29 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.277)
2026-02-11 08:26:29 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.259)
2026-02-11 08:26:29 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.239)
2026-02-11 08:26:29 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 112ms (collection=111ms, winner_det=1ms)
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.277)
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.259)
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.239)
2026-02-11 08:26:29 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:26:29 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.3 req/s, derivative=0.2116, predicted=84.4 req/s (+300s)
2026-02-11 08:26:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.226, P=-0.45, D=-0.00, output=-0.45, delta=0
2026-02-11 08:26:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 6 (Œî=+0) | traffic: current=65.3, predicted=84.4 | base=6, PD=+0, constrained=False
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 6 (Œî=+0)
2026-02-11 08:26:29 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.3 req/s, derivative=0.1684, predicted=67.4 req/s (+300s)
2026-02-11 08:26:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=2.87, output=2.42, delta=2
2026-02-11 08:26:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 7 (Œî=+1) | traffic: current=52.3, predicted=67.4 | base=5, PD=+2, constrained=False
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:199 | cluster2: 6 ‚Üí 7 (Œî=+1)
2026-02-11 08:26:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:26:29 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.3 req/s, derivative=0.1684, predicted=67.4 req/s (+300s)
2026-02-11 08:26:29 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 08:26:29 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 5 (Œî=-1) | traffic: current=52.3, predicted=67.4 | base=5, PD=+0, constrained=False
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 5 (Œî=-1)
2026-02-11 08:26:29 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:26:29 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.60s
2026-02-11 08:26:59 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 690097 bytes/s ‚Üí 172.5 req/s
2026-02-11 08:26:59 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 172.5 req/s | Replicas: 6
2026-02-11 08:26:59 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (172.5 > 30)
2026-02-11 08:26:59 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:26:59 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_173rps)
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:26:59 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 691898 bytes/s ‚Üí 173.0 req/s
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:143 | Current traffic: 173.0 req/s
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.276, capacity=17, latency=93ms
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.238, capacity=17, latency=92ms
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.258, capacity=17, latency=102ms
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:26:59 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:26:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.276)
2026-02-11 08:26:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.258)
2026-02-11 08:26:59 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.238)
2026-02-11 08:26:59 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 106ms (collection=104ms, winner_det=1ms)
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.276)
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.258)
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.238)
2026-02-11 08:26:59 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:26:59 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.5 req/s, derivative=0.2151, predicted=85.9 req/s (+300s)
2026-02-11 08:26:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.225, P=-0.45, D=-0.00, output=-0.45, delta=0
2026-02-11 08:26:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 7 (Œî=+1) | traffic: current=66.5, predicted=85.9 | base=7, PD=+0, constrained=False
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:199 | cluster1: 6 ‚Üí 7 (Œî=+1)
2026-02-11 08:26:59 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 7 replicas
2026-02-11 08:26:59 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.2 req/s, derivative=0.1711, predicted=68.6 req/s (+300s)
2026-02-11 08:26:59 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=1.39, output=0.94, delta=1
2026-02-11 08:26:59 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=53.2, predicted=68.6 | base=5, PD=+1, constrained=False
2026-02-11 08:26:59 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:26:59 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 6 replicas
2026-02-11 08:27:00 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.2 req/s, derivative=0.1711, predicted=68.6 req/s (+300s)
2026-02-11 08:27:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.224, P=-0.45, D=0.09, output=-0.36, delta=0
2026-02-11 08:27:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=53.2, predicted=68.6 | base=5, PD=+0, constrained=False
2026-02-11 08:27:00 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:27:00 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-11 08:27:29 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 611577 bytes/s ‚Üí 152.9 req/s
2026-02-11 08:27:29 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 152.9 req/s | Replicas: 7
2026-02-11 08:27:29 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (152.9 > 30)
2026-02-11 08:27:29 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:27:29 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:27:29 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:27:29 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_153rps)
2026-02-11 08:27:29 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:27:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 609747 bytes/s ‚Üí 152.4 req/s
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:143 | Current traffic: 152.4 req/s
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 12
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 12 replicas
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.237, capacity=16, latency=103ms
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.275, capacity=16, latency=105ms
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.262, capacity=17, latency=104ms
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:27:30 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 12 replicas among 3 clusters
2026-02-11 08:27:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=33.3%, score=0.275)
2026-02-11 08:27:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=33.3%, score=0.262)
2026-02-11 08:27:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=33.3%, score=0.237)
2026-02-11 08:27:30 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 12 replicas across 3 clusters
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=106ms, winner_det=1ms)
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 12 replicas across 3 clusters:
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=33.33%, score=0.275)
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=33.33%, score=0.262)
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=33.33%, score=0.237)
2026-02-11 08:27:30 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:27:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.8 req/s, derivative=0.0427, predicted=54.7 req/s (+300s)
2026-02-11 08:27:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.070, P=-0.14, D=0.77, output=0.62, delta=1
2026-02-11 08:27:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 5 (Œî=-2) | traffic: current=50.8, predicted=54.7 | base=4, PD=+1, constrained=False
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:199 | cluster1: 7 ‚Üí 5 (Œî=-2)
2026-02-11 08:27:30 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-11 08:27:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.8 req/s, derivative=0.0427, predicted=54.7 req/s (+300s)
2026-02-11 08:27:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.070, P=-0.14, D=0.04, output=-0.10, delta=0
2026-02-11 08:27:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 4 (Œî=-2) | traffic: current=50.8, predicted=54.7 | base=4, PD=+0, constrained=False
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:199 | cluster2: 6 ‚Üí 4 (Œî=-2)
2026-02-11 08:27:30 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-11 08:27:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.8 req/s, derivative=0.0426, predicted=54.7 req/s (+300s)
2026-02-11 08:27:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.070, P=-0.14, D=0.04, output=-0.10, delta=0
2026-02-11 08:27:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=50.8, predicted=54.7 | base=4, PD=+0, constrained=False
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 4 (Œî=-1)
2026-02-11 08:27:30 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:27:30 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.65s
2026-02-11 08:28:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 657052 bytes/s ‚Üí 164.3 req/s
2026-02-11 08:28:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 164.3 req/s | Replicas: 5
2026-02-11 08:28:00 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (164.3 > 30)
2026-02-11 08:28:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:28:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_164rps)
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:28:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 658890 bytes/s ‚Üí 164.7 req/s
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:143 | Current traffic: 164.7 req/s
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.282, capacity=18, latency=89ms
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.255, capacity=16, latency=87ms
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.245, capacity=18, latency=86ms
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:28:00 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:28:00 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.282)
2026-02-11 08:28:00 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.255)
2026-02-11 08:28:00 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.245)
2026-02-11 08:28:00 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=90ms, winner_det=2ms)
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.282)
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.255)
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.245)
2026-02-11 08:28:00 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:28:00 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.4 req/s, derivative=0.0799, predicted=70.5 req/s (+300s)
2026-02-11 08:28:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.102, P=-0.20, D=-0.16, output=-0.36, delta=0
2026-02-11 08:28:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=63.4, predicted=70.5 | base=5, PD=+0, constrained=False
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:28:00 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.7 req/s, derivative=0.0380, predicted=54.1 req/s (+300s)
2026-02-11 08:28:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.063, P=-0.13, D=130.13, output=3.00, delta=3
2026-02-11 08:28:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 7 (Œî=+3) | traffic: current=50.7, predicted=54.1 | base=4, PD=+3, constrained=False
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 7 (Œî=+3)
2026-02-11 08:28:00 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:28:00 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.7 req/s, derivative=0.0380, predicted=54.1 req/s (+300s)
2026-02-11 08:28:00 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.063, P=-0.13, D=0.03, output=-0.10, delta=0
2026-02-11 08:28:00 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=50.7, predicted=54.1 | base=4, PD=+0, constrained=False
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:28:00 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.50s
2026-02-11 08:28:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 674111 bytes/s ‚Üí 168.5 req/s
2026-02-11 08:28:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 168.5 req/s | Replicas: 5
2026-02-11 08:28:30 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (168.5 > 30)
2026-02-11 08:28:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:28:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_169rps)
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:28:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 672431 bytes/s ‚Üí 168.1 req/s
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:143 | Current traffic: 168.1 req/s
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.264, capacity=18, latency=129ms
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.244, capacity=18, latency=130ms
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.282, capacity=18, latency=132ms
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:28:30 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:28:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.282)
2026-02-11 08:28:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.264)
2026-02-11 08:28:30 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.244)
2026-02-11 08:28:30 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 136ms (collection=135ms, winner_det=1ms)
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.282)
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.264)
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.244)
2026-02-11 08:28:30 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:28:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.7 req/s, derivative=0.0454, predicted=68.7 req/s (+300s)
2026-02-11 08:28:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.059, P=-0.12, D=0.02, output=-0.10, delta=0
2026-02-11 08:28:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=64.7, predicted=68.7 | base=5, PD=+0, constrained=False
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:28:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.7 req/s, derivative=0.0027, predicted=52.0 req/s (+300s)
2026-02-11 08:28:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.005, P=-0.01, D=153.98, output=3.00, delta=3
2026-02-11 08:28:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=51.7, predicted=52.0 | base=4, PD=+3, constrained=False
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:28:30 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.7 req/s, derivative=0.0027, predicted=52.0 req/s (+300s)
2026-02-11 08:28:30 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.005, P=-0.01, D=0.00, output=-0.01, delta=0
2026-02-11 08:28:30 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=51.7, predicted=52.0 | base=4, PD=+0, constrained=False
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:28:30 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-11 08:29:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 744419 bytes/s ‚Üí 186.1 req/s
2026-02-11 08:29:00 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 186.1 req/s | Replicas: 5
2026-02-11 08:29:00 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (186.1 > 30)
2026-02-11 08:29:00 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:29:00 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:29:00 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:29:00 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_186rps)
2026-02-11 08:29:00 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:29:00 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 744419 bytes/s ‚Üí 186.1 req/s
2026-02-11 08:29:00 | INFO     | __main__:schedule_service:143 | Current traffic: 186.1 req/s
2026-02-11 08:29:00 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:29:00 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:29:00 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.279, capacity=18, latency=91ms
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.241, capacity=18, latency=94ms
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.261, capacity=18, latency=104ms
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:29:01 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:29:01 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.279)
2026-02-11 08:29:01 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.261)
2026-02-11 08:29:01 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.241)
2026-02-11 08:29:01 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 108ms (collection=108ms, winner_det=0ms)
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.279)
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.261)
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.241)
2026-02-11 08:29:01 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:29:01 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.5 req/s, derivative=0.0131, predicted=67.6 req/s (+300s)
2026-02-11 08:29:01 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.017, P=-0.03, D=-0.06, output=-0.10, delta=0
2026-02-11 08:29:01 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=66.5, predicted=67.6 | base=5, PD=+0, constrained=False
2026-02-11 08:29:01 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:29:01 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.5 req/s, derivative=0.0131, predicted=67.6 req/s (+300s)
2026-02-11 08:29:01 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.017, P=-0.03, D=0.01, output=-0.03, delta=0
2026-02-11 08:29:01 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 5 (Œî=-2) | traffic: current=66.5, predicted=67.6 | base=5, PD=+0, constrained=False
2026-02-11 08:29:01 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 5 (Œî=-2)
2026-02-11 08:29:01 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-11 08:29:01 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.2 req/s, derivative=-0.0308, predicted=46.7 req/s (+300s)
2026-02-11 08:29:01 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.139, P=0.28, D=255.99, output=3.00, delta=3
2026-02-11 08:29:01 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 7 (Œî=+3) | traffic: current=53.2, predicted=46.7 | base=4, PD=+3, constrained=False
2026-02-11 08:29:01 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 7 (Œî=+3)
2026-02-11 08:29:01 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:29:01 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.57s
2026-02-11 08:29:30 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 647745 bytes/s ‚Üí 161.9 req/s
2026-02-11 08:29:30 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 161.9 req/s | Replicas: 5
2026-02-11 08:29:30 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (161.9 > 30)
2026-02-11 08:29:30 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:29:30 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:29:30 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:29:30 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_162rps)
2026-02-11 08:29:30 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:29:31 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 645851 bytes/s ‚Üí 161.5 req/s
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:143 | Current traffic: 161.5 req/s
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:151 | Total replicas needed: 12
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 12 replicas
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.245, capacity=18, latency=93ms
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.265, capacity=18, latency=110ms
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.283, capacity=18, latency=110ms
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:29:31 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 12 replicas among 3 clusters
2026-02-11 08:29:31 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=33.3%, score=0.283)
2026-02-11 08:29:31 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=33.3%, score=0.265)
2026-02-11 08:29:31 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=33.3%, score=0.245)
2026-02-11 08:29:31 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 12 replicas across 3 clusters
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 114ms (collection=113ms, winner_det=1ms)
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 12 replicas across 3 clusters:
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=33.33%, score=0.283)
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=33.33%, score=0.265)
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=33.33%, score=0.245)
2026-02-11 08:29:31 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:29:31 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=-0.0008, predicted=53.7 req/s (+300s)
2026-02-11 08:29:31 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.003, P=0.01, D=-0.67, output=-0.67, delta=-1
2026-02-11 08:29:31 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 3 (Œî=-2) | traffic: current=53.8, predicted=53.7 | base=4, PD=-1, constrained=False
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 3 (Œî=-2)
2026-02-11 08:29:31 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-11 08:29:31 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=-0.0008, predicted=53.7 req/s (+300s)
2026-02-11 08:29:31 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.003, P=0.01, D=-0.00, output=0.00, delta=0
2026-02-11 08:29:31 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=53.8, predicted=53.7 | base=4, PD=+0, constrained=False
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 4 (Œî=-1)
2026-02-11 08:29:31 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-11 08:29:31 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=-0.0008, predicted=53.7 req/s (+300s)
2026-02-11 08:29:31 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.003, P=0.01, D=-0.00, output=0.00, delta=0
2026-02-11 08:29:31 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=53.8, predicted=53.7 | base=4, PD=+0, constrained=False
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 4 (Œî=-3)
2026-02-11 08:29:31 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:29:31 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.65s
2026-02-11 08:30:02 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 582649 bytes/s ‚Üí 145.7 req/s
2026-02-11 08:30:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 145.7 req/s | Replicas: 3
2026-02-11 08:30:02 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (145.7 > 30)
2026-02-11 08:30:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:30:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_146rps)
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:30:02 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 578851 bytes/s ‚Üí 144.7 req/s
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:143 | Current traffic: 144.7 req/s
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:151 | Total replicas needed: 11
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 11 replicas
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.297, capacity=20, latency=89ms
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.268, capacity=18, latency=90ms
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.259, capacity=20, latency=107ms
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:30:02 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 11 replicas among 3 clusters
2026-02-11 08:30:02 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=36.4%, score=0.297)
2026-02-11 08:30:02 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=36.4%, score=0.268)
2026-02-11 08:30:02 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster3 (quota=27.3%, score=0.259)
2026-02-11 08:30:02 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 11 replicas across 3 clusters
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=108ms, winner_det=1ms)
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 11 replicas across 3 clusters:
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=36.36%, score=0.297)
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=36.36%, score=0.268)
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=3, quota=27.27%, score=0.259)
2026-02-11 08:30:02 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.984
2026-02-11 08:30:02 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.6 req/s, derivative=0.0037, predicted=53.0 req/s (+300s)
2026-02-11 08:30:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.006, P=-0.01, D=-0.04, output=-0.06, delta=0
2026-02-11 08:30:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 4 (Œî=+1) | traffic: current=52.6, predicted=53.0 | base=4, PD=+0, constrained=False
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 4 (Œî=+1)
2026-02-11 08:30:02 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 08:30:02 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.6 req/s, derivative=0.0037, predicted=53.0 req/s (+300s)
2026-02-11 08:30:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.006, P=-0.01, D=0.00, output=-0.01, delta=0
2026-02-11 08:30:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=52.6, predicted=53.0 | base=4, PD=+0, constrained=False
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:30:02 | INFO     | src.level2.predictor:predict:166 | Prediction: current=39.5 req/s, derivative=-0.0396, predicted=31.2 req/s (+300s)
2026-02-11 08:30:02 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.267, P=0.53, D=945.11, output=3.00, delta=3
2026-02-11 08:30:02 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=39.5, predicted=31.2 | base=2, PD=+3, constrained=False
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:30:02 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:30:02 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-11 08:30:32 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 701747 bytes/s ‚Üí 175.4 req/s
2026-02-11 08:30:32 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 175.4 req/s | Replicas: 4
2026-02-11 08:30:32 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (175.4 > 30)
2026-02-11 08:30:32 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:30:32 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_175rps)
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:30:32 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 701766 bytes/s ‚Üí 175.4 req/s
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:143 | Current traffic: 175.4 req/s
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.286, capacity=19, latency=85ms
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.274, capacity=20, latency=85ms
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.248, capacity=19, latency=84ms
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:30:32 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:30:32 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.286)
2026-02-11 08:30:32 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.274)
2026-02-11 08:30:32 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.248)
2026-02-11 08:30:32 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.286)
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.274)
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.248)
2026-02-11 08:30:32 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:30:32 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0381, predicted=66.1 req/s (+300s)
2026-02-11 08:30:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=-1.59, output=-1.69, delta=-2
2026-02-11 08:30:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 3 (Œî=-1) | traffic: current=62.7, predicted=66.1 | base=5, PD=-2, constrained=False
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 3 (Œî=-1)
2026-02-11 08:30:32 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-11 08:30:32 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0380, predicted=66.1 req/s (+300s)
2026-02-11 08:30:32 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:30:32 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=62.7, predicted=66.1 | base=5, PD=+0, constrained=False
2026-02-11 08:30:32 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:30:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-11 08:30:33 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.1 req/s, derivative=-0.0032, predicted=49.5 req/s (+300s)
2026-02-11 08:30:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.014, P=0.03, D=121.61, output=3.00, delta=3
2026-02-11 08:30:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=50.1, predicted=49.5 | base=4, PD=+3, constrained=False
2026-02-11 08:30:33 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:30:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:30:33 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.58s
2026-02-11 08:31:02 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 729027 bytes/s ‚Üí 182.3 req/s
2026-02-11 08:31:02 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 182.3 req/s | Replicas: 3
2026-02-11 08:31:02 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (182.3 > 30)
2026-02-11 08:31:02 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:31:02 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:31:02 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:31:02 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_182rps)
2026-02-11 08:31:02 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:31:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 729026 bytes/s ‚Üí 182.3 req/s
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:143 | Current traffic: 182.3 req/s
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.290, capacity=20, latency=92ms
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.267, capacity=19, latency=92ms
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.253, capacity=20, latency=102ms
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:31:03 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:31:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.290)
2026-02-11 08:31:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.267)
2026-02-11 08:31:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.253)
2026-02-11 08:31:03 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=104ms, winner_det=1ms)
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.290)
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.267)
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.253)
2026-02-11 08:31:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:31:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.1 req/s, derivative=0.0082, predicted=65.8 req/s (+300s)
2026-02-11 08:31:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.02, D=-0.12, output=-0.14, delta=0
2026-02-11 08:31:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 5 (Œî=+2) | traffic: current=65.1, predicted=65.8 | base=5, PD=+0, constrained=False
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 5 (Œî=+2)
2026-02-11 08:31:03 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-11 08:31:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.1 req/s, derivative=0.0081, predicted=65.8 req/s (+300s)
2026-02-11 08:31:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.02, D=0.01, output=-0.02, delta=0
2026-02-11 08:31:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=65.1, predicted=65.8 | base=5, PD=+0, constrained=False
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:31:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.1 req/s, derivative=-0.0346, predicted=44.8 req/s (+300s)
2026-02-11 08:31:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.162, P=0.32, D=557.67, output=3.00, delta=3
2026-02-11 08:31:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 6 (Œî=-1) | traffic: current=52.1, predicted=44.8 | base=3, PD=+3, constrained=False
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 6 (Œî=-1)
2026-02-11 08:31:03 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 6 replicas
2026-02-11 08:31:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.86s
2026-02-11 08:31:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 666601 bytes/s ‚Üí 166.7 req/s
2026-02-11 08:31:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 166.7 req/s | Replicas: 5
2026-02-11 08:31:33 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (166.7 > 30)
2026-02-11 08:31:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:31:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_167rps)
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:31:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 664780 bytes/s ‚Üí 166.2 req/s
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:143 | Current traffic: 166.2 req/s
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.282, capacity=18, latency=90ms
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.275, capacity=20, latency=90ms
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.245, capacity=18, latency=89ms
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:31:33 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:31:33 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.282)
2026-02-11 08:31:33 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.275)
2026-02-11 08:31:33 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.245)
2026-02-11 08:31:33 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.282)
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.275)
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.245)
2026-02-11 08:31:33 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:31:33 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.9 req/s, derivative=0.0384, predicted=67.4 req/s (+300s)
2026-02-11 08:31:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.051, P=-0.10, D=-1.07, output=-1.17, delta=-1
2026-02-11 08:31:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=63.9, predicted=67.4 | base=5, PD=-1, constrained=False
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 4 (Œî=-1)
2026-02-11 08:31:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 08:31:33 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.1 req/s, derivative=-0.0037, predicted=50.4 req/s (+300s)
2026-02-11 08:31:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=114.77, output=3.00, delta=3
2026-02-11 08:31:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=51.1, predicted=50.4 | base=4, PD=+3, constrained=False
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:31:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:31:33 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.1 req/s, derivative=-0.0037, predicted=50.4 req/s (+300s)
2026-02-11 08:31:33 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-11 08:31:33 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 6 ‚Üí 4 (Œî=-2) | traffic: current=51.1, predicted=50.4 | base=4, PD=+0, constrained=False
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:199 | cluster3: 6 ‚Üí 4 (Œî=-2)
2026-02-11 08:31:33 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:31:33 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-11 08:32:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 678731 bytes/s ‚Üí 169.7 req/s
2026-02-11 08:32:03 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 169.7 req/s | Replicas: 4
2026-02-11 08:32:03 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (169.7 > 30)
2026-02-11 08:32:03 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:32:03 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_170rps)
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:32:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 676875 bytes/s ‚Üí 169.2 req/s
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:143 | Current traffic: 169.2 req/s
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.287, capacity=19, latency=84ms
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.264, capacity=18, latency=102ms
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.249, capacity=19, latency=101ms
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:32:03 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:32:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.287)
2026-02-11 08:32:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.264)
2026-02-11 08:32:03 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.249)
2026-02-11 08:32:03 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 105ms (collection=103ms, winner_det=1ms)
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.287)
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.264)
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.249)
2026-02-11 08:32:03 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:32:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.1 req/s, derivative=0.0390, predicted=68.6 req/s (+300s)
2026-02-11 08:32:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.051, P=-0.10, D=-0.33, output=-0.44, delta=0
2026-02-11 08:32:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=65.1, predicted=68.6 | base=5, PD=+0, constrained=False
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:32:03 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-11 08:32:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.1 req/s, derivative=-0.0038, predicted=51.3 req/s (+300s)
2026-02-11 08:32:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=110.52, output=3.00, delta=3
2026-02-11 08:32:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=52.1, predicted=51.3 | base=4, PD=+3, constrained=False
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:32:03 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.1 req/s, derivative=-0.0038, predicted=51.3 req/s (+300s)
2026-02-11 08:32:03 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=-0.01, output=0.02, delta=0
2026-02-11 08:32:03 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=52.1, predicted=51.3 | base=4, PD=+0, constrained=False
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:32:03 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-11 08:32:33 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 624333 bytes/s ‚Üí 156.1 req/s
2026-02-11 08:32:33 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 156.1 req/s | Replicas: 5
2026-02-11 08:32:33 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (156.1 > 30)
2026-02-11 08:32:33 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:32:33 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:32:33 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:32:33 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_156rps)
2026-02-11 08:32:33 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:32:34 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 624477 bytes/s ‚Üí 156.1 req/s
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:143 | Current traffic: 156.1 req/s
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 12
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 12 replicas
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.246, capacity=18, latency=90ms
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.284, capacity=18, latency=92ms
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.272, capacity=19, latency=112ms
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:32:34 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 12 replicas among 3 clusters
2026-02-11 08:32:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=33.3%, score=0.284)
2026-02-11 08:32:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=33.3%, score=0.272)
2026-02-11 08:32:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=33.3%, score=0.246)
2026-02-11 08:32:34 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 12 replicas across 3 clusters
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 115ms (collection=114ms, winner_det=1ms)
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 12 replicas across 3 clusters:
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=33.33%, score=0.284)
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=33.33%, score=0.272)
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=33.33%, score=0.246)
2026-02-11 08:32:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:32:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.0040, predicted=52.4 req/s (+300s)
2026-02-11 08:32:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.007, P=-0.01, D=-0.11, output=-0.13, delta=0
2026-02-11 08:32:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=52.0, predicted=52.4 | base=4, PD=+0, constrained=False
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 4 (Œî=-1)
2026-02-11 08:32:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 4 replicas
2026-02-11 08:32:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.0040, predicted=52.4 req/s (+300s)
2026-02-11 08:32:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.007, P=-0.01, D=0.00, output=-0.01, delta=0
2026-02-11 08:32:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=52.0, predicted=52.4 | base=4, PD=+0, constrained=False
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 4 (Œî=-3)
2026-02-11 08:32:34 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-11 08:32:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=0.0040, predicted=52.4 req/s (+300s)
2026-02-11 08:32:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.007, P=-0.01, D=0.00, output=-0.01, delta=0
2026-02-11 08:32:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=52.0, predicted=52.4 | base=4, PD=+0, constrained=False
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:32:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.64s
2026-02-11 08:33:03 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 668592 bytes/s ‚Üí 167.1 req/s
2026-02-11 08:33:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 167.1 req/s | Replicas: 4
2026-02-11 08:33:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (167.1 > 30)
2026-02-11 08:33:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:33:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_167rps)
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:33:04 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 738000 bytes/s ‚Üí 184.5 req/s
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:143 | Current traffic: 184.5 req/s
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.284, capacity=19, latency=93ms
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.247, capacity=19, latency=95ms
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.262, capacity=18, latency=109ms
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:33:04 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:33:04 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.284)
2026-02-11 08:33:04 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.262)
2026-02-11 08:33:04 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.247)
2026-02-11 08:33:04 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=110ms, winner_det=0ms)
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.284)
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.262)
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.247)
2026-02-11 08:33:04 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:33:04 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.9 req/s, derivative=0.0501, predicted=70.4 req/s (+300s)
2026-02-11 08:33:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.064, P=-0.13, D=-0.28, output=-0.41, delta=0
2026-02-11 08:33:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=65.9, predicted=70.4 | base=5, PD=+0, constrained=False
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:199 | cluster1: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:33:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-11 08:33:04 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.9 req/s, derivative=0.0500, predicted=70.4 req/s (+300s)
2026-02-11 08:33:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.064, P=-0.13, D=0.03, output=-0.10, delta=0
2026-02-11 08:33:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=65.9, predicted=70.4 | base=5, PD=+0, constrained=False
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:33:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-11 08:33:04 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.7 req/s, derivative=0.0067, predicted=53.3 req/s (+300s)
2026-02-11 08:33:04 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.011, P=-0.02, D=75.93, output=3.00, delta=3
2026-02-11 08:33:04 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 7 (Œî=+3) | traffic: current=52.7, predicted=53.3 | base=4, PD=+3, constrained=False
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 7 (Œî=+3)
2026-02-11 08:33:04 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:33:04 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.64s
2026-02-11 08:33:34 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 725627 bytes/s ‚Üí 181.4 req/s
2026-02-11 08:33:34 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 181.4 req/s | Replicas: 5
2026-02-11 08:33:34 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (181.4 > 30)
2026-02-11 08:33:34 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:33:34 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_181rps)
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:33:34 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 725629 bytes/s ‚Üí 181.4 req/s
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:143 | Current traffic: 181.4 req/s
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.280, capacity=18, latency=96ms
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.267, capacity=19, latency=96ms
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.242, capacity=18, latency=95ms
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:33:34 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:33:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.280)
2026-02-11 08:33:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.267)
2026-02-11 08:33:34 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.242)
2026-02-11 08:33:34 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 100ms (collection=98ms, winner_det=2ms)
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.280)
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.267)
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.242)
2026-02-11 08:33:34 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:33:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.8 req/s, derivative=0.0430, predicted=68.7 req/s (+300s)
2026-02-11 08:33:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.056, P=-0.11, D=-0.22, output=-0.34, delta=0
2026-02-11 08:33:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=64.8, predicted=68.7 | base=5, PD=+0, constrained=False
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:33:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.8 req/s, derivative=0.0430, predicted=68.7 req/s (+300s)
2026-02-11 08:33:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.056, P=-0.11, D=0.03, output=-0.09, delta=0
2026-02-11 08:33:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=64.8, predicted=68.7 | base=5, PD=+0, constrained=False
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:33:34 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.8 req/s, derivative=0.0003, predicted=51.9 req/s (+300s)
2026-02-11 08:33:34 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.001, P=-0.00, D=157.15, output=3.00, delta=3
2026-02-11 08:33:34 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=51.8, predicted=51.9 | base=4, PD=+3, constrained=False
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:33:34 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-11 08:34:04 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 728353 bytes/s ‚Üí 182.1 req/s
2026-02-11 08:34:04 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 182.1 req/s | Replicas: 5
2026-02-11 08:34:04 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (182.1 > 30)
2026-02-11 08:34:04 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:34:04 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:34:04 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:34:04 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_182rps)
2026-02-11 08:34:04 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:34:05 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 728248 bytes/s ‚Üí 182.1 req/s
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:143 | Current traffic: 182.1 req/s
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.280, capacity=18, latency=106ms
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.262, capacity=18, latency=106ms
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.242, capacity=18, latency=104ms
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:34:05 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:34:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.280)
2026-02-11 08:34:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.262)
2026-02-11 08:34:05 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.242)
2026-02-11 08:34:05 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=108ms, winner_det=1ms)
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.280)
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.262)
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.242)
2026-02-11 08:34:05 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:34:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.0 req/s, derivative=0.0390, predicted=68.5 req/s (+300s)
2026-02-11 08:34:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.051, P=-0.10, D=-0.25, output=-0.35, delta=0
2026-02-11 08:34:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=65.0, predicted=68.5 | base=5, PD=+0, constrained=False
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:34:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=65.0 req/s, derivative=0.0390, predicted=68.5 req/s (+300s)
2026-02-11 08:34:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.051, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:34:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=65.0, predicted=68.5 | base=5, PD=+0, constrained=False
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:34:05 | INFO     | src.level2.predictor:predict:166 | Prediction: current=52.0 req/s, derivative=-0.0038, predicted=51.2 req/s (+300s)
2026-02-11 08:34:05 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.016, P=0.03, D=219.03, output=3.00, delta=3
2026-02-11 08:34:05 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=52.0, predicted=51.2 | base=4, PD=+3, constrained=False
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:34:05 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-11 08:34:35 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 659186 bytes/s ‚Üí 164.8 req/s
2026-02-11 08:34:35 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 164.8 req/s | Replicas: 5
2026-02-11 08:34:35 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (164.8 > 30)
2026-02-11 08:34:35 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:34:35 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:34:35 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:34:35 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_165rps)
2026-02-11 08:34:35 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:34:35 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 663429 bytes/s ‚Üí 165.9 req/s
2026-02-11 08:34:35 | INFO     | __main__:schedule_service:143 | Current traffic: 165.9 req/s
2026-02-11 08:34:35 | INFO     | __main__:schedule_service:151 | Total replicas needed: 13
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 13 replicas
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.245, capacity=18, latency=97ms
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.282, capacity=18, latency=98ms
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.265, capacity=18, latency=97ms
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:34:35 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 13 replicas among 3 clusters
2026-02-11 08:34:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=38.5%, score=0.282)
2026-02-11 08:34:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=30.8%, score=0.265)
2026-02-11 08:34:35 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=30.8%, score=0.245)
2026-02-11 08:34:35 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 13 replicas across 3 clusters
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=100ms, winner_det=2ms)
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 13 replicas across 3 clusters:
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=38.46%, score=0.282)
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=30.77%, score=0.265)
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=30.77%, score=0.245)
2026-02-11 08:34:35 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.988
2026-02-11 08:34:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.8 req/s, derivative=0.0327, predicted=66.7 req/s (+300s)
2026-02-11 08:34:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.044, P=-0.09, D=-0.29, output=-0.38, delta=0
2026-02-11 08:34:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=63.8, predicted=66.7 | base=5, PD=+0, constrained=False
2026-02-11 08:34:36 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:34:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.0 req/s, derivative=-0.0092, predicted=49.1 req/s (+300s)
2026-02-11 08:34:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.039, P=0.08, D=255.79, output=3.00, delta=3
2026-02-11 08:34:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=51.0, predicted=49.1 | base=4, PD=+3, constrained=False
2026-02-11 08:34:36 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:34:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 7 replicas
2026-02-11 08:34:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.0 req/s, derivative=-0.0092, predicted=49.1 req/s (+300s)
2026-02-11 08:34:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.039, P=0.08, D=-0.02, output=0.06, delta=0
2026-02-11 08:34:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=51.0, predicted=49.1 | base=4, PD=+0, constrained=False
2026-02-11 08:34:36 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 4 (Œî=-3)
2026-02-11 08:34:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:34:36 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-11 08:35:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 647483 bytes/s ‚Üí 161.9 req/s
2026-02-11 08:35:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 161.9 req/s | Replicas: 5
2026-02-11 08:35:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (161.9 > 30)
2026-02-11 08:35:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:35:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_162rps)
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:35:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 645728 bytes/s ‚Üí 161.4 req/s
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:143 | Current traffic: 161.4 req/s
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:151 | Total replicas needed: 12
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 12 replicas
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.283, capacity=18, latency=88ms
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.245, capacity=18, latency=94ms
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.265, capacity=18, latency=95ms
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:35:06 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 12 replicas among 3 clusters
2026-02-11 08:35:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster1 (quota=33.3%, score=0.283)
2026-02-11 08:35:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster2 (quota=33.3%, score=0.265)
2026-02-11 08:35:06 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=33.3%, score=0.245)
2026-02-11 08:35:06 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 12 replicas across 3 clusters
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 97ms (collection=96ms, winner_det=1ms)
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 12 replicas across 3 clusters:
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=4, quota=33.33%, score=0.283)
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=4, quota=33.33%, score=0.265)
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=33.33%, score=0.245)
2026-02-11 08:35:06 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:35:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=0.0472, predicted=58.1 req/s (+300s)
2026-02-11 08:35:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.073, P=-0.15, D=-0.55, output=-0.70, delta=-1
2026-02-11 08:35:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 3 (Œî=-2) | traffic: current=53.8, predicted=58.1 | base=4, PD=-1, constrained=False
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 3 (Œî=-2)
2026-02-11 08:35:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 3 replicas
2026-02-11 08:35:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=0.0472, predicted=58.1 req/s (+300s)
2026-02-11 08:35:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.073, P=-0.15, D=0.03, output=-0.11, delta=0
2026-02-11 08:35:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 4 (Œî=-3) | traffic: current=53.8, predicted=58.1 | base=4, PD=+0, constrained=False
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:199 | cluster2: 7 ‚Üí 4 (Œî=-3)
2026-02-11 08:35:06 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 4 replicas
2026-02-11 08:35:06 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.8 req/s, derivative=0.0472, predicted=58.1 req/s (+300s)
2026-02-11 08:35:06 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.073, P=-0.15, D=0.03, output=-0.11, delta=0
2026-02-11 08:35:06 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 4 (Œî=+0) | traffic: current=53.8, predicted=58.1 | base=4, PD=+0, constrained=False
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 4 (Œî=+0)
2026-02-11 08:35:06 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.56s
2026-02-11 08:35:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 752582 bytes/s ‚Üí 188.1 req/s
2026-02-11 08:35:36 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 188.1 req/s | Replicas: 3
2026-02-11 08:35:36 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (188.1 > 30)
2026-02-11 08:35:36 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:35:36 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_188rps)
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:35:36 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 752580 bytes/s ‚Üí 188.1 req/s
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:143 | Current traffic: 188.1 req/s
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:151 | Total replicas needed: 15
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 15 replicas
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.289, capacity=20, latency=112ms
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.252, capacity=20, latency=113ms
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.272, capacity=20, latency=114ms
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:35:36 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 15 replicas among 3 clusters
2026-02-11 08:35:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=33.3%, score=0.289)
2026-02-11 08:35:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=33.3%, score=0.272)
2026-02-11 08:35:36 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster3 (quota=33.3%, score=0.252)
2026-02-11 08:35:36 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 15 replicas across 3 clusters
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 122ms (collection=121ms, winner_det=1ms)
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 15 replicas across 3 clusters:
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=33.33%, score=0.289)
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=33.33%, score=0.272)
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=5, quota=33.33%, score=0.252)
2026-02-11 08:35:36 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:35:36 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0414, predicted=66.4 req/s (+300s)
2026-02-11 08:35:36 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.056, P=-0.11, D=0.08, output=-0.03, delta=0
2026-02-11 08:35:36 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 5 (Œî=+2) | traffic: current=62.7, predicted=66.4 | base=5, PD=+0, constrained=False
2026-02-11 08:35:36 | INFO     | __main__:schedule_service:199 | cluster1: 3 ‚Üí 5 (Œî=+2)
2026-02-11 08:35:36 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 5 replicas
2026-02-11 08:35:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0414, predicted=66.4 req/s (+300s)
2026-02-11 08:35:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.056, P=-0.11, D=0.03, output=-0.09, delta=0
2026-02-11 08:35:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=62.7, predicted=66.4 | base=5, PD=+0, constrained=False
2026-02-11 08:35:37 | INFO     | __main__:schedule_service:199 | cluster2: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:35:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 5 replicas
2026-02-11 08:35:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0414, predicted=66.4 req/s (+300s)
2026-02-11 08:35:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.056, P=-0.11, D=0.03, output=-0.09, delta=0
2026-02-11 08:35:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 4 ‚Üí 5 (Œî=+1) | traffic: current=62.7, predicted=66.4 | base=5, PD=+0, constrained=False
2026-02-11 08:35:37 | INFO     | __main__:schedule_service:199 | cluster3: 4 ‚Üí 5 (Œî=+1)
2026-02-11 08:35:37 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:35:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.70s
2026-02-11 08:36:06 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 745016 bytes/s ‚Üí 186.3 req/s
2026-02-11 08:36:06 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 186.3 req/s | Replicas: 5
2026-02-11 08:36:06 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (186.3 > 30)
2026-02-11 08:36:06 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:36:06 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:36:06 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:36:06 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_186rps)
2026-02-11 08:36:06 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:36:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 745017 bytes/s ‚Üí 186.3 req/s
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:143 | Current traffic: 186.3 req/s
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.279, capacity=18, latency=99ms
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.241, capacity=18, latency=98ms
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.261, capacity=18, latency=98ms
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:36:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:36:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.279)
2026-02-11 08:36:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.261)
2026-02-11 08:36:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.241)
2026-02-11 08:36:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 102ms (collection=101ms, winner_det=1ms)
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.279)
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.261)
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.241)
2026-02-11 08:36:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:36:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.5 req/s, derivative=0.0476, predicted=70.8 req/s (+300s)
2026-02-11 08:36:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.060, P=-0.12, D=-0.02, output=-0.14, delta=0
2026-02-11 08:36:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=66.5, predicted=70.8 | base=5, PD=+0, constrained=False
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:36:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.5 req/s, derivative=0.0476, predicted=70.8 req/s (+300s)
2026-02-11 08:36:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.060, P=-0.12, D=0.03, output=-0.09, delta=0
2026-02-11 08:36:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=66.5, predicted=70.8 | base=5, PD=+0, constrained=False
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:36:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.2 req/s, derivative=0.0038, predicted=53.6 req/s (+300s)
2026-02-11 08:36:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.006, P=-0.01, D=186.08, output=3.00, delta=3
2026-02-11 08:36:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=53.2, predicted=53.6 | base=4, PD=+3, constrained=False
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:36:07 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:36:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.55s
2026-02-11 08:36:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 748460 bytes/s ‚Üí 187.1 req/s
2026-02-11 08:36:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 187.1 req/s | Replicas: 5
2026-02-11 08:36:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (187.1 > 30)
2026-02-11 08:36:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:36:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_187rps)
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:36:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 701402 bytes/s ‚Üí 175.4 req/s
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:143 | Current traffic: 175.4 req/s
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.281, capacity=18, latency=87ms
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.263, capacity=18, latency=87ms
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.243, capacity=18, latency=87ms
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:36:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:36:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.281)
2026-02-11 08:36:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.263)
2026-02-11 08:36:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.243)
2026-02-11 08:36:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 91ms (collection=89ms, winner_det=1ms)
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.281)
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.263)
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.243)
2026-02-11 08:36:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:36:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.6 req/s, derivative=0.0378, predicted=66.0 req/s (+300s)
2026-02-11 08:36:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=-0.22, output=-0.33, delta=0
2026-02-11 08:36:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=62.6, predicted=66.0 | base=5, PD=+0, constrained=False
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:36:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.6 req/s, derivative=0.0378, predicted=66.0 req/s (+300s)
2026-02-11 08:36:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:36:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=62.6, predicted=66.0 | base=5, PD=+0, constrained=False
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:36:37 | INFO     | src.level2.predictor:predict:166 | Prediction: current=50.1 req/s, derivative=-0.0034, predicted=49.4 req/s (+300s)
2026-02-11 08:36:37 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.015, P=0.03, D=204.84, output=3.00, delta=3
2026-02-11 08:36:37 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=50.1, predicted=49.4 | base=4, PD=+3, constrained=False
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:36:37 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-11 08:37:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 747069 bytes/s ‚Üí 186.8 req/s
2026-02-11 08:37:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 186.8 req/s | Replicas: 5
2026-02-11 08:37:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (186.8 > 30)
2026-02-11 08:37:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:37:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_187rps)
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:37:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 747069 bytes/s ‚Üí 186.8 req/s
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:143 | Current traffic: 186.8 req/s
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.279, capacity=18, latency=104ms
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.241, capacity=18, latency=101ms
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.261, capacity=18, latency=103ms
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:37:07 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:37:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.279)
2026-02-11 08:37:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.261)
2026-02-11 08:37:07 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.241)
2026-02-11 08:37:07 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 109ms (collection=107ms, winner_det=2ms)
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.279)
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.261)
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.241)
2026-02-11 08:37:07 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:37:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.7 req/s, derivative=0.0482, predicted=71.0 req/s (+300s)
2026-02-11 08:37:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.061, P=-0.12, D=-0.37, output=-0.50, delta=0
2026-02-11 08:37:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=66.7, predicted=71.0 | base=5, PD=+0, constrained=False
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:37:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=66.7 req/s, derivative=0.0482, predicted=71.0 req/s (+300s)
2026-02-11 08:37:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.061, P=-0.12, D=0.03, output=-0.09, delta=0
2026-02-11 08:37:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=66.7, predicted=71.0 | base=5, PD=+0, constrained=False
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:37:07 | INFO     | src.level2.predictor:predict:166 | Prediction: current=53.4 req/s, derivative=0.0043, predicted=53.7 req/s (+300s)
2026-02-11 08:37:07 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.007, P=-0.01, D=163.31, output=3.00, delta=3
2026-02-11 08:37:07 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 7 (Œî=+0) | traffic: current=53.4, predicted=53.7 | base=4, PD=+3, constrained=False
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 7 (Œî=+0)
2026-02-11 08:37:07 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.53s
2026-02-11 08:37:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 751817 bytes/s ‚Üí 188.0 req/s
2026-02-11 08:37:37 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 188.0 req/s | Replicas: 5
2026-02-11 08:37:37 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (188.0 > 30)
2026-02-11 08:37:37 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:37:37 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:37:37 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:37:37 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_188rps)
2026-02-11 08:37:37 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:37:37 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 751818 bytes/s ‚Üí 188.0 req/s
2026-02-11 08:37:37 | INFO     | __main__:schedule_service:143 | Current traffic: 188.0 req/s
2026-02-11 08:37:37 | INFO     | __main__:schedule_service:151 | Total replicas needed: 15
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 15 replicas
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.279, capacity=18, latency=86ms
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.261, capacity=18, latency=92ms
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.241, capacity=18, latency=89ms
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:37:37 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 15 replicas among 3 clusters
2026-02-11 08:37:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=33.3%, score=0.279)
2026-02-11 08:37:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=33.3%, score=0.261)
2026-02-11 08:37:37 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster3 (quota=33.3%, score=0.241)
2026-02-11 08:37:37 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 15 replicas across 3 clusters
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 93ms (collection=93ms, winner_det=0ms)
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 15 replicas across 3 clusters:
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=33.33%, score=0.279)
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=33.33%, score=0.261)
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=5, quota=33.33%, score=0.241)
2026-02-11 08:37:37 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:37:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0349, predicted=65.8 req/s (+300s)
2026-02-11 08:37:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.048, P=-0.10, D=-0.20, output=-0.30, delta=0
2026-02-11 08:37:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=62.7, predicted=65.8 | base=5, PD=+0, constrained=False
2026-02-11 08:37:38 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:37:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0349, predicted=65.8 req/s (+300s)
2026-02-11 08:37:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.048, P=-0.10, D=0.02, output=-0.07, delta=0
2026-02-11 08:37:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=62.7, predicted=65.8 | base=5, PD=+0, constrained=False
2026-02-11 08:37:38 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:37:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=62.7 req/s, derivative=0.0349, predicted=65.8 req/s (+300s)
2026-02-11 08:37:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.048, P=-0.10, D=0.02, output=-0.07, delta=0
2026-02-11 08:37:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 5 (Œî=-2) | traffic: current=62.7, predicted=65.8 | base=5, PD=+0, constrained=False
2026-02-11 08:37:38 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 5 (Œî=-2)
2026-02-11 08:37:38 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:37:38 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.51s
2026-02-11 08:38:07 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 726008 bytes/s ‚Üí 181.5 req/s
2026-02-11 08:38:07 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 181.5 req/s | Replicas: 5
2026-02-11 08:38:07 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (181.5 > 30)
2026-02-11 08:38:07 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:38:07 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:38:07 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:38:07 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_182rps)
2026-02-11 08:38:07 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:38:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 726007 bytes/s ‚Üí 181.5 req/s
2026-02-11 08:38:08 | INFO     | __main__:schedule_service:143 | Current traffic: 181.5 req/s
2026-02-11 08:38:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 14
2026-02-11 08:38:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 14 replicas
2026-02-11 08:38:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.242, capacity=18, latency=1105ms
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.262, capacity=18, latency=1107ms
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.280, capacity=18, latency=1107ms
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:38:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 14 replicas among 3 clusters
2026-02-11 08:38:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=35.7%, score=0.280)
2026-02-11 08:38:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=35.7%, score=0.262)
2026-02-11 08:38:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 4 replicas to cluster3 (quota=28.6%, score=0.242)
2026-02-11 08:38:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 14 replicas across 3 clusters
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 1109ms (collection=1108ms, winner_det=1ms)
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 14 replicas across 3 clusters:
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=35.71%, score=0.280)
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=35.71%, score=0.262)
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=4, quota=28.57%, score=0.242)
2026-02-11 08:38:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.990
2026-02-11 08:38:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.8 req/s, derivative=0.0397, predicted=68.4 req/s (+300s)
2026-02-11 08:38:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=-0.02, output=-0.13, delta=0
2026-02-11 08:38:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=64.8, predicted=68.4 | base=5, PD=+0, constrained=False
2026-02-11 08:38:09 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:38:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=64.8 req/s, derivative=0.0397, predicted=68.4 req/s (+300s)
2026-02-11 08:38:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:38:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=64.8, predicted=68.4 | base=5, PD=+0, constrained=False
2026-02-11 08:38:09 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:38:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=51.9 req/s, derivative=-0.0028, predicted=51.3 req/s (+300s)
2026-02-11 08:38:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.012, P=0.02, D=211.50, output=3.00, delta=3
2026-02-11 08:38:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 7 (Œî=+2) | traffic: current=51.9, predicted=51.3 | base=4, PD=+3, constrained=False
2026-02-11 08:38:09 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 7 (Œî=+2)
2026-02-11 08:38:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 7 replicas
2026-02-11 08:38:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 1.54s
2026-02-11 08:38:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 761780 bytes/s ‚Üí 190.4 req/s
2026-02-11 08:38:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 190.4 req/s | Replicas: 5
2026-02-11 08:38:38 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (190.4 > 30)
2026-02-11 08:38:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:38:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_190rps)
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:38:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 761780 bytes/s ‚Üí 190.4 req/s
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:143 | Current traffic: 190.4 req/s
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:151 | Total replicas needed: 15
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 15 replicas
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.278, capacity=18, latency=89ms
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.261, capacity=18, latency=90ms
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.241, capacity=18, latency=91ms
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:38:38 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 15 replicas among 3 clusters
2026-02-11 08:38:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster1 (quota=33.3%, score=0.278)
2026-02-11 08:38:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster2 (quota=33.3%, score=0.261)
2026-02-11 08:38:38 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 5 replicas to cluster3 (quota=33.3%, score=0.241)
2026-02-11 08:38:38 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 15 replicas across 3 clusters
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=93ms, winner_det=1ms)
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 15 replicas across 3 clusters:
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=5, quota=33.33%, score=0.278)
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=5, quota=33.33%, score=0.261)
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=5, quota=33.33%, score=0.241)
2026-02-11 08:38:38 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:38:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.5 req/s, derivative=0.0384, predicted=66.9 req/s (+300s)
2026-02-11 08:38:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=-0.32, output=-0.43, delta=0
2026-02-11 08:38:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=63.5, predicted=66.9 | base=5, PD=+0, constrained=False
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:38:38 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.5 req/s, derivative=0.0383, predicted=66.9 req/s (+300s)
2026-02-11 08:38:38 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:38:38 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=63.5, predicted=66.9 | base=5, PD=+0, constrained=False
2026-02-11 08:38:38 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:38:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=63.5 req/s, derivative=0.0383, predicted=66.9 req/s (+300s)
2026-02-11 08:38:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=-0.052, P=-0.10, D=0.02, output=-0.08, delta=0
2026-02-11 08:38:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 7 ‚Üí 5 (Œî=-2) | traffic: current=63.5, predicted=66.9 | base=5, PD=+0, constrained=False
2026-02-11 08:38:39 | INFO     | __main__:schedule_service:199 | cluster3: 7 ‚Üí 5 (Œî=-2)
2026-02-11 08:38:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 5 replicas
2026-02-11 08:38:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.86s
2026-02-11 08:39:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 445862 bytes/s ‚Üí 111.5 req/s
2026-02-11 08:39:08 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 111.5 req/s | Replicas: 5
2026-02-11 08:39:08 | INFO     | __main__:periodic_check_thread:280 | ‚ö†Ô∏è  frontend HIGH traffic (111.5 > 30)
2026-02-11 08:39:08 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:39:08 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_up frontend
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_high_111rps)
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:39:08 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 444551 bytes/s ‚Üí 111.1 req/s
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:143 | Current traffic: 111.1 req/s
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:151 | Total replicas needed: 8
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 8 replicas
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.292, capacity=18, latency=87ms
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.274, capacity=18, latency=87ms
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.254, capacity=18, latency=87ms
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:39:08 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 8 replicas among 3 clusters
2026-02-11 08:39:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster1 (quota=37.5%, score=0.292)
2026-02-11 08:39:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 3 replicas to cluster2 (quota=37.5%, score=0.274)
2026-02-11 08:39:08 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 2 replicas to cluster3 (quota=25.0%, score=0.254)
2026-02-11 08:39:08 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 8 replicas across 3 clusters
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 89ms (collection=89ms, winner_det=0ms)
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 8 replicas across 3 clusters:
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=3, quota=37.50%, score=0.292)
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=3, quota=37.50%, score=0.274)
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster3, replicas=2, quota=25.00%, score=0.254)
2026-02-11 08:39:08 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 0.970
2026-02-11 08:39:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=41.7 req/s, derivative=-0.0341, predicted=34.5 req/s (+300s)
2026-02-11 08:39:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.207, P=0.41, D=1.30, output=1.71, delta=2
2026-02-11 08:39:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 5 (Œî=+0) | traffic: current=41.7, predicted=34.5 | base=3, PD=+2, constrained=False
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 5 (Œî=+0)
2026-02-11 08:39:08 | INFO     | src.level2.predictor:predict:166 | Prediction: current=41.7 req/s, derivative=-0.0341, predicted=34.5 req/s (+300s)
2026-02-11 08:39:08 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.207, P=0.41, D=-0.12, output=0.29, delta=0
2026-02-11 08:39:08 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 3 (Œî=-2) | traffic: current=41.7, predicted=34.5 | base=3, PD=+0, constrained=False
2026-02-11 08:39:08 | INFO     | __main__:schedule_service:199 | cluster2: 5 ‚Üí 3 (Œî=-2)
2026-02-11 08:39:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 3 replicas
2026-02-11 08:39:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=27.8 req/s, derivative=-0.0798, predicted=11.0 req/s (+300s)
2026-02-11 08:39:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=1.520, P=3.04, D=1376.71, output=3.00, delta=3
2026-02-11 08:39:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 4 (Œî=-1) | traffic: current=27.8, predicted=11.0 | base=1, PD=+3, constrained=False
2026-02-11 08:39:09 | INFO     | __main__:schedule_service:199 | cluster3: 5 ‚Üí 4 (Œî=-1)
2026-02-11 08:39:09 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster3/frontend ‚Üí 4 replicas
2026-02-11 08:39:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.63s
2026-02-11 08:39:38 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10599 bytes/s ‚Üí 2.6 req/s
2026-02-11 08:39:38 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.6 req/s | Replicas: 5
2026-02-11 08:39:38 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.6 < 10)
2026-02-11 08:39:38 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:39:38 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:39:38 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:39:38 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:39:38 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:39:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10599 bytes/s ‚Üí 2.6 req/s
2026-02-11 08:39:39 | INFO     | __main__:schedule_service:143 | Current traffic: 2.6 req/s
2026-02-11 08:39:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.315, capacity=18, latency=86ms
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.278, capacity=18, latency=85ms
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.298, capacity=18, latency=87ms
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:39:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:39:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.315)
2026-02-11 08:39:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.298)
2026-02-11 08:39:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 90ms (collection=89ms, winner_det=1ms)
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.298)
2026-02-11 08:39:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:39:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.1641, predicted=0.0 req/s (+300s)
2026-02-11 08:39:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=-7.58, output=-3.00, delta=-3
2026-02-11 08:39:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 5 ‚Üí 2 (Œî=-3) | traffic: current=1.3, predicted=0.0 | base=1, PD=-3, constrained=True
2026-02-11 08:39:39 | INFO     | __main__:schedule_service:199 | cluster1: 5 ‚Üí 2 (Œî=-3)
2026-02-11 08:39:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster1/frontend ‚Üí 2 replicas
2026-02-11 08:39:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.1640, predicted=0.0 req/s (+300s)
2026-02-11 08:39:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:39:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 3 ‚Üí 2 (Œî=-1) | traffic: current=1.3, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:39:39 | INFO     | __main__:schedule_service:199 | cluster2: 3 ‚Üí 2 (Œî=-1)
2026-02-11 08:39:39 | INFO     | src.k8s.client:scale_deployment:160 | ‚úÖ Scaled cluster2/frontend ‚Üí 2 replicas
2026-02-11 08:39:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.48s
2026-02-11 08:40:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12176 bytes/s ‚Üí 3.0 req/s
2026-02-11 08:40:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.0 req/s | Replicas: 2
2026-02-11 08:40:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.0 < 10)
2026-02-11 08:40:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:40:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:40:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12174 bytes/s ‚Üí 3.0 req/s
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:143 | Current traffic: 3.0 req/s
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=92ms
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=91ms
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.294, capacity=20, latency=102ms
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:40:09 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:40:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:40:09 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:40:09 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 104ms (collection=104ms, winner_det=0ms)
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:40:09 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:40:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.1727, predicted=0.0 req/s (+300s)
2026-02-11 08:40:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:40:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:40:09 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.1727, predicted=0.0 req/s (+300s)
2026-02-11 08:40:09 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:40:09 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:40:09 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-11 08:40:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9413 bytes/s ‚Üí 2.4 req/s
2026-02-11 08:40:39 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.4 req/s | Replicas: 2
2026-02-11 08:40:39 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.4 < 10)
2026-02-11 08:40:39 | INFO     | __main__:worker_thread:387 | üë∑ Worker 1: frontend
2026-02-11 08:40:39 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:40:39 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 9359 bytes/s ‚Üí 2.3 req/s
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:143 | Current traffic: 2.3 req/s
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=91ms
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=86ms
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=91ms
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:40:39 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:40:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:40:39 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:40:39 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 94ms (collection=92ms, winner_det=1ms)
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:40:39 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:40:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.2 req/s, derivative=-0.2033, predicted=0.0 req/s (+300s)
2026-02-11 08:40:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:40:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:40:39 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.2 req/s, derivative=-0.2033, predicted=0.0 req/s (+300s)
2026-02-11 08:40:39 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:40:39 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.2, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:40:39 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
2026-02-11 08:41:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11353 bytes/s ‚Üí 2.8 req/s
2026-02-11 08:41:09 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.8 req/s | Replicas: 2
2026-02-11 08:41:09 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.8 < 10)
2026-02-11 08:41:09 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:41:09 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:41:09 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:41:09 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:41:09 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:41:09 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11350 bytes/s ‚Üí 2.8 req/s
2026-02-11 08:41:09 | INFO     | __main__:schedule_service:143 | Current traffic: 2.8 req/s
2026-02-11 08:41:09 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:41:09 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:41:09 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=97ms
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=97ms
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=109ms
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:41:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:41:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:41:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:41:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=110ms, winner_det=0ms)
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:41:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:41:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.4 req/s, derivative=-0.1710, predicted=0.0 req/s (+300s)
2026-02-11 08:41:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:41:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.4, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:41:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:41:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.4 req/s, derivative=-0.1710, predicted=0.0 req/s (+300s)
2026-02-11 08:41:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:41:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.4, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:41:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:41:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.45s
2026-02-11 08:41:40 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 7940 bytes/s ‚Üí 2.0 req/s
2026-02-11 08:41:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.0 req/s | Replicas: 2
2026-02-11 08:41:40 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.0 < 10)
2026-02-11 08:41:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:41:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_2rps)
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:41:40 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 7855 bytes/s ‚Üí 2.0 req/s
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:143 | Current traffic: 2.0 req/s
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=85ms
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=107ms
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=107ms
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:41:40 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:41:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:41:40 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:41:40 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 110ms (collection=109ms, winner_det=1ms)
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:41:40 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:41:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.0 req/s, derivative=-0.1621, predicted=0.0 req/s (+300s)
2026-02-11 08:41:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:41:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.0, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:41:40 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.0 req/s, derivative=-0.1620, predicted=0.0 req/s (+300s)
2026-02-11 08:41:40 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:41:40 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.0, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:41:40 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.43s
2026-02-11 08:42:10 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10538 bytes/s ‚Üí 2.6 req/s
2026-02-11 08:42:10 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.6 req/s | Replicas: 2
2026-02-11 08:42:10 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.6 < 10)
2026-02-11 08:42:10 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:42:10 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:42:10 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 10538 bytes/s ‚Üí 2.6 req/s
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:143 | Current traffic: 2.6 req/s
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=85ms
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=87ms
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.295, capacity=20, latency=98ms
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:42:10 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:42:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:42:10 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:42:10 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 101ms (collection=99ms, winner_det=1ms)
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:42:10 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:42:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.1718, predicted=0.0 req/s (+300s)
2026-02-11 08:42:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:42:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.3, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:42:10 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.3 req/s, derivative=-0.1717, predicted=0.0 req/s (+300s)
2026-02-11 08:42:10 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:42:10 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.3, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:42:10 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.41s
2026-02-11 08:42:40 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12012 bytes/s ‚Üí 3.0 req/s
2026-02-11 08:42:40 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 3.0 req/s | Replicas: 2
2026-02-11 08:42:40 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (3.0 < 10)
2026-02-11 08:42:40 | INFO     | __main__:worker_thread:387 | üë∑ Worker 0: frontend
2026-02-11 08:42:40 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:42:40 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:42:40 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:42:40 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:42:41 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 12012 bytes/s ‚Üí 3.0 req/s
2026-02-11 08:42:41 | INFO     | __main__:schedule_service:143 | Current traffic: 3.0 req/s
2026-02-11 08:42:41 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=88ms
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.294, capacity=20, latency=90ms
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=111ms
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:42:41 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:42:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:42:41 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:42:41 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 116ms (collection=114ms, winner_det=1ms)
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:42:41 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:42:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.2017, predicted=0.0 req/s (+300s)
2026-02-11 08:42:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:42:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:42:41 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:42:41 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.2017, predicted=0.0 req/s (+300s)
2026-02-11 08:42:41 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:42:41 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:42:41 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:42:41 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.44s
2026-02-11 08:43:11 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11718 bytes/s ‚Üí 2.9 req/s
2026-02-11 08:43:11 | INFO     | __main__:periodic_check_thread:276 | üìä frontend: 2.9 req/s | Replicas: 2
2026-02-11 08:43:11 | INFO     | __main__:periodic_check_thread:292 | ‚ÑπÔ∏è  frontend LOW traffic (2.9 < 10)
2026-02-11 08:43:11 | INFO     | __main__:worker_thread:387 | üë∑ Worker 2: frontend
2026-02-11 08:43:11 | INFO     | __main__:process_event:225 | üîÑ Processing: scale_down frontend
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:129 | 
======================================================================
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:130 | Scheduling frontend (reason: traffic_low_3rps)
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:131 | ======================================================================
2026-02-11 08:43:11 | INFO     | src.metrics.prometheus_client:get_request_rate:192 | ‚úÖ Traffic from network: 11718 bytes/s ‚Üí 2.9 req/s
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:143 | Current traffic: 2.9 req/s
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:151 | Total replicas needed: 2
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:198 | Scheduling service 'frontend' with 2 replicas
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:collect_scores:139 | Collecting scores for service 'frontend' from all clusters...
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster3: score=0.294, capacity=20, latency=84ms
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster2: score=0.315, capacity=20, latency=86ms
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:_query_estimator:112 | Query cluster1: score=0.332, capacity=20, latency=87ms
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:collect_scores:177 | Collected 3/3 bids
2026-02-11 08:43:11 | INFO     | src.level1.winner_determination:allocate:60 | Allocating 2 replicas among 3 clusters
2026-02-11 08:43:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster1 (quota=50.0%, score=0.332)
2026-02-11 08:43:11 | INFO     | src.level1.winner_determination:allocate:103 |   Allocated 1 replicas to cluster2 (quota=50.0%, score=0.315)
2026-02-11 08:43:11 | INFO     | src.level1.winner_determination:allocate:109 | ‚úÖ Successfully allocated all 2 replicas across 2 clusters
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:215 | Scheduling completed in 88ms (collection=88ms, winner_det=0ms)
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:220 | ‚úÖ Allocated 2 replicas across 2 clusters:
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster1, replicas=1, quota=50.00%, score=0.332)
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:222 |    Allocation(cluster2, replicas=1, quota=50.00%, score=0.315)
2026-02-11 08:43:11 | INFO     | src.level1.dmos_scheduler:schedule_service:226 |    Jain fairness index: 1.000
2026-02-11 08:43:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.1668, predicted=0.0 req/s (+300s)
2026-02-11 08:43:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:43:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:199 | cluster1: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:43:11 | INFO     | src.level2.predictor:predict:166 | Prediction: current=1.5 req/s, derivative=-0.1668, predicted=0.0 req/s (+300s)
2026-02-11 08:43:11 | INFO     | src.level2.pd_controller:compute:107 | PD control: error=0.000, P=0.00, D=0.00, output=0.00, delta=0
2026-02-11 08:43:11 | INFO     | src.level2.scaler:compute_target_replicas:145 | Scaling decision: 2 ‚Üí 2 (Œî=+0) | traffic: current=1.5, predicted=0.0 | base=1, PD=+0, constrained=True
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:199 | cluster2: 2 ‚Üí 2 (Œî=+0)
2026-02-11 08:43:11 | INFO     | __main__:schedule_service:218 | Scheduling completed in 0.42s
